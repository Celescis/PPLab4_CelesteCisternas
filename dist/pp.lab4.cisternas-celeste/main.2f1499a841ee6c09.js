(self.webpackChunkPP_LAB4_CisternasCeleste=self.webpackChunkPP_LAB4_CisternasCeleste||[]).push([[179],{2011:(Dt,ce,$)=>{"use strict";$.d(ce,{Dh:()=>ve,GT:()=>ae,cc:()=>Pe,hO:()=>ze,on:()=>K,pX:()=>le,xv:()=>Ce});var d=$(4650),N=$(9260),L=$(4976);Dt=$.hmd(Dt);const ie=["ngOnDestroy"],le=(Ae,be,He,Re={})=>new Proxy(Ae,{get:(xe,Ne)=>He.runOutsideAngular(()=>{var qe;if(Ae[Ne])return!(null===(qe=Re?.spy)||void 0===qe)&&qe.get&&Re.spy.get(Ne,Ae[Ne]),Ae[Ne];if(ie.indexOf(Ne)>-1)return()=>{};const Ve=be.toPromise().then(oe=>{const et=oe&&oe[Ne];return"function"==typeof et?et.bind(oe):et&&et.then?et.then(Et=>He.run(()=>Et)):He.run(()=>et)});return new Proxy(()=>{},{get:(oe,et)=>Ve[et],apply:(oe,et,Et)=>Ve.then(rt=>{var Qt;const ct=rt&&rt(...Et);return!(null===(Qt=Re?.spy)||void 0===Qt)&&Qt.apply&&Re.spy.apply(Ne,Et,ct),ct})})})}),ae=(Ae,be)=>{be.forEach(He=>{Object.getOwnPropertyNames(He.prototype||He).forEach(Re=>{Object.defineProperty(Ae.prototype,Re,Object.getOwnPropertyDescriptor(He.prototype||He,Re))})})};class me{constructor(be){return be}}const ve=new d.OlP("angularfire2.app.options"),Ce=new d.OlP("angularfire2.app.name");function K(Ae,be,He){const xe="object"==typeof He&&He||{};xe.name=xe.name||"string"==typeof He&&He||"[DEFAULT]";const qe=N.Z.apps.filter(Ve=>Ve&&Ve.name===xe.name)[0]||be.runOutsideAngular(()=>N.Z.initializeApp(Ae,xe));try{JSON.stringify(Ae)!==JSON.stringify(qe.options)&&W("error",`${qe.name} Firebase App already initialized with different options${Dt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(qe)}const W=(Ae,...be)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...be)},te={provide:me,useFactory:K,deps:[ve,d.R0b,[new d.FiY,Ce]]};let ze=(()=>{class Ae{constructor(He){N.Z.registerVersion("angularfire",L.q4.full,"core"),N.Z.registerVersion("angularfire",L.q4.full,"app-compat"),N.Z.registerVersion("angular",d.q4F.full,He.toString())}static initializeApp(He,Re){return{ngModule:Ae,providers:[{provide:ve,useValue:He},{provide:Ce,useValue:Re}]}}}return Ae.\u0275fac=function(He){return new(He||Ae)(d.LFG(d.Lbi))},Ae.\u0275mod=d.oAB({type:Ae}),Ae.\u0275inj=d.cJS({providers:[te]}),Ae})();function Pe(Ae,be,He,Re,xe){const[,Ne,qe]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Ae)||[];if(Ne)return function Ye(Ae,be){try{return Ae.toString()===be.toString()}catch{return Ae===be}}(xe,qe)||(we("error",`${be} was already initialized on the ${He} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:xe,was:qe})),Ne;{const Ve=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ae,Ve,xe]),Ve}}const Qe=!!Dt.hot,we=(Ae,...be)=>{(0,d.X6Q)()&&typeof console<"u"&&console[Ae](...be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(Dt,ce,$)=>{"use strict";$.d(ce,{q4:()=>Sr,iC:()=>gc,HU:()=>Eo,vb:()=>_d,JM:()=>Pa,u3:()=>Ed});var d=$(4650),N=$(259),L=$(5861),ie=$(6881),le=$(2090),ae=$(4859),me=$(1877);const ve=(w,C)=>C.some(M=>w instanceof M);let Ce,K;const ze=new WeakMap,Pe=new WeakMap,Ye=new WeakMap,Qe=new WeakMap,we=new WeakMap;let He={get(w,C,M){if(w instanceof IDBTransaction){if("done"===C)return Pe.get(w);if("objectStoreNames"===C)return w.objectStoreNames||Ye.get(w);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return qe(w[C])},set:(w,C,M)=>(w[C]=M,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function Ne(w){return"function"==typeof w?function xe(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return K||(K=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(Ve(this),C),qe(ze.get(this))}:function(...C){return qe(w.apply(Ve(this),C))}:function(C,...M){const H=w.call(Ve(this),C,...M);return Ye.set(H,C.sort?C.sort():[C]),qe(H)}}(w):(w instanceof IDBTransaction&&function be(w){if(Pe.has(w))return;const C=new Promise((M,H)=>{const Y=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",pe),w.removeEventListener("abort",pe)},X=()=>{M(),Y()},pe=()=>{H(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",X),w.addEventListener("error",pe),w.addEventListener("abort",pe)});Pe.set(w,C)}(w),ve(w,function W(){return Ce||(Ce=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,He):w)}function qe(w){if(w instanceof IDBRequest)return function Ae(w){const C=new Promise((M,H)=>{const Y=()=>{w.removeEventListener("success",X),w.removeEventListener("error",pe)},X=()=>{M(qe(w.result)),Y()},pe=()=>{H(w.error),Y()};w.addEventListener("success",X),w.addEventListener("error",pe)});return C.then(M=>{M instanceof IDBCursor&&ze.set(M,w)}).catch(()=>{}),we.set(C,w),C}(w);if(Qe.has(w))return Qe.get(w);const C=Ne(w);return C!==w&&(Qe.set(w,C),we.set(C,w)),C}const Ve=w=>we.get(w),Et=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],Qt=new Map;function ct(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(Qt.get(C))return Qt.get(C);const M=C.replace(/FromIndex$/,""),H=C!==M,Y=rt.includes(M);if(!(M in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!Et.includes(M))return;const X=function(){var pe=(0,L.Z)(function*(tt,...Xe){const vt=this.transaction(tt,Y?"readwrite":"readonly");let $t=vt.store;return H&&($t=$t.index(Xe.shift())),(yield Promise.all([$t[M](...Xe),Y&&vt.done]))[0]});return function(Xe){return pe.apply(this,arguments)}}();return Qt.set(C,X),X}!function Re(w){He=w(He)}(w=>({...w,get:(C,M,H)=>ct(C,M)||w.get(C,M,H),has:(C,M)=>!!ct(C,M)||w.has(C,M)}));const hi="@firebase/installations",he="0.6.4",Ee=1e4,Me=`w:${he}`,ke="FIS_v2",Ke="https://firebaseinstallations.googleapis.com/v1",Be=36e5,nt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ht(w){return w instanceof le.ZR&&w.code.includes("request-failed")}function ln({projectId:w}){return`${Ke}/projects/${w}/installations`}function Zt(w){return{token:w.token,requestStatus:2,expiresIn:Rr(w.expiresIn),creationTime:Date.now()}}function En(w,C){return mr.apply(this,arguments)}function mr(){return(mr=(0,L.Z)(function*(w,C){const H=(yield C.json()).error;return nt.create("request-failed",{requestName:w,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function Hn({apiKey:w}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w})}function _n(w){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,L.Z)(function*(w){const C=yield w();return C.status>=500&&C.status<600?w():C})).apply(this,arguments)}function Rr(w){return Number(w.replace("s","000"))}function pt(){return(pt=(0,L.Z)(function*({appConfig:w,heartbeatServiceProvider:C},{fid:M}){const H=ln(w),Y=Hn(w),X=C.getImmediate({optional:!0});if(X){const vt=yield X.getHeartbeatsHeader();vt&&Y.append("x-firebase-client",vt)}const tt={method:"POST",headers:Y,body:JSON.stringify({fid:M,authVersion:ke,appId:w.appId,sdkVersion:Me})},Xe=yield _n(()=>fetch(H,tt));if(Xe.ok){const vt=yield Xe.json();return{fid:vt.fid||M,registrationStatus:2,refreshToken:vt.refreshToken,authToken:Zt(vt.authToken)}}throw yield En("Create Installation",Xe)})).apply(this,arguments)}function Nn(w){return new Promise(C=>{setTimeout(C,w)})}const Kn=/^[cdef][\w-]{21}$/,yr="";function Nr(){try{const w=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(w),w[0]=112+w[0]%16;const M=function hn(w){return function zn(w){return btoa(String.fromCharCode(...w)).replace(/\+/g,"-").replace(/\//g,"_")}(w).substr(0,22)}(w);return Kn.test(M)?M:yr}catch{return yr}}function Jt(w){return`${w.appName}!${w.appId}`}const gt=new Map;function Je(w,C){const M=Jt(w);Un(M,C),function Yr(w,C){const M=function On(){return!Gn&&"BroadcastChannel"in self&&(Gn=new BroadcastChannel("[Firebase] FID Change"),Gn.onmessage=w=>{Un(w.data.key,w.data.fid)}),Gn}();M&&M.postMessage({key:w,fid:C}),function nn(){0===gt.size&&Gn&&(Gn.close(),Gn=null)}()}(M,C)}function Un(w,C){const M=gt.get(w);if(M)for(const H of M)H(C)}let Gn=null;const fi="firebase-installations-database",an=1,Qr="firebase-installations-store";let Wt=null;function Bn(){return Wt||(Wt=function oe(w,C,{blocked:M,upgrade:H,blocking:Y,terminated:X}={}){const pe=indexedDB.open(w,C),tt=qe(pe);return H&&pe.addEventListener("upgradeneeded",Xe=>{H(qe(pe.result),Xe.oldVersion,Xe.newVersion,qe(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),tt.then(Xe=>{X&&Xe.addEventListener("close",()=>X()),Y&&Xe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}(fi,an,{upgrade:(w,C)=>{0===C&&w.createObjectStore(Qr)}})),Wt}function $n(w,C){return _r.apply(this,arguments)}function _r(){return(_r=(0,L.Z)(function*(w,C){const M=Jt(w),Y=(yield Bn()).transaction(Qr,"readwrite"),X=Y.objectStore(Qr),pe=yield X.get(M);return yield X.put(C,M),yield Y.done,(!pe||pe.fid!==C.fid)&&Je(w,C.fid),C})).apply(this,arguments)}function kn(w){return zr.apply(this,arguments)}function zr(){return(zr=(0,L.Z)(function*(w){const C=Jt(w),H=(yield Bn()).transaction(Qr,"readwrite");yield H.objectStore(Qr).delete(C),yield H.done})).apply(this,arguments)}function kr(w,C){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,L.Z)(function*(w,C){const M=Jt(w),Y=(yield Bn()).transaction(Qr,"readwrite"),X=Y.objectStore(Qr),pe=yield X.get(M),tt=C(pe);return void 0===tt?yield X.delete(M):yield X.put(tt,M),yield Y.done,tt&&(!pe||pe.fid!==tt.fid)&&Je(w,tt.fid),tt})).apply(this,arguments)}function q(w){return G.apply(this,arguments)}function G(){return G=(0,L.Z)(function*(w){let C;const M=yield kr(w.appConfig,H=>{const Y=function U(w){return At(w||{fid:Nr(),registrationStatus:0})}(H),X=function B(w,C){if(0===C.registrationStatus){if(!navigator.onLine)return{installationEntry:C,registrationPromise:Promise.reject(nt.create("app-offline"))};const M={fid:C.fid,registrationStatus:1,registrationTime:Date.now()},H=function k(w,C){return Q.apply(this,arguments)}(w,M);return{installationEntry:M,registrationPromise:H}}return 1===C.registrationStatus?{installationEntry:C,registrationPromise:De(w)}:{installationEntry:C}}(w,Y);return C=X.registrationPromise,X.installationEntry});return M.fid===yr?{installationEntry:yield C}:{installationEntry:M,registrationPromise:C}}),G.apply(this,arguments)}function Q(){return Q=(0,L.Z)(function*(w,C){try{const M=yield function cn(w,C){return pt.apply(this,arguments)}(w,C);return $n(w.appConfig,M)}catch(M){throw ht(M)&&409===M.customData.serverCode?yield kn(w.appConfig):yield $n(w.appConfig,{fid:C.fid,registrationStatus:0}),M}}),Q.apply(this,arguments)}function De(w){return at.apply(this,arguments)}function at(){return(at=(0,L.Z)(function*(w){let C=yield Rt(w.appConfig);for(;1===C.registrationStatus;)yield Nn(100),C=yield Rt(w.appConfig);if(0===C.registrationStatus){const{installationEntry:M,registrationPromise:H}=yield q(w);return H||M}return C})).apply(this,arguments)}function Rt(w){return kr(w,C=>{if(!C)throw nt.create("installation-not-found");return At(C)})}function At(w){return function Xt(w){return 1===w.registrationStatus&&w.registrationTime+Ee<Date.now()}(w)?{fid:w.fid,registrationStatus:0}:w}function xn(){return(xn=(0,L.Z)(function*({appConfig:w,heartbeatServiceProvider:C},M){const H=function Ht(w,{fid:C}){return`${ln(w)}/${C}/authTokens:generate`}(w,M),Y=function Lt(w,{refreshToken:C}){const M=Hn(w);return M.append("Authorization",function Vn(w){return`${ke} ${w}`}(C)),M}(w,M),X=C.getImmediate({optional:!0});if(X){const vt=yield X.getHeartbeatsHeader();vt&&Y.append("x-firebase-client",vt)}const tt={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Me,appId:w.appId}})},Xe=yield _n(()=>fetch(H,tt));if(Xe.ok)return Zt(yield Xe.json());throw yield En("Generate Auth Token",Xe)})).apply(this,arguments)}function qn(w){return Bi.apply(this,arguments)}function Bi(){return Bi=(0,L.Z)(function*(w,C=!1){let M;const H=yield kr(w.appConfig,X=>{if(!en(X))throw nt.create("not-registered");const pe=X.authToken;if(!C&&function It(w){return 2===w.requestStatus&&!function mn(w){const C=Date.now();return C<w.creationTime||w.creationTime+w.expiresIn<C+Be}(w)}(pe))return X;if(1===pe.requestStatus)return M=function ye(w,C){return re.apply(this,arguments)}(w,C),X;{if(!navigator.onLine)throw nt.create("app-offline");const tt=function dn(w){const C={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},w),{authToken:C})}(X);return M=function wt(w,C){return Ot.apply(this,arguments)}(w,tt),tt}});return M?yield M:H.authToken}),Bi.apply(this,arguments)}function re(){return(re=(0,L.Z)(function*(w,C){let M=yield $e(w.appConfig);for(;1===M.authToken.requestStatus;)yield Nn(100),M=yield $e(w.appConfig);const H=M.authToken;return 0===H.requestStatus?qn(w,C):H})).apply(this,arguments)}function $e(w){return kr(w,C=>{if(!en(C))throw nt.create("not-registered");return function wr(w){return 1===w.requestStatus&&w.requestTime+Ee<Date.now()}(C.authToken)?Object.assign(Object.assign({},C),{authToken:{requestStatus:0}}):C})}function Ot(){return Ot=(0,L.Z)(function*(w,C){try{const M=yield function Vt(w,C){return xn.apply(this,arguments)}(w,C),H=Object.assign(Object.assign({},C),{authToken:M});return yield $n(w.appConfig,H),M}catch(M){if(!ht(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const H=Object.assign(Object.assign({},C),{authToken:{requestStatus:0}});yield $n(w.appConfig,H)}else yield kn(w.appConfig);throw M}}),Ot.apply(this,arguments)}function en(w){return void 0!==w&&2===w.registrationStatus}function Ro(){return(Ro=(0,L.Z)(function*(w){const C=w,{installationEntry:M,registrationPromise:H}=yield q(C);return H?H.catch(console.error):qn(C).catch(console.error),M.fid})).apply(this,arguments)}function ps(){return ps=(0,L.Z)(function*(w,C=!1){const M=w;return yield function cr(w){return st.apply(this,arguments)}(M),(yield qn(M,C)).token}),ps.apply(this,arguments)}function st(){return(st=(0,L.Z)(function*(w){const{registrationPromise:C}=yield q(w);C&&(yield C)})).apply(this,arguments)}function Ci(w){return nt.create("missing-app-config-values",{valueName:w})}const Yt="installations",br=w=>{const C=w.getProvider("app").getImmediate(),M=function No(w){if(!w||!w.options)throw Ci("App Configuration");if(!w.name)throw Ci("App Name");const C=["projectId","apiKey","appId"];for(const M of C)if(!w.options[M])throw Ci(M);return{appName:w.name,projectId:w.options.projectId,apiKey:w.options.apiKey,appId:w.options.appId}}(C);return{app:C,appConfig:M,heartbeatServiceProvider:(0,ie._getProvider)(C,"heartbeat"),_delete:()=>Promise.resolve()}},eo=w=>{const C=w.getProvider("app").getImmediate(),M=(0,ie._getProvider)(C,Yt).getImmediate();return{getId:()=>function lr(w){return Ro.apply(this,arguments)}(M),getToken:Y=>function Bl(w){return ps.apply(this,arguments)}(M,Y)}};(function ms(){(0,ie._registerComponent)(new ae.wA(Yt,br,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("installations-internal",eo,"PRIVATE"))})(),(0,ie.registerVersion)(hi,he),(0,ie.registerVersion)(hi,he,"esm2017");const Qn="@firebase/remote-config",Or=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class nd{constructor(C,M,H,Y){this.client=C,this.storage=M,this.storageCache=H,this.logger=Y}isCachedDataFresh(C,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-M,Y=H<=C;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${C}. Is cache hit: ${Y}.`),Y}fetch(C){var M=this;return(0,L.Z)(function*(){const[H,Y]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(Y&&M.isCachedDataFresh(C.cacheMaxAgeMillis,H))return Y;C.eTag=Y&&Y.eTag;const X=yield M.client.fetch(C),pe=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&pe.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(pe),X})()}}function no(w=navigator){return w.languages&&w.languages[0]||w.language}class $l{constructor(C,M,H,Y,X,pe){this.firebaseInstallations=C,this.sdkVersion=M,this.namespace=H,this.projectId=Y,this.apiKey=X,this.appId=pe}fetch(C){var M=this;return(0,L.Z)(function*(){const[H,Y]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),pe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,tt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":C.eTag||"*"},Xe={sdk_version:M.sdkVersion,app_instance_id:H,app_instance_id_token:Y,app_id:M.appId,language_code:no()},vt={method:"POST",headers:tt,body:JSON.stringify(Xe)},$t=fetch(pe,vt),Ut=new Promise((Mi,ei)=>{C.signal.addEventListener(()=>{const ml=new Error("The operation was aborted.");ml.name="AbortError",ei(ml)})});let sr;try{yield Promise.race([$t,Ut]),sr=yield $t}catch(Mi){let ei="fetch-client-network";throw"AbortError"===Mi?.name&&(ei="fetch-timeout"),Or.create(ei,{originalErrorMessage:Mi?.message})}let xt=sr.status;const ls=sr.headers.get("ETag")||void 0;let yc,qi;if(200===sr.status){let Mi;try{Mi=yield sr.json()}catch(ei){throw Or.create("fetch-client-parse",{originalErrorMessage:ei?.message})}yc=Mi.entries,qi=Mi.state}if("INSTANCE_STATE_UNSPECIFIED"===qi?xt=500:"NO_CHANGE"===qi?xt=304:("NO_TEMPLATE"===qi||"EMPTY_CONFIG"===qi)&&(yc={}),304!==xt&&200!==xt)throw Or.create("fetch-status",{httpStatus:xt});return{status:xt,eTag:ls,config:yc}})()}}class Qa{constructor(C,M){this.client=C,this.storage=M}fetch(C){var M=this;return(0,L.Z)(function*(){const H=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(C,H)})()}attemptFetch(C,{throttleEndTimeMillis:M,backoffCount:H}){var Y=this;return(0,L.Z)(function*(){yield function zu(w,C){return new Promise((M,H)=>{const Y=Math.max(C-Date.now(),0),X=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(X),H(Or.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(C.signal,M);try{const X=yield Y.client.fetch(C);return yield Y.storage.deleteThrottleMetadata(),X}catch(X){if(!function rd(w){if(!(w instanceof le.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(X))throw X;const pe={throttleEndTimeMillis:Date.now()+(0,le.$s)(H),backoffCount:H+1};return yield Y.storage.setThrottleMetadata(pe),Y.attemptFetch(C,pe)}})()}}class jl{constructor(C,M,H,Y,X){this.app=C,this._client=M,this._storageCache=H,this._storage=Y,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function bs(w,C){const M=w.target.error||void 0;return Or.create(C,{originalErrorMessage:M&&M?.message})}const ro="app_namespace_store";class Us{constructor(C,M,H,Y=function zl(){return new Promise((w,C)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=H=>{C(bs(H,"storage-open"))},M.onsuccess=H=>{w(H.target.result)},M.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(ro,{keyPath:"compositeKey"})}}catch(M){C(Or.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=C,this.appName=M,this.namespace=H,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(C){return this.set("last_fetch_status",C)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(C){return this.set("last_successful_fetch_timestamp_millis",C)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(C){return this.set("last_successful_fetch_response",C)}getActiveConfig(){return this.get("active_config")}setActiveConfig(C){return this.set("active_config",C)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(C){return this.set("active_config_etag",C)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(C){return this.set("throttle_metadata",C)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(C){var M=this;return(0,L.Z)(function*(){const H=yield M.openDbPromise;return new Promise((Y,X)=>{const tt=H.transaction([ro],"readonly").objectStore(ro),Xe=M.createCompositeKey(C);try{const vt=tt.get(Xe);vt.onerror=$t=>{X(bs($t,"storage-get"))},vt.onsuccess=$t=>{const Ut=$t.target.result;Y(Ut?Ut.value:void 0)}}catch(vt){X(Or.create("storage-get",{originalErrorMessage:vt?.message}))}})})()}set(C,M){var H=this;return(0,L.Z)(function*(){const Y=yield H.openDbPromise;return new Promise((X,pe)=>{const Xe=Y.transaction([ro],"readwrite").objectStore(ro),vt=H.createCompositeKey(C);try{const $t=Xe.put({compositeKey:vt,value:M});$t.onerror=Ut=>{pe(bs(Ut,"storage-set"))},$t.onsuccess=()=>{X()}}catch($t){pe(Or.create("storage-set",{originalErrorMessage:$t?.message}))}})})()}delete(C){var M=this;return(0,L.Z)(function*(){const H=yield M.openDbPromise;return new Promise((Y,X)=>{const tt=H.transaction([ro],"readwrite").objectStore(ro),Xe=M.createCompositeKey(C);try{const vt=tt.delete(Xe);vt.onerror=$t=>{X(bs($t,"storage-delete"))},vt.onsuccess=()=>{Y()}}catch(vt){X(Or.create("storage-delete",{originalErrorMessage:vt?.message}))}})})()}createCompositeKey(C){return[this.appId,this.appName,this.namespace,C].join()}}class Bs{constructor(C){this.storage=C}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var C=this;return(0,L.Z)(function*(){const M=C.storage.getLastFetchStatus(),H=C.storage.getLastSuccessfulFetchTimestampMillis(),Y=C.storage.getActiveConfig(),X=yield M;X&&(C.lastFetchStatus=X);const pe=yield H;pe&&(C.lastSuccessfulFetchTimestampMillis=pe);const tt=yield Y;tt&&(C.activeConfig=tt)})()}setLastFetchStatus(C){return this.lastFetchStatus=C,this.storage.setLastFetchStatus(C)}setLastSuccessfulFetchTimestampMillis(C){return this.lastSuccessfulFetchTimestampMillis=C,this.storage.setLastSuccessfulFetchTimestampMillis(C)}setActiveConfig(C){return this.activeConfig=C,this.storage.setActiveConfig(C)}}function tu(){return oo.apply(this,arguments)}function oo(){return(oo=(0,L.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function so(){(0,ie._registerComponent)(new ae.wA("remote-config",function w(C,{instanceIdentifier:M}){const H=C.getProvider("app").getImmediate(),Y=C.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Or.create("registration-window");if(!(0,le.hl)())throw Or.create("indexed-db-unavailable");const{projectId:X,apiKey:pe,appId:tt}=H.options;if(!X)throw Or.create("registration-project-id");if(!pe)throw Or.create("registration-api-key");if(!tt)throw Or.create("registration-app-id");const Xe=new Us(tt,H.name,M=M||"firebase"),vt=new Bs(Xe),$t=new me.Yd(Qn);$t.logLevel=me.in.ERROR;const Ut=new $l(Y,ie.SDK_VERSION,M,X,pe,tt),sr=new Qa(Ut,Xe),xt=new nd(sr,Xe,vt,$t),ls=new jl(H,xt,vt,Xe,$t);return function qr(w){const C=(0,le.m9)(w);C._initializePromise||(C._initializePromise=C._storageCache.loadFromStorage().then(()=>{C._isInitializationComplete=!0}))}(ls),ls},"PUBLIC").setMultipleInstances(!0)),(0,ie.registerVersion)(Qn,"0.4.4"),(0,ie.registerVersion)(Qn,"0.4.4","esm2017")}();const Gl=(w,C)=>C.some(M=>w instanceof M);let Es,nu;const ao=new WeakMap,$s=new WeakMap,jn=new WeakMap,uo=new WeakMap,lo=new WeakMap;let js={get(w,C,M){if(w instanceof IDBTransaction){if("done"===C)return $s.get(w);if("objectStoreNames"===C)return w.objectStoreNames||jn.get(w);if("store"===C)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return Zr(w[C])},set:(w,C,M)=>(w[C]=M,!0),has:(w,C)=>w instanceof IDBTransaction&&("done"===C||"store"===C)||C in w};function ha(w){return"function"==typeof w?function ql(w){return w!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gu(){return nu||(nu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(w)?function(...C){return w.apply(dr(this),C),Zr(ao.get(this))}:function(...C){return Zr(w.apply(dr(this),C))}:function(C,...M){const H=w.call(dr(this),C,...M);return jn.set(H,C.sort?C.sort():[C]),Zr(H)}}(w):(w instanceof IDBTransaction&&function mi(w){if($s.has(w))return;const C=new Promise((M,H)=>{const Y=()=>{w.removeEventListener("complete",X),w.removeEventListener("error",pe),w.removeEventListener("abort",pe)},X=()=>{M(),Y()},pe=()=>{H(w.error||new DOMException("AbortError","AbortError")),Y()};w.addEventListener("complete",X),w.addEventListener("error",pe),w.addEventListener("abort",pe)});$s.set(w,C)}(w),Gl(w,function da(){return Es||(Es=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(w,js):w)}function Zr(w){if(w instanceof IDBRequest)return function rr(w){const C=new Promise((M,H)=>{const Y=()=>{w.removeEventListener("success",X),w.removeEventListener("error",pe)},X=()=>{M(Zr(w.result)),Y()},pe=()=>{H(w.error),Y()};w.addEventListener("success",X),w.addEventListener("error",pe)});return C.then(M=>{M instanceof IDBCursor&&ao.set(M,w)}).catch(()=>{}),lo.set(C,w),C}(w);if(uo.has(w))return uo.get(w);const C=ha(w);return C!==w&&(uo.set(w,C),lo.set(C,w)),C}const dr=w=>lo.get(w);function Fo(w,C,{blocked:M,upgrade:H,blocking:Y,terminated:X}={}){const pe=indexedDB.open(w,C),tt=Zr(pe);return H&&pe.addEventListener("upgradeneeded",Xe=>{H(Zr(pe.result),Xe.oldVersion,Xe.newVersion,Zr(pe.transaction))}),M&&pe.addEventListener("blocked",()=>M()),tt.then(Xe=>{X&&Xe.addEventListener("close",()=>X()),Y&&Xe.addEventListener("versionchange",()=>Y())}).catch(()=>{}),tt}function Is(w,{blocked:C}={}){const M=indexedDB.deleteDatabase(w);return C&&M.addEventListener("blocked",()=>C()),Zr(M).then(()=>{})}const qu=["get","getKey","getAll","getAllKeys","count"],Ti=["put","add","delete","clear"],co=new Map;function ho(w,C){if(!(w instanceof IDBDatabase)||C in w||"string"!=typeof C)return;if(co.get(C))return co.get(C);const M=C.replace(/FromIndex$/,""),H=C!==M,Y=Ti.includes(M);if(!(M in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!qu.includes(M))return;const X=function(){var pe=(0,L.Z)(function*(tt,...Xe){const vt=this.transaction(tt,Y?"readwrite":"readonly");let $t=vt.store;return H&&($t=$t.index(Xe.shift())),(yield Promise.all([$t[M](...Xe),Y&&vt.done]))[0]});return function(Xe){return pe.apply(this,arguments)}}();return co.set(C,X),X}!function Ir(w){js=w(js)}(w=>({...w,get:(C,M,H)=>ho(C,M)||w.get(C,M,H),has:(C,M)=>!!ho(C,M)||w.has(C,M)}));const Bt="/firebase-messaging-sw.js",fa="/firebase-cloud-messaging-push-scope",Wu="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ru="https://fcmregistrations.googleapis.com/v1",Lo="google.c.a.c_id",pa="google.c.a.c_l",iu="google.c.a.ts",ga="google.c.a.e";var _e=(()=>{return(w=_e||(_e={})).PUSH_RECEIVED="push-received",w.NOTIFICATION_CLICKED="notification-clicked",_e;var w})();function zt(w){const C=new Uint8Array(w);return btoa(String.fromCharCode(...C)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fo(w){const M=(w+"=".repeat((4-w.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(M),Y=new Uint8Array(H.length);for(let X=0;X<H.length;++X)Y[X]=H.charCodeAt(X);return Y}const Vo="fcm_token_details_db",Jn=5,Zu="fcm_token_object_Store";function ii(){return ii=(0,L.Z)(function*(w){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Vo))return null;let C=null;return(yield Fo(Vo,Jn,{upgrade:(H=(0,L.Z)(function*(Y,X,pe,tt){var Xe;if(X<2||!Y.objectStoreNames.contains(Zu))return;const vt=tt.objectStore(Zu),$t=yield vt.index("fcmSenderId").get(w);if(yield vt.clear(),$t)if(2===X){const Ut=$t;if(!Ut.auth||!Ut.p256dh||!Ut.endpoint)return;C={token:Ut.fcmToken,createTime:null!==(Xe=Ut.createTime)&&void 0!==Xe?Xe:Date.now(),subscriptionOptions:{auth:Ut.auth,p256dh:Ut.p256dh,endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:"string"==typeof Ut.vapidKey?Ut.vapidKey:zt(Ut.vapidKey)}}}else if(3===X){const Ut=$t;C={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zt(Ut.auth),p256dh:zt(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zt(Ut.vapidKey)}}}else if(4===X){const Ut=$t;C={token:Ut.fcmToken,createTime:Ut.createTime,subscriptionOptions:{auth:zt(Ut.auth),p256dh:zt(Ut.p256dh),endpoint:Ut.endpoint,swScope:Ut.swScope,vapidKey:zt(Ut.vapidKey)}}}}),function(X,pe,tt,Xe){return H.apply(this,arguments)})})).close(),yield Is(Vo),yield Is("fcm_vapid_details_db"),yield Is("undefined"),function ma(w){if(!w||!w.subscriptionOptions)return!1;const{subscriptionOptions:C}=w;return"number"==typeof w.createTime&&w.createTime>0&&"string"==typeof w.token&&w.token.length>0&&"string"==typeof C.auth&&C.auth.length>0&&"string"==typeof C.p256dh&&C.p256dh.length>0&&"string"==typeof C.endpoint&&C.endpoint.length>0&&"string"==typeof C.swScope&&C.swScope.length>0&&"string"==typeof C.vapidKey&&C.vapidKey.length>0}(C)?C:null;var H}),ii.apply(this,arguments)}const Ku="firebase-messaging-database",Yu=1,Cs="firebase-messaging-store";let Hs=null;function hr(){return Hs||(Hs=Fo(Ku,Yu,{upgrade:(w,C)=>{0===C&&w.createObjectStore(Cs)}})),Hs}function Jr(w){return Ds.apply(this,arguments)}function Ds(){return Ds=(0,L.Z)(function*(w){const C=Qu(w),H=yield(yield hr()).transaction(Cs).objectStore(Cs).get(C);if(H)return H;{const Y=yield function po(w){return ii.apply(this,arguments)}(w.appConfig.senderId);if(Y)return yield es(w,Y),Y}}),Ds.apply(this,arguments)}function es(w,C){return Si.apply(this,arguments)}function Si(){return(Si=(0,L.Z)(function*(w,C){const M=Qu(w),Y=(yield hr()).transaction(Cs,"readwrite");return yield Y.objectStore(Cs).put(C,M),yield Y.done,C})).apply(this,arguments)}function zs(){return(zs=(0,L.Z)(function*(w){const C=Qu(w),H=(yield hr()).transaction(Cs,"readwrite");yield H.objectStore(Cs).delete(C),yield H.done})).apply(this,arguments)}function Qu({appConfig:w}){return w.appId}const Xn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Uo(w,C){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,L.Z)(function*(w,C){const M=yield $o(w),H=_a(C),Y={method:"POST",headers:M,body:JSON.stringify(H)};let X;try{X=yield(yield fetch(su(w.appConfig),Y)).json()}catch(pe){throw Xn.create("token-subscribe-failed",{errorInfo:pe?.toString()})}if(X.error)throw Xn.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw Xn.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function va(){return(va=(0,L.Z)(function*(w,C){const M=yield $o(w),H=_a(C.subscriptionOptions),Y={method:"PATCH",headers:M,body:JSON.stringify(H)};let X;try{X=yield(yield fetch(`${su(w.appConfig)}/${C.token}`,Y)).json()}catch(pe){throw Xn.create("token-update-failed",{errorInfo:pe?.toString()})}if(X.error)throw Xn.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw Xn.create("token-update-no-token");return X.token})).apply(this,arguments)}function Xu(w,C){return go.apply(this,arguments)}function go(){return(go=(0,L.Z)(function*(w,C){const H={method:"DELETE",headers:yield $o(w)};try{const X=yield(yield fetch(`${su(w.appConfig)}/${C}`,H)).json();if(X.error)throw Xn.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(Y){throw Xn.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function su({projectId:w}){return`${ru}/projects/${w}/registrations`}function $o(w){return ou.apply(this,arguments)}function ou(){return(ou=(0,L.Z)(function*({appConfig:w,installations:C}){const M=yield C.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":w.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function _a({p256dh:w,auth:C,endpoint:M,vapidKey:H}){const Y={web:{endpoint:M,auth:C,p256dh:w}};return H!==Wu&&(Y.web.applicationPubKey=H),Y}const Ts=6048e5;function el(){return el=(0,L.Z)(function*(w){const C=yield function od(w,C){return tl.apply(this,arguments)}(w.swRegistration,w.vapidKey),M={vapidKey:w.vapidKey,swScope:w.swRegistration.scope,endpoint:C.endpoint,auth:zt(C.getKey("auth")),p256dh:zt(C.getKey("p256dh"))},H=yield Jr(w.firebaseDependencies);if(H){if(function ts(w,C){return C.vapidKey===w.vapidKey&&C.endpoint===w.endpoint&&C.auth===w.auth&&C.p256dh===w.p256dh}(H.subscriptionOptions,M))return Date.now()>=H.createTime+Ts?function Ln(w,C){return au.apply(this,arguments)}(w,{token:H.token,createTime:Date.now(),subscriptionOptions:M}):H.token;try{yield Xu(w.firebaseDependencies,H.token)}catch(Y){console.warn(Y)}return Gs(w.firebaseDependencies,M)}return Gs(w.firebaseDependencies,M)}),el.apply(this,arguments)}function ji(){return ji=(0,L.Z)(function*(w){const C=yield Jr(w.firebaseDependencies);C&&(yield Xu(w.firebaseDependencies,C.token),yield function ya(w){return zs.apply(this,arguments)}(w.firebaseDependencies));const M=yield w.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),ji.apply(this,arguments)}function au(){return au=(0,L.Z)(function*(w,C){try{const M=yield function Ju(w,C){return va.apply(this,arguments)}(w.firebaseDependencies,C),H=Object.assign(Object.assign({},C),{token:M,createTime:Date.now()});return yield es(w.firebaseDependencies,H),M}catch(M){throw yield function Cr(w){return ji.apply(this,arguments)}(w),M}}),au.apply(this,arguments)}function Gs(w,C){return ba.apply(this,arguments)}function ba(){return(ba=(0,L.Z)(function*(w,C){const H={token:yield Uo(w,C),createTime:Date.now(),subscriptionOptions:C};return yield es(w,H),H.token})).apply(this,arguments)}function tl(){return(tl=(0,L.Z)(function*(w,C){return(yield w.pushManager.getSubscription())||w.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fo(C)})})).apply(this,arguments)}function ns(w){const C={from:w.from,collapseKey:w.collapse_key,messageId:w.fcmMessageId};return function uu(w,C){if(!C.notification)return;w.notification={};const M=C.notification.title;M&&(w.notification.title=M);const H=C.notification.body;H&&(w.notification.body=H);const Y=C.notification.image;Y&&(w.notification.image=Y);const X=C.notification.icon;X&&(w.notification.icon=X)}(C,w),function nl(w,C){C.data&&(w.data=C.data)}(C,w),function rl(w,C){var M,H,Y,X,pe;if(!(C.fcmOptions||null!==(M=C.notification)&&void 0!==M&&M.click_action))return;w.fcmOptions={};const tt=null!==(Y=null===(H=C.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==Y?Y:null===(X=C.notification)||void 0===X?void 0:X.click_action;tt&&(w.fcmOptions.link=tt);const Xe=null===(pe=C.fcmOptions)||void 0===pe?void 0:pe.analytics_label;Xe&&(w.fcmOptions.analyticsLabel=Xe)}(C,w),C}function mo(w,C){const M=[];for(let H=0;H<w.length;H++)M.push(w.charAt(H)),H<C.length&&M.push(C.charAt(H));return M.join("")}function rs(w){return Xn.create("missing-app-config-values",{valueName:w})}mo("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mo("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class lu{constructor(C,M,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function jo(w){if(!w||!w.options)throw rs("App Configuration Object");if(!w.name)throw rs("App Name");const C=["projectId","apiKey","appId","messagingSenderId"],{options:M}=w;for(const H of C)if(!M[H])throw rs(H);return{appName:w.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(C);this.firebaseDependencies={app:C,appConfig:Y,installations:M,analyticsProvider:H}}_delete(){return Promise.resolve()}}function I(w){return D.apply(this,arguments)}function D(){return(D=(0,L.Z)(function*(w){try{w.swRegistration=yield navigator.serviceWorker.register(Bt,{scope:fa}),w.swRegistration.update().catch(()=>{})}catch(C){throw Xn.create("failed-service-worker-registration",{browserErrorMessage:C?.message})}})).apply(this,arguments)}function z(){return(z=(0,L.Z)(function*(w,C){if(!C&&!w.swRegistration&&(yield I(w)),C||!w.swRegistration){if(!(C instanceof ServiceWorkerRegistration))throw Xn.create("invalid-sw-registration");w.swRegistration=C}})).apply(this,arguments)}function Ct(){return(Ct=(0,L.Z)(function*(w,C){C?w.vapidKey=C:w.vapidKey||(w.vapidKey=Wu)})).apply(this,arguments)}function fr(){return fr=(0,L.Z)(function*(w,C){if(!navigator)throw Xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xn.create("permission-blocked");return yield function Ie(w,C){return Ct.apply(this,arguments)}(w,C?.vapidKey),yield function R(w,C){return z.apply(this,arguments)}(w,C?.serviceWorkerRegistration),function wa(w){return el.apply(this,arguments)}(w)}),fr.apply(this,arguments)}function si(){return(si=(0,L.Z)(function*(w,C,M){const H=function is(w){switch(w){case _e.NOTIFICATION_CLICKED:return"notification_open";case _e.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(C);(yield w.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:M[Lo],message_name:M[pa],message_time:M[iu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ho(){return Ho=(0,L.Z)(function*(w,C){const M=C.data;if(!M.isFirebaseMessaging)return;w.onMessageHandler&&M.messageType===_e.PUSH_RECEIVED&&("function"==typeof w.onMessageHandler?w.onMessageHandler(ns(M)):w.onMessageHandler.next(ns(M)));const H=M.data;(function Ea(w){return"object"==typeof w&&!!w&&Lo in w})(H)&&"1"===H[ga]&&(yield function Fr(w,C,M){return si.apply(this,arguments)}(w,M.messageType,H))}),Ho.apply(this,arguments)}const Ca="@firebase/messaging",du=w=>{const C=new lu(w.getProvider("app").getImmediate(),w.getProvider("installations-internal").getImmediate(),w.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Ia(w,C){return Ho.apply(this,arguments)}(C,M)),C},Wl=w=>{const C=w.getProvider("messaging").getImmediate();return{getToken:H=>function wn(w,C){return fr.apply(this,arguments)}(C,H)}};function Oh(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,L.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function hu(){(0,ie._registerComponent)(new ae.wA("messaging",du,"PUBLIC")),(0,ie._registerComponent)(new ae.wA("messaging-internal",Wl,"PRIVATE")),(0,ie.registerVersion)(Ca,"0.12.4"),(0,ie.registerVersion)(Ca,"0.12.4","esm2017")}();const yo="analytics",sl="firebase_id",ld="origin",fu=6e4,cd="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ol="https://www.googletagmanager.com/gtag/js",Dr=new me.Yd("@firebase/analytics"),er=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fh(w){if(!w.startsWith(ol)){const C=er.create("invalid-gtag-resource",{gtagURL:w});return Dr.warn(C.message),""}return w}function vo(w){return Promise.all(w.map(C=>C.catch(M=>M)))}function _o(){return(_o=(0,L.Z)(function*(w,C,M,H,Y,X){const pe=H[Y];try{if(pe)yield C[pe];else{const Xe=(yield vo(M)).find(vt=>vt.measurementId===Y);Xe&&(yield C[Xe.appId])}}catch(tt){Dr.error(tt)}w("config",Y,X)})).apply(this,arguments)}function zo(){return(zo=(0,L.Z)(function*(w,C,M,H,Y){try{let X=[];if(Y&&Y.send_to){let pe=Y.send_to;Array.isArray(pe)||(pe=[pe]);const tt=yield vo(M);for(const Xe of pe){const vt=tt.find(Ut=>Ut.measurementId===Xe),$t=vt&&C[vt.appId];if(!$t){X=[];break}X.push($t)}}0===X.length&&(X=Object.values(C)),yield Promise.all(X),w("event",H,Y||{})}catch(X){Dr.error(X)}})).apply(this,arguments)}const ul=30,qo=new class dd{constructor(C={},M=1e3){this.throttleMetadata=C,this.intervalMillis=M}getThrottleMetadata(C){return this.throttleMetadata[C]}setThrottleMetadata(C,M){this.throttleMetadata[C]=M}deleteThrottleMetadata(C){delete this.throttleMetadata[C]}};function Vh(w){return new Headers({Accept:"application/json","x-goog-api-key":w})}function gn(){return(gn=(0,L.Z)(function*(w){var C;const{appId:M,apiKey:H}=w,Y={method:"GET",headers:Vh(H)},X=cd.replace("{app-id}",M),pe=yield fetch(X,Y);if(200!==pe.status&&304!==pe.status){let tt="";try{const Xe=yield pe.json();null!==(C=Xe.error)&&void 0!==C&&C.message&&(tt=Xe.error.message)}catch{}throw er.create("config-fetch-failed",{httpStatus:pe.status,responseMessage:tt})}return pe.json()})).apply(this,arguments)}function fd(){return(fd=(0,L.Z)(function*(w,C=qo,M){const{appId:H,apiKey:Y,measurementId:X}=w.options;if(!H)throw er.create("no-app-id");if(!Y){if(X)return{measurementId:X,appId:H};throw er.create("no-api-key")}const pe=C.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},tt=new Am;return setTimeout((0,L.Z)(function*(){tt.abort()}),void 0!==M?M:fu),tc({appId:H,apiKey:Y,measurementId:X},pe,tt,C)})).apply(this,arguments)}function tc(w,C,M){return nc.apply(this,arguments)}function nc(){return nc=(0,L.Z)(function*(w,{throttleEndTimeMillis:C,backoffCount:M},H,Y=qo){var X;const{appId:pe,measurementId:tt}=w;try{yield function Uh(w,C){return new Promise((M,H)=>{const Y=Math.max(C-Date.now(),0),X=setTimeout(M,Y);w.addEventListener(()=>{clearTimeout(X),H(er.create("fetch-throttle",{throttleEndTimeMillis:C}))})})}(H,C)}catch(Xe){if(tt)return Dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${Xe?.message}]`),{appId:pe,measurementId:tt};throw Xe}try{const Xe=yield function hd(w){return gn.apply(this,arguments)}(w);return Y.deleteThrottleMetadata(pe),Xe}catch(Xe){const vt=Xe;if(!function Sm(w){if(!(w instanceof le.ZR&&w.customData))return!1;const C=Number(w.customData.httpStatus);return 429===C||500===C||503===C||504===C}(vt)){if(Y.deleteThrottleMetadata(pe),tt)return Dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${tt} provided in the "measurementId" field in the local Firebase config. [${vt?.message}]`),{appId:pe,measurementId:tt};throw Xe}const $t=503===Number(null===(X=vt?.customData)||void 0===X?void 0:X.httpStatus)?(0,le.$s)(M,Y.intervalMillis,ul):(0,le.$s)(M,Y.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+$t,backoffCount:M+1};return Y.setThrottleMetadata(pe,Ut),Dr.debug(`Calling attemptFetch again in ${$t} millis`),tc(w,Ut,H,Y)}}),nc.apply(this,arguments)}class Am{constructor(){this.listeners=[]}addEventListener(C){this.listeners.push(C)}abort(){this.listeners.forEach(C=>C())}}let Wo,sc;function Bh(){return(Bh=(0,L.Z)(function*(w,C,M,H,Y){if(Y&&Y.global)w("event",M,H);else{const X=yield C;w("event",M,Object.assign(Object.assign({},H),{send_to:X}))}})).apply(this,arguments)}function bn(){return(bn=(0,L.Z)(function*(){if(!(0,le.hl)())return Dr.warn(er.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(w){return Dr.warn(er.create("indexeddb-unavailable",{errorInfo:w?.toString()}).message),!1}return!0})).apply(this,arguments)}function mt(){return mt=(0,L.Z)(function*(w,C,M,H,Y,X,pe){var tt;const Xe=function ec(w){return fd.apply(this,arguments)}(w);Xe.then(xt=>{M[xt.measurementId]=xt.appId,w.options.measurementId&&xt.measurementId!==w.options.measurementId&&Dr.warn(`The measurement ID in the local Firebase config (${w.options.measurementId}) does not match the measurement ID fetched from the server (${xt.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xt=>Dr.error(xt)),C.push(Xe);const vt=function Hi(){return bn.apply(this,arguments)}().then(xt=>{if(xt)return H.getId()}),[$t,Ut]=yield Promise.all([Xe,vt]);(function Sa(w){const C=window.document.getElementsByTagName("script");for(const M of Object.values(C))if(M.src&&M.src.includes(ol)&&M.src.includes(w))return M;return null})(X)||function Ta(w,C){const M=function al(w,C){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(w,C)),M}("firebase-js-sdk-policy",{createScriptURL:Fh}),H=document.createElement("script"),Y=`${ol}?l=${w}&id=${C}`;H.src=M?M?.createScriptURL(Y):Y,H.async=!0,document.head.appendChild(H)}(X,$t.measurementId),sc&&(Y("consent","default",sc),function dl(w){sc=w}(void 0)),Y("js",new Date);const sr=null!==(tt=pe?.config)&&void 0!==tt?tt:{};return sr[ld]="firebase",sr.update=!0,null!=Ut&&(sr[sl]=Ut),Y("config",$t.measurementId,sr),Wo&&(Y("set",Wo),function oc(w){Wo=w}(void 0)),$t.measurementId}),mt.apply(this,arguments)}class os{constructor(C){this.app=C}_delete(){return delete pr[this.app.options.appId],Promise.resolve()}}let pr={},gd=[];const mu={};let md,zi,oi="dataLayer",ac="gtag",bo=!1;function xa(w,C,M){!function Zo(){const w=[];if((0,le.ru)()&&w.push("This is a browser extension environment."),(0,le.zI)()||w.push("Cookies are not available."),w.length>0){const C=w.map((H,Y)=>`(${Y+1}) ${H}`).join(" "),M=er.create("invalid-analytics-context",{errorInfo:C});Dr.warn(M.message)}}();const H=w.options.appId;if(!H)throw er.create("no-app-id");if(!w.options.apiKey){if(!w.options.measurementId)throw er.create("no-api-key");Dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${w.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=pr[H])throw er.create("already-exists",{id:H});if(!bo){!function Ql(w){let C=[];Array.isArray(window[w])?C=window[w]:window[w]=C}(oi);const{wrappedGtag:X,gtagCore:pe}=function Go(w,C,M,H,Y){let X=function(...pe){window[H].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(X=window[Y]),window[Y]=function pu(w,C,M,H){function X(){return X=(0,L.Z)(function*(pe,...tt){try{if("event"===pe){const[Xe,vt]=tt;yield function Lh(w,C,M,H,Y){return zo.apply(this,arguments)}(w,C,M,Xe,vt)}else if("config"===pe){const[Xe,vt]=tt;yield function Jl(w,C,M,H,Y,X){return _o.apply(this,arguments)}(w,C,M,H,Xe,vt)}else if("consent"===pe){const[Xe]=tt;w("consent","update",Xe)}else if("get"===pe){const[Xe,vt,$t]=tt;w("get",Xe,vt,$t)}else if("set"===pe){const[Xe]=tt;w("set",Xe)}else w(pe,...tt)}catch(Xe){Dr.error(Xe)}}),X.apply(this,arguments)}return function Y(pe){return X.apply(this,arguments)}}(X,w,C,M),{gtagCore:X,wrappedGtag:window[Y]}}(pr,gd,mu,oi,ac);zi=X,md=pe,bo=!0}return pr[H]=function ss(w,C,M,H,Y,X,pe){return mt.apply(this,arguments)}(w,gd,mu,C,md,oi,M),new os(w)}function yd(){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,L.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const wu="@firebase/analytics";!function dc(){(0,ie._registerComponent)(new ae.wA(yo,(C,{options:M})=>xa(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ie._registerComponent)(new ae.wA("analytics-internal",function w(C){try{const M=C.getProvider(yo).getImmediate();return{logEvent:(H,Y,X)=>function $h(w,C,M,H){w=(0,le.m9)(w),function xm(w,C,M,H,Y){return Bh.apply(this,arguments)}(zi,pr[w.app.options.appId],C,M,H).catch(Y=>Dr.error(Y))}(M,H,Y,X)}}catch(M){throw er.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ie.registerVersion)(wu,"0.10.0"),(0,ie.registerVersion)(wu,"0.10.0","esm2017")}();var hc=$(4408),xi=$(7565);const ai=new class fc extends xi.v{}(class bu extends hc.o{constructor(C,M){super(C,M),this.scheduler=C,this.work=M}schedule(C,M=0){return M>0?super.schedule(C,M):(this.delay=M,this.state=C,this.scheduler.flush(this),this)}execute(C,M){return M>0||this.closed?super.execute(C,M):this._execute(C,M)}requestAsyncId(C,M,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(C,M,H):(C.flush(this),0)}});var jh=$(4986),ir=$(9751),Yo=$(8505),Qo=$(9468),vi=$(5363);const Sr=new d.GfV("7.5.0"),Iu="__angularfire_symbol__analyticsIsSupportedValue",pl="__angularfire_symbol__analyticsIsSupported",Ma="__angularfire_symbol__remoteConfigIsSupportedValue",as="__angularfire_symbol__remoteConfigIsSupported",qs="__angularfire_symbol__messagingIsSupportedValue",Lr="__angularfire_symbol__messagingIsSupported";function Pa(w,C,M){if(C){if(1===C.length)return C[0];const X=C.filter(pe=>pe.app===M);if(1===X.length)return X[0]}return M.container.getProvider(w).getImmediate({optional:!0})}globalThis[pl]||(globalThis[pl]=yd().then(w=>globalThis[Iu]=w).catch(()=>globalThis[Iu]=!1)),globalThis[Lr]||(globalThis[Lr]=Oh().then(w=>globalThis[qs]=w).catch(()=>globalThis[qs]=!1)),globalThis[as]||(globalThis[as]=tu().then(w=>globalThis[Ma]=w).catch(()=>globalThis[Ma]=!1));const _d=(w,C)=>{const M=C?[C]:(0,N.C6)(),H=[];return M.forEach(Y=>{Y.container.getProvider(w).instances.forEach(pe=>{H.includes(pe)||H.push(pe)})}),H};function Jo(){}class Ra{constructor(C,M=ai){this.zone=C,this.delegate=M}now(){return this.delegate.now()}schedule(C,M,H){const Y=this.zone;return this.delegate.schedule(function(pe){Y.runGuarded(()=>{C.apply(this,[pe])})},M,H)}}class Ft{constructor(C){this.zone=C,this.task=null}call(C,M){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)),M.pipe((0,Yo.b)({next:H,complete:H,error:H})).subscribe(C).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Eo=(()=>{class w{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Ra(Zone.current)),this.insideAngular=M.run(()=>new Ra(Zone.current,jh.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return w.\u0275fac=function(M){return new(M||w)(d.LFG(d.R0b))},w.\u0275prov=d.Yz7({token:w,factory:w.\u0275fac,providedIn:"root"}),w})();function Xo(){const w=globalThis.\u0275AngularFireScheduler;if(!w)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return w}function Io(w){return Xo().ngZone.run(()=>w())}function gc(w){return Xo(),function bd(w){return function(M){return(M=M.lift(new Ft(w.ngZone))).pipe((0,Qo.R)(w.outsideAngular),(0,vi.Q)(w.insideAngular))}}(Xo())(w)}const mc=(w,C)=>function(){const H=arguments;return C&&setTimeout(()=>{"scheduled"===C.state&&C.invoke()},10),Io(()=>w.apply(void 0,H))},Ed=(w,C)=>function(){let M;const H=arguments;for(let X=0;X<arguments.length;X++)"function"==typeof H[X]&&(C&&(M||(M=Io(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jo,{},Jo,Jo)))),H[X]=mc(H[X],M));const Y=function Na(w){return Xo().ngZone.runOutsideAngular(()=>w())}(()=>w.apply(this,H));if(!C){if(Y instanceof ir.y){const X=Xo();return Y.pipe((0,Qo.R)(X.outsideAngular),(0,vi.Q)(X.insideAngular))}return Io(()=>Y)}return Y instanceof ir.y?Y.pipe(gc):Y instanceof Promise?Io(()=>new Promise((X,pe)=>Y.then(tt=>Io(()=>X(tt)),tt=>Io(()=>pe(tt))))):"function"==typeof Y&&M?function(){return setTimeout(()=>{M&&"scheduled"===M.state&&M.invoke()},10),Y.apply(this,arguments)}:Io(()=>Y)}},1389:(Dt,ce,$)=>{"use strict";$.d(ce,{$:()=>Bt,A:()=>W,D:()=>Pe,I:()=>Wn,J:()=>br,L:()=>$i,N:()=>kr,P:()=>ss,Q:()=>Us,R:()=>cl,U:()=>eu,V:()=>tu,W:()=>oo,X:()=>Xi,Y:()=>da,Z:()=>Gu,_:()=>lo,a:()=>yi,a0:()=>Wu,a1:()=>Lo,a2:()=>id,a3:()=>Zu,a4:()=>ii,a5:()=>Ku,a6:()=>Cs,a7:()=>hr,a8:()=>Ds,a9:()=>Si,aA:()=>oe,aB:()=>pl,aC:()=>kn,aD:()=>Gr,aE:()=>Yo,aF:()=>_u,aG:()=>vu,aH:()=>yn,aL:()=>Ss,aO:()=>Es,aa:()=>ya,ab:()=>Qu,ac:()=>sd,ad:()=>Ju,ae:()=>Xu,af:()=>su,ai:()=>Ts,aj:()=>el,ak:()=>Cr,an:()=>ql,ao:()=>uu,aq:()=>Ct,ar:()=>Ca,as:()=>Et,at:()=>At,au:()=>De,av:()=>Re,aw:()=>Ut,ax:()=>Lr,ay:()=>Xt,az:()=>xe,b:()=>il,c:()=>zi,d:()=>xa,e:()=>uc,f:()=>wu,g:()=>fc,h:()=>hc,i:()=>Xl,j:()=>jh,k:()=>qi,l:()=>gu,m:()=>ml,o:()=>Cd,p:()=>ve,r:()=>pd,s:()=>wo,u:()=>Hi});var d=$(5861),N=$(2090),L=$(6881),ie=$(655),le=$(1877),ae=$(4859);const ve={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},W={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Pe=function te(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ye=function ze(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new N.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ae=new le.Yd("@firebase/auth");function He(v,...f){Ae.logLevel<=le.in.ERROR&&Ae.error(`Auth (${L.SDK_VERSION}): ${v}`,...f)}function Re(v,...f){throw Ve(v,...f)}function xe(v,...f){return Ve(v,...f)}function Ne(v,f,m){const b=Object.assign(Object.assign({},Ye()),{[f]:m});return new N.LL("auth","Firebase",b).create(f,{appName:v.name})}function qe(v,f,m){if(!(f instanceof m))throw m.name!==f.constructor.name&&Re(v,"argument-error"),Ne(v,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ve(v,...f){if("string"!=typeof v){const m=f[0],b=[...f.slice(1)];return b[0]&&(b[0].appName=v.name),v._errorFactory.create(m,...b)}return Qe.create(v,...f)}function oe(v,f,...m){if(!v)throw Ve(f,...m)}function et(v){const f="INTERNAL ASSERTION FAILED: "+v;throw He(f),new Error(f)}function Et(v,f){v||et(f)}function rt(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Qt(){return"http:"===ct()||"https:"===ct()}function ct(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class Ee{constructor(f,m){this.shortDelay=f,this.longDelay=m,Et(m>f,"Short delay should be less than long delay!"),this.isMobile=(0,N.uI)()||(0,N.b$)()}get(){return function hi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qt()||(0,N.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Me(v,f){Et(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return f?`${m}${f.startsWith("/")?f.slice(1):f}`:m}class ke{static initialize(f,m,b){this.fetchImpl=f,m&&(this.headersImpl=m),b&&(this.responseImpl=b)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void et("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void et("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void et("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ke={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Be=new Ee(3e4,6e4);function Oe(v,f){return v.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:v.tenantId}):f}function yt(v,f,m,b){return vn.apply(this,arguments)}function vn(){return(vn=(0,d.Z)(function*(v,f,m,b,P={}){return nt(v,P,(0,d.Z)(function*(){let V={},ee={};b&&("GET"===f?ee=b:V={body:JSON.stringify(b)});const fe=(0,N.xO)(Object.assign({key:v.config.apiKey},ee)).slice(1),We=yield v._getAdditionalHeaders();return We["Content-Type"]="application/json",v.languageCode&&(We["X-Firebase-Locale"]=v.languageCode),ke.fetch()(En(v,v.config.apiHost,m,fe),Object.assign({method:f,headers:We,referrerPolicy:"no-referrer"},V))}))})).apply(this,arguments)}function nt(v,f,m){return ht.apply(this,arguments)}function ht(){return(ht=(0,d.Z)(function*(v,f,m){v._canInitEmulator=!1;const b=Object.assign(Object.assign({},Ke),f);try{const P=new mr(v),V=yield Promise.race([m(),P.promise]);P.clearNetworkTimeout();const ee=yield V.json();if("needConfirmation"in ee)throw Hn(v,"account-exists-with-different-credential",ee);if(V.ok&&!("errorMessage"in ee))return ee;{const fe=V.ok?ee.errorMessage:ee.error.message,[We,it]=fe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===We)throw Hn(v,"credential-already-in-use",ee);if("EMAIL_EXISTS"===We)throw Hn(v,"email-already-in-use",ee);if("USER_DISABLED"===We)throw Hn(v,"user-disabled",ee);const St=b[We]||We.toLowerCase().replace(/[_\s]+/g,"-");if(it)throw Ne(v,St,it);Re(v,St)}}catch(P){if(P instanceof N.ZR)throw P;Re(v,"network-request-failed",{message:String(P)})}})).apply(this,arguments)}function ln(v,f,m,b){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,d.Z)(function*(v,f,m,b,P={}){const V=yield yt(v,f,m,b,P);return"mfaPendingCredential"in V&&Re(v,"multi-factor-auth-required",{_serverResponse:V}),V})).apply(this,arguments)}function En(v,f,m,b){const P=`${f}${m}?${b}`;return v.config.emulator?Me(v.config,P):`${v.config.apiScheme}://${P}`}class mr{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((m,b)=>{this.timer=setTimeout(()=>b(xe(this.auth,"network-request-failed")),Be.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Hn(v,f,m){const b={appName:v.name};m.email&&(b.email=m.email),m.phoneNumber&&(b.phoneNumber=m.phoneNumber);const P=xe(v,f,b);return P.customData._tokenResponse=m,P}function _n(){return(_n=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Rr(){return(Rr=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function cn(){return(cn=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function pt(v){if(v)try{const f=new Date(Number(v));if(!isNaN(f.getTime()))return f.toUTCString()}catch{}}function Kn(){return(Kn=(0,d.Z)(function*(v,f=!1){const m=(0,N.m9)(v),b=yield m.getIdToken(f),P=Nr(b);oe(P&&P.exp&&P.auth_time&&P.iat,m.auth,"internal-error");const V="object"==typeof P.firebase?P.firebase:void 0,ee=V?.sign_in_provider;return{claims:P,token:b,authTime:pt(yr(P.auth_time)),issuedAtTime:pt(yr(P.iat)),expirationTime:pt(yr(P.exp)),signInProvider:ee||null,signInSecondFactor:V?.sign_in_second_factor||null}})).apply(this,arguments)}function yr(v){return 1e3*Number(v)}function Nr(v){const[f,m,b]=v.split(".");if(void 0===f||void 0===m||void 0===b)return He("JWT malformed, contained fewer than 3 sections"),null;try{const P=(0,N.tV)(m);return P?JSON.parse(P):(He("Failed to decode base64 JWT payload"),null)}catch(P){return He("Caught error parsing JWT payload as JSON",P?.toString()),null}}function Jt(v,f){return gt.apply(this,arguments)}function gt(){return(gt=(0,d.Z)(function*(v,f,m=!1){if(m)return f;try{return yield f}catch(b){throw b instanceof N.ZR&&function Je({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}(b)&&v.auth.currentUser===v&&(yield v.auth.signOut()),b}})).apply(this,arguments)}class Yn{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var m;if(f){const b=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),b}{this.errorBackoff=3e4;const P=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,P)}}schedule(f=!1){var m=this;if(!this.isRunning)return;const b=this.getInterval(f);this.timerId=setTimeout((0,d.Z)(function*(){yield m.iteration()}),b)}iteration(){var f=this;return(0,d.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&f.schedule(!0))}f.schedule()})()}}class vr{constructor(f,m){this.createdAt=f,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=pt(this.lastLoginAt),this.creationTime=pt(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Un(v){return Yr.apply(this,arguments)}function Yr(){return Yr=(0,d.Z)(function*(v){var f;const m=v.auth,b=yield v.getIdToken(),P=yield Jt(v,function Vn(v,f){return cn.apply(this,arguments)}(m,{idToken:b}));oe(P?.users.length,m,"internal-error");const V=P.users[0];v._notifyReloadListener(V);const ee=null!==(f=V.providerUserInfo)&&void 0!==f&&f.length?function fi(v){return v.map(f=>{var{providerId:m}=f,b=(0,ie._T)(f,["providerId"]);return{providerId:m,uid:b.rawId||"",displayName:b.displayName||null,email:b.email||null,phoneNumber:b.phoneNumber||null,photoURL:b.photoUrl||null}})}(V.providerUserInfo):[],fe=function nn(v,f){return[...v.filter(b=>!f.some(P=>P.providerId===b.providerId)),...f]}(v.providerData,ee),St=!!v.isAnonymous&&!(v.email&&V.passwordHash||fe?.length),rn={uid:V.localId,displayName:V.displayName||null,photoURL:V.photoUrl||null,email:V.email||null,emailVerified:V.emailVerified||!1,phoneNumber:V.phoneNumber||null,tenantId:V.tenantId||null,providerData:fe,metadata:new vr(V.createdAt,V.lastLoginAt),isAnonymous:St};Object.assign(v,rn)}),Yr.apply(this,arguments)}function On(){return(On=(0,d.Z)(function*(v){const f=(0,N.m9)(v);yield Un(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function Qr(){return(Qr=(0,d.Z)(function*(v,f){const m=yield nt(v,{},(0,d.Z)(function*(){const b=(0,N.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:P,apiKey:V}=v.config,ee=En(v,P,"/v1/token",`key=${V}`),fe=yield v._getAdditionalHeaders();return fe["Content-Type"]="application/x-www-form-urlencoded",ke.fetch()(ee,{method:"POST",headers:fe,body:b})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Wt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){oe(f.idToken,"internal-error"),oe(typeof f.idToken<"u","internal-error"),oe(typeof f.refreshToken<"u","internal-error");const m="expiresIn"in f&&typeof f.expiresIn<"u"?Number(f.expiresIn):function hn(v){const f=Nr(v);return oe(f,"internal-error"),oe(typeof f.exp<"u","internal-error"),oe(typeof f.iat<"u","internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,m)}getToken(f,m=!1){var b=this;return(0,d.Z)(function*(){return oe(!b.accessToken||b.refreshToken,f,"user-token-expired"),m||!b.accessToken||b.isExpired?b.refreshToken?(yield b.refresh(f,b.refreshToken),b.accessToken):null:b.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,m){var b=this;return(0,d.Z)(function*(){const{accessToken:P,refreshToken:V,expiresIn:ee}=yield function an(v,f){return Qr.apply(this,arguments)}(f,m);b.updateTokensAndExpiration(P,V,Number(ee))})()}updateTokensAndExpiration(f,m,b){this.refreshToken=m||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*b}static fromJSON(f,m){const{refreshToken:b,accessToken:P,expirationTime:V}=m,ee=new Wt;return b&&(oe("string"==typeof b,"internal-error",{appName:f}),ee.refreshToken=b),P&&(oe("string"==typeof P,"internal-error",{appName:f}),ee.accessToken=P),V&&(oe("number"==typeof V,"internal-error",{appName:f}),ee.expirationTime=V),ee}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Wt,this.toJSON())}_performRefresh(){return et("not implemented")}}function Bn(v,f){oe("string"==typeof v||typeof v>"u","internal-error",{appName:f})}class $n{constructor(f){var{uid:m,auth:b,stsTokenManager:P}=f,V=(0,ie._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Yn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=b,this.stsTokenManager=P,this.accessToken=P.accessToken,this.displayName=V.displayName||null,this.email=V.email||null,this.emailVerified=V.emailVerified||!1,this.phoneNumber=V.phoneNumber||null,this.photoURL=V.photoURL||null,this.isAnonymous=V.isAnonymous||!1,this.tenantId=V.tenantId||null,this.providerData=V.providerData?[...V.providerData]:[],this.metadata=new vr(V.createdAt||void 0,V.lastLoginAt||void 0)}getIdToken(f){var m=this;return(0,d.Z)(function*(){const b=yield Jt(m,m.stsTokenManager.getToken(m.auth,f));return oe(b,m.auth,"internal-error"),m.accessToken!==b&&(m.accessToken=b,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),b})()}getIdTokenResult(f){return function zn(v){return Kn.apply(this,arguments)}(this,f)}reload(){return function Gn(v){return On.apply(this,arguments)}(this)}_assign(f){this!==f&&(oe(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(m=>Object.assign({},m)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){const m=new $n(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(f){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,m=!1){var b=this;return(0,d.Z)(function*(){let P=!1;f.idToken&&f.idToken!==b.stsTokenManager.accessToken&&(b.stsTokenManager.updateFromServerResponse(f),P=!0),m&&(yield Un(b)),yield b.auth._persistUserIfCurrent(b),P&&b.auth._notifyListenersIfCurrent(b)})()}delete(){var f=this;return(0,d.Z)(function*(){const m=yield f.getIdToken();return yield Jt(f,function Lt(v,f){return _n.apply(this,arguments)}(f.auth,{idToken:m})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,m){var b,P,V,ee,fe,We,it,St;const rn=null!==(b=m.displayName)&&void 0!==b?b:void 0,_i=null!==(P=m.email)&&void 0!==P?P:void 0,ea=null!==(V=m.phoneNumber)&&void 0!==V?V:void 0,Oa=null!==(ee=m.photoURL)&&void 0!==ee?ee:void 0,vc=null!==(fe=m.tenantId)&&void 0!==fe?fe:void 0,Zs=null!==(We=m._redirectEventId)&&void 0!==We?We:void 0,qh=null!==(it=m.createdAt)&&void 0!==it?it:void 0,Dd=null!==(St=m.lastLoginAt)&&void 0!==St?St:void 0,{uid:_c,emailVerified:Fa,isAnonymous:Td,providerData:Sd,stsTokenManager:wl}=m;oe(_c&&wl,f,"internal-error");const Ad=Wt.fromJSON(this.name,wl);oe("string"==typeof _c,f,"internal-error"),Bn(rn,f.name),Bn(_i,f.name),oe("boolean"==typeof Fa,f,"internal-error"),oe("boolean"==typeof Td,f,"internal-error"),Bn(ea,f.name),Bn(Oa,f.name),Bn(vc,f.name),Bn(Zs,f.name),Bn(qh,f.name),Bn(Dd,f.name);const bl=new $n({uid:_c,auth:f,email:_i,emailVerified:Fa,displayName:rn,isAnonymous:Td,photoURL:Oa,phoneNumber:ea,tenantId:vc,stsTokenManager:Ad,createdAt:qh,lastLoginAt:Dd});return Sd&&Array.isArray(Sd)&&(bl.providerData=Sd.map(La=>Object.assign({},La))),Zs&&(bl._redirectEventId=Zs),bl}static _fromIdTokenResponse(f,m,b=!1){return(0,d.Z)(function*(){const P=new Wt;P.updateFromServerResponse(m);const V=new $n({uid:m.localId,auth:f,stsTokenManager:P,isAnonymous:b});return yield Un(V),V})()}}const _r=new Map;function kn(v){Et(v instanceof Function,"Expected a class definition");let f=_r.get(v);return f?(Et(f instanceof v,"Instance stored in cache mismatched with class"),f):(f=new v,_r.set(v,f),f)}const kr=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,d.Z)(function*(){return!0})()}_set(m,b){var P=this;return(0,d.Z)(function*(){P.storage[m]=b})()}_get(m){var b=this;return(0,d.Z)(function*(){const P=b.storage[m];return void 0===P?null:P})()}_remove(m){var b=this;return(0,d.Z)(function*(){delete b.storage[m]})()}_addListener(m,b){}_removeListener(m,b){}}return v.type="NONE",v})();function Gr(v,f,m){return`firebase:${v}:${f}:${m}`}class q{constructor(f,m,b){this.persistence=f,this.auth=m,this.userKey=b;const{config:P,name:V}=this.auth;this.fullUserKey=Gr(this.userKey,P.apiKey,V),this.fullPersistenceKey=Gr("persistence",P.apiKey,V),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,d.Z)(function*(){const m=yield f.persistence._get(f.fullUserKey);return m?$n._fromJSON(f.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var m=this;return(0,d.Z)(function*(){if(m.persistence===f)return;const b=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=f,b?m.setCurrentUser(b):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,m,b="authUser"){return(0,d.Z)(function*(){if(!m.length)return new q(kn(kr),f,b);const P=(yield Promise.all(m.map(function(){var it=(0,d.Z)(function*(St){if(yield St._isAvailable())return St});return function(St){return it.apply(this,arguments)}}()))).filter(it=>it);let V=P[0]||kn(kr);const ee=Gr(b,f.config.apiKey,f.name);let fe=null;for(const it of m)try{const St=yield it._get(ee);if(St){const rn=$n._fromJSON(f,St);it!==V&&(fe=rn),V=it;break}}catch{}const We=P.filter(it=>it._shouldAllowMigration);return V._shouldAllowMigration&&We.length?(V=We[0],fe&&(yield V._set(ee,fe.toJSON())),yield Promise.all(m.map(function(){var it=(0,d.Z)(function*(St){if(St!==V)try{yield St._remove(ee)}catch{}});return function(St){return it.apply(this,arguments)}}())),new q(V,f,b)):new q(V,f,b)})()}}function G(v){const f=v.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Q(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(U(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(at(f))return"Blackberry";if(Rt(f))return"Webos";if(B(f))return"Safari";if((f.includes("chrome/")||k(f))&&!f.includes("edge/"))return"Chrome";if(De(f))return"Android";{const b=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===b?.length)return b[1]}return"Other"}function U(v=(0,N.z$)()){return/firefox\//i.test(v)}function B(v=(0,N.z$)()){const f=v.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function k(v=(0,N.z$)()){return/crios\//i.test(v)}function Q(v=(0,N.z$)()){return/iemobile/i.test(v)}function De(v=(0,N.z$)()){return/android/i.test(v)}function at(v=(0,N.z$)()){return/blackberry/i.test(v)}function Rt(v=(0,N.z$)()){return/webos/i.test(v)}function At(v=(0,N.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Xt(v=(0,N.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function Ht(v=(0,N.z$)()){return At(v)||De(v)||Rt(v)||at(v)||/windows phone/i.test(v)||Q(v)}function Bi(v,f=[]){let m;switch(v){case"Browser":m=G((0,N.z$)());break;case"Worker":m=`${G((0,N.z$)())}-${v}`;break;default:m=v}const b=f.length?f.join(","):"FirebaseCore-web";return`${m}/JsCore/${L.SDK_VERSION}/${b}`}function re(){return(re=(0,d.Z)(function*(v){return(yield yt(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $e(v,f){return wt.apply(this,arguments)}function wt(){return(wt=(0,d.Z)(function*(v,f){return yt(v,"GET","/v2/recaptchaConfig",Oe(v,f))})).apply(this,arguments)}function Ot(v){return void 0!==v&&void 0!==v.getResponse}function en(v){return void 0!==v&&void 0!==v.enterprise}class It{constructor(f){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===f.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=f.recaptchaKey.split("/")[3],this.emailPasswordEnabled=f.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function dn(v){return new Promise((f,m)=>{const b=document.createElement("script");b.setAttribute("src",v),b.onload=f,b.onerror=P=>{const V=xe("internal-error");V.customData=P,m(V)},b.type="text/javascript",b.charset="UTF-8",function mn(){var v,f;return null!==(f=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==f?f:document}().appendChild(b)})}function wr(v){return`__${v}${Math.floor(1e6*Math.random())}`}const Bl="NO_RECAPTCHA";class ps{constructor(f){this.type="recaptcha-enterprise",this.auth=yn(f)}verify(f="verify",m=!1){var b=this;return(0,d.Z)(function*(){function V(){return V=(0,d.Z)(function*(fe){if(!m){if(null==fe.tenantId&&null!=fe._agentRecaptchaConfig)return fe._agentRecaptchaConfig.siteKey;if(null!=fe.tenantId&&void 0!==fe._tenantRecaptchaConfigs[fe.tenantId])return fe._tenantRecaptchaConfigs[fe.tenantId].siteKey}return new Promise(function(){var We=(0,d.Z)(function*(it,St){$e(fe,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(rn=>{if(void 0!==rn.recaptchaKey){const _i=new It(rn);return null==fe.tenantId?fe._agentRecaptchaConfig=_i:fe._tenantRecaptchaConfigs[fe.tenantId]=_i,it(_i.siteKey)}St(new Error("recaptcha Enterprise site key undefined"))}).catch(rn=>{St(rn)})});return function(it,St){return We.apply(this,arguments)}}())}),V.apply(this,arguments)}function ee(fe,We,it){const St=window.grecaptcha;en(St)?St.enterprise.ready(()=>{St.enterprise.execute(fe,{action:f}).then(rn=>{We(rn)}).catch(()=>{We(Bl)})}):it(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((fe,We)=>{(function P(fe){return V.apply(this,arguments)})(b.auth).then(it=>{if(!m&&en(window.grecaptcha))ee(it,fe,We);else{if(typeof window>"u")return void We(new Error("RecaptchaVerifier is only supported in browser"));dn("https://www.google.com/recaptcha/enterprise.js?render="+it).then(()=>{ee(it,fe,We)}).catch(St=>{We(St)})}}).catch(it=>{We(it)})})})()}}function cr(v,f,m){return st.apply(this,arguments)}function st(){return(st=(0,d.Z)(function*(v,f,m,b=!1){const P=new ps(v);let V;try{V=yield P.verify(m)}catch{V=yield P.verify(m,!0)}const ee=Object.assign({},f);return Object.assign(ee,b?{captchaResp:V}:{captchaResponse:V}),Object.assign(ee,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(ee,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),ee})).apply(this,arguments)}class Kt{constructor(f){this.auth=f,this.queue=[]}pushCallback(f,m){const b=V=>new Promise((ee,fe)=>{try{ee(f(V))}catch(We){fe(We)}});b.onAbort=m,this.queue.push(b);const P=this.queue.length-1;return()=>{this.queue[P]=()=>Promise.resolve()}}runMiddleware(f){var m=this;return(0,d.Z)(function*(){if(m.auth.currentUser===f)return;const b=[];try{for(const P of m.queue)yield P(f),P.onAbort&&b.push(P.onAbort)}catch(P){b.reverse();for(const V of b)try{V()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:P?.message})}})()}}class Fn{constructor(f,m,b,P){this.app=f,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=b,this.config=P,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ji(this),this.idTokenSubscription=new Ji(this),this.beforeStateQueue=new Kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=P.sdkClientVersion}_initializeWithPersistence(f,m){var b=this;return m&&(this._popupRedirectResolver=kn(m)),this._initializationPromise=this.queue((0,d.Z)(function*(){var P,V;if(!b._deleted&&(b.persistenceManager=yield q.create(b,f),!b._deleted)){if(null!==(P=b._popupRedirectResolver)&&void 0!==P&&P._shouldInitProactively)try{yield b._popupRedirectResolver._initialize(b)}catch{}yield b.initializeCurrentUser(m),b.lastNotifiedUid=(null===(V=b.currentUser)||void 0===V?void 0:V.uid)||null,!b._deleted&&(b._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,d.Z)(function*(){if(f._deleted)return;const m=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||m){if(f.currentUser&&m&&f.currentUser.uid===m.uid)return f._currentUser._assign(m),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(m,!0)}})()}initializeCurrentUser(f){var m=this;return(0,d.Z)(function*(){var b;const P=yield m.assertedPersistence.getCurrentUser();let V=P,ee=!1;if(f&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const fe=null===(b=m.redirectUser)||void 0===b?void 0:b._redirectEventId,We=V?._redirectEventId,it=yield m.tryRedirectSignIn(f);(!fe||fe===We)&&it?.user&&(V=it.user,ee=!0)}if(!V)return m.directlySetCurrentUser(null);if(!V._redirectEventId){if(ee)try{yield m.beforeStateQueue.runMiddleware(V)}catch(fe){V=P,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(fe))}return V?m.reloadAndSetCurrentUserOrClear(V):m.directlySetCurrentUser(null)}return oe(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===V._redirectEventId?m.directlySetCurrentUser(V):m.reloadAndSetCurrentUserOrClear(V)})()}tryRedirectSignIn(f){var m=this;return(0,d.Z)(function*(){let b=null;try{b=yield m._popupRedirectResolver._completeRedirectFn(m,f,!0)}catch{yield m._setRedirectUser(null)}return b})()}reloadAndSetCurrentUserOrClear(f){var m=this;return(0,d.Z)(function*(){try{yield Un(f)}catch(b){if("auth/network-request-failed"!==b?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function he(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var f=this;return(0,d.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var m=this;return(0,d.Z)(function*(){const b=f?(0,N.m9)(f):null;return b&&oe(b.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(b&&b._clone(m))})()}_updateCurrentUser(f,m=!1){var b=this;return(0,d.Z)(function*(){if(!b._deleted)return f&&oe(b.tenantId===f.tenantId,b,"tenant-id-mismatch"),m||(yield b.beforeStateQueue.runMiddleware(f)),b.queue((0,d.Z)(function*(){yield b.directlySetCurrentUser(f),b.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,d.Z)(function*(){return yield f.beforeStateQueue.runMiddleware(null),(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null,!0)})()}setPersistence(f){var m=this;return this.queue((0,d.Z)(function*(){yield m.assertedPersistence.setPersistence(kn(f))}))}initializeRecaptchaConfig(){var f=this;return(0,d.Z)(function*(){const m=yield $e(f,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),b=new It(m);null==f.tenantId?f._agentRecaptchaConfig=b:f._tenantRecaptchaConfigs[f.tenantId]=b,b.emailPasswordEnabled&&new ps(f).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new N.LL("auth","Firebase",f())}onAuthStateChanged(f,m,b){return this.registerStateListener(this.authStateSubscription,f,m,b)}beforeAuthStateChanged(f,m){return this.beforeStateQueue.pushCallback(f,m)}onIdTokenChanged(f,m,b){return this.registerStateListener(this.idTokenSubscription,f,m,b)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,m){var b=this;return(0,d.Z)(function*(){const P=yield b.getOrInitRedirectPersistenceManager(m);return null===f?P.removeCurrentUser():P.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var m=this;return(0,d.Z)(function*(){if(!m.redirectPersistenceManager){const b=f&&kn(f)||m._popupRedirectResolver;oe(b,m,"argument-error"),m.redirectPersistenceManager=yield q.create(m,[kn(b._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(f){var m=this;return(0,d.Z)(function*(){var b,P;return m._isInitialized&&(yield m.queue((0,d.Z)(function*(){}))),(null===(b=m._currentUser)||void 0===b?void 0:b._redirectEventId)===f?m._currentUser:(null===(P=m.redirectUser)||void 0===P?void 0:P._redirectEventId)===f?m.redirectUser:null})()}_persistUserIfCurrent(f){var m=this;return(0,d.Z)(function*(){if(f===m.currentUser)return m.queue((0,d.Z)(function*(){return m.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const b=null!==(m=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==b&&(this.lastNotifiedUid=b,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,m,b,P){if(this._deleted)return()=>{};const V="function"==typeof m?m:m.next.bind(m),ee=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(ee,this,"internal-error"),ee.then(()=>V(this.currentUser)),"function"==typeof m?f.addObserver(m,b,P):f.addObserver(m)}directlySetCurrentUser(f){var m=this;return(0,d.Z)(function*(){m.currentUser&&m.currentUser!==f&&m._currentUser._stopProactiveRefresh(),f&&m.isProactiveRefreshEnabled&&f._startProactiveRefresh(),m.currentUser=f,f?yield m.assertedPersistence.setCurrentUser(f):yield m.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=Bi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,d.Z)(function*(){var m;const b={"X-Client-Version":f.clientVersion};f.app.options.appId&&(b["X-Firebase-gmpid"]=f.app.options.appId);const P=yield null===(m=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();P&&(b["X-Firebase-Client"]=P);const V=yield f._getAppCheckToken();return V&&(b["X-Firebase-AppCheck"]=V),b})()}_getAppCheckToken(){var f=this;return(0,d.Z)(function*(){var m;const b=yield null===(m=f.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return b?.error&&function be(v,...f){Ae.logLevel<=le.in.WARN&&Ae.warn(`Auth (${L.SDK_VERSION}): ${v}`,...f)}(`Error while retrieving App Check token: ${b.error}`),b?.token})()}}function yn(v){return(0,N.m9)(v)}class Ji{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,N.ne)(m=>this.observer=m)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(v,f,m){const b=yn(v);oe(b._canInitEmulator,b,"emulator-config-failed"),oe(/^https?:\/\//.test(f),b,"invalid-emulator-scheme");const P=!!m?.disableWarnings,V=No(f),{host:ee,port:fe}=function Ci(v){const f=No(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(f.length));if(!m)return{host:"",port:null};const b=m[2].split("@").pop()||"",P=/^(\[[^\]]+\])(:|$)/.exec(b);if(P){const V=P[1];return{host:V,port:Yt(b.substr(V.length+1))}}{const[V,ee]=b.split(":");return{host:V,port:Yt(ee)}}}(f);b.config.emulator={url:`${V}//${ee}${null===fe?"":`:${fe}`}/`},b.settings.appVerificationDisabledForTesting=!0,b.emulatorConfig=Object.freeze({host:ee,port:fe,protocol:V.replace(":",""),options:Object.freeze({disableWarnings:P})}),P||function la(){function v(){const f=document.createElement("p"),m=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function No(v){const f=v.indexOf(":");return f<0?"":v.substr(0,f+1)}function Yt(v){if(!v)return null;const f=Number(v);return isNaN(f)?null:f}class br{constructor(f,m){this.providerId=f,this.signInMethod=m}toJSON(){return et("not implemented")}_getIdTokenResponse(f){return et("not implemented")}_linkToIdToken(f,m){return et("not implemented")}_getReauthenticationResolver(f){return et("not implemented")}}function eo(v,f){return ms.apply(this,arguments)}function ms(){return(ms=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:resetPassword",Oe(v,f))})).apply(this,arguments)}function Qn(v,f){return ys.apply(this,arguments)}function ys(){return(ys=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function pi(){return(pi=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:update",Oe(v,f))})).apply(this,arguments)}function to(v,f){return Or.apply(this,arguments)}function Or(){return(Or=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithPassword",Oe(v,f))})).apply(this,arguments)}function Tn(v,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:sendOobCode",Oe(v,f))})).apply(this,arguments)}function ko(){return(ko=(0,d.Z)(function*(v,f){return Tn(v,f)})).apply(this,arguments)}function Fs(v,f){return vs.apply(this,arguments)}function vs(){return(vs=(0,d.Z)(function*(v,f){return Tn(v,f)})).apply(this,arguments)}function Ls(v,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,d.Z)(function*(v,f){return Tn(v,f)})).apply(this,arguments)}function qr(){return(qr=(0,d.Z)(function*(v,f){return Tn(v,f)})).apply(this,arguments)}function Vs(){return(Vs=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithEmailLink",Oe(v,f))})).apply(this,arguments)}function Oo(){return(Oo=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithEmailLink",Oe(v,f))})).apply(this,arguments)}class Wr extends br{constructor(f,m,b,P=null){super("password",b),this._email=f,this._password=m,this._tenantId=P}static _fromEmailAndPassword(f,m){return new Wr(f,m,"password")}static _fromEmailAndCode(f,m,b=null){return new Wr(f,m,"emailLink",b)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(f){var m=this;return(0,d.Z)(function*(){var b;switch(m.signInMethod){case"password":const P={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=f._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const V=yield cr(f,P,"signInWithPassword");return to(f,V)}return to(f,P).catch(function(){var V=(0,d.Z)(function*(ee){if("auth/missing-recaptcha-token"===ee.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const fe=yield cr(f,P,"signInWithPassword");return to(f,fe)}return Promise.reject(ee)});return function(ee){return V.apply(this,arguments)}}());case"emailLink":return function Di(v,f){return Vs.apply(this,arguments)}(f,{email:m._email,oobCode:m._password});default:Re(f,"internal-error")}})()}_linkToIdToken(f,m){var b=this;return(0,d.Z)(function*(){switch(b.signInMethod){case"password":return Qn(f,{idToken:m,returnSecureToken:!0,email:b._email,password:b._password});case"emailLink":return function ca(v,f){return Oo.apply(this,arguments)}(f,{idToken:m,email:b._email,oobCode:b._password});default:Re(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function _s(v,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithIdp",Oe(v,f))})).apply(this,arguments)}class $i extends br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const m=new $i(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(m.idToken=f.idToken),f.accessToken&&(m.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(m.nonce=f.nonce),f.pendingToken&&(m.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(m.accessToken=f.oauthToken,m.secret=f.oauthTokenSecret):Re("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:P}=m,V=(0,ie._T)(m,["providerId","signInMethod"]);if(!b||!P)return null;const ee=new $i(b,P);return ee.idToken=V.idToken||void 0,ee.accessToken=V.accessToken||void 0,ee.secret=V.secret,ee.nonce=V.nonce,ee.pendingToken=V.pendingToken||null,ee}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,_s(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,_s(f,m)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),f.postBody=(0,N.xO)(m)}return f}}function no(){return(no=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:sendVerificationCode",Oe(v,f))})).apply(this,arguments)}function zu(){return(zu=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Oe(v,f))})).apply(this,arguments)}function Qa(){return(Qa=(0,d.Z)(function*(v,f){const m=yield ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Oe(v,f));if(m.temporaryProof)throw Hn(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ja={USER_NOT_FOUND:"user-not-found"};function jl(){return(jl=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithPhoneNumber",Oe(v,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Ja)})).apply(this,arguments)}class bs extends br{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,m){return new bs({verificationId:f,verificationCode:m})}static _fromTokenResponse(f,m){return new bs({phoneNumber:f,temporaryProof:m})}_getIdTokenResponse(f){return function $l(v,f){return zu.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,m){return function rd(v,f){return Qa.apply(this,arguments)}(f,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Xa(v,f){return jl.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:m,verificationId:b,verificationCode:P}=this.params;return f&&m?{temporaryProof:f,phoneNumber:m}:{sessionInfo:b,code:P}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:m,verificationCode:b,phoneNumber:P,temporaryProof:V}=f;return b||m||P||V?new bs({verificationId:m,verificationCode:b,phoneNumber:P,temporaryProof:V}):null}}class io{constructor(f){var m,b,P,V,ee,fe;const We=(0,N.zd)((0,N.pd)(f)),it=null!==(m=We.apiKey)&&void 0!==m?m:null,St=null!==(b=We.oobCode)&&void 0!==b?b:null,rn=function ro(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(P=We.mode)&&void 0!==P?P:null);oe(it&&St&&rn,"argument-error"),this.apiKey=it,this.operation=rn,this.code=St,this.continueUrl=null!==(V=We.continueUrl)&&void 0!==V?V:null,this.languageCode=null!==(ee=We.languageCode)&&void 0!==ee?ee:null,this.tenantId=null!==(fe=We.tenantId)&&void 0!==fe?fe:null}static parseLink(f){const m=function Hl(v){const f=(0,N.zd)((0,N.pd)(v)).link,m=f?(0,N.zd)((0,N.pd)(f)).deep_link_id:null,b=(0,N.zd)((0,N.pd)(v)).deep_link_id;return(b?(0,N.zd)((0,N.pd)(b)).link:null)||b||m||f||v}(f);try{return new io(m)}catch{return null}}}let Us=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,b){return Wr._fromEmailAndPassword(m,b)}static credentialWithLink(m,b){const P=io.parseLink(b);return oe(P,"argument-error"),Wr._fromEmailAndCode(m,P.code,P.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Bs{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class so extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Xi extends so{static credentialFromJSON(f){const m="string"==typeof f?JSON.parse(f):f;return oe("providerId"in m&&"signInMethod"in m,"argument-error"),$i._fromParams(m)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return oe(f.idToken||f.accessToken,"argument-error"),$i._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Xi.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Xi.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:m,oauthAccessToken:b,oauthTokenSecret:P,pendingToken:V,nonce:ee,providerId:fe}=f;if(!b&&!P&&!m&&!V||!fe)return null;try{return new Xi(fe)._credential({idToken:m,accessToken:b,nonce:ee,pendingToken:V})}catch{return null}}}let eu=(()=>{class v extends so{constructor(){super("facebook.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),tu=(()=>{class v extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(m,b){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:b,oauthAccessToken:P}=m;if(!b&&!P)return null;try{return v.credential(b,P)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),oo=(()=>{class v extends so{constructor(){super("github.com")}static credential(m){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Es extends br{constructor(f,m){super(f,f),this.pendingToken=m}_getIdTokenResponse(f){return _s(f,this.buildRequest())}_linkToIdToken(f,m){const b=this.buildRequest();return b.idToken=m,_s(f,b)}_getReauthenticationResolver(f){const m=this.buildRequest();return m.autoCreate=!1,_s(f,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const m="string"==typeof f?JSON.parse(f):f,{providerId:b,signInMethod:P,pendingToken:V}=m;return b&&P&&V&&b===P?new Es(b,V):null}static _create(f,m){return new Es(f,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class da extends Bs{constructor(f){oe(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return da.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return da.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const m=Es.fromJSON(f);return oe(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:m,providerId:b}=f;if(!m||!b)return null;try{return Es._create(b,m)}catch{return null}}}let Gu=(()=>{class v extends so{constructor(){super("twitter.com")}static credential(m,b){return $i._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:b})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:b,oauthTokenSecret:P}=m;if(!b||!P)return null;try{return v.credential(b,P)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function ao(v,f){return $s.apply(this,arguments)}function $s(){return($s=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signUp",Oe(v,f))})).apply(this,arguments)}class jn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,m,b,P=!1){return(0,d.Z)(function*(){const V=yield $n._fromIdTokenResponse(f,b,P),ee=uo(b);return new jn({user:V,providerId:ee,_tokenResponse:b,operationType:m})})()}static _forOperation(f,m,b){return(0,d.Z)(function*(){yield f._updateTokensIfNecessary(b,!0);const P=uo(b);return new jn({user:f,providerId:P,_tokenResponse:b,operationType:m})})()}}function uo(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function lo(v){return rr.apply(this,arguments)}function rr(){return(rr=(0,d.Z)(function*(v){var f;const m=yn(v);if(yield m._initializationPromise,null!==(f=m.currentUser)&&void 0!==f&&f.isAnonymous)return new jn({user:m.currentUser,providerId:null,operationType:"signIn"});const b=yield ao(m,{returnSecureToken:!0}),P=yield jn._fromIdTokenResponse(m,"signIn",b,!0);return yield m._updateCurrentUser(P.user),P})).apply(this,arguments)}class mi extends N.ZR{constructor(f,m,b,P){var V;super(m.code,m.message),this.operationType=b,this.user=P,Object.setPrototypeOf(this,mi.prototype),this.customData={appName:f.name,tenantId:null!==(V=f.tenantId)&&void 0!==V?V:void 0,_serverResponse:m.customData._serverResponse,operationType:b}}static _fromErrorAndOperation(f,m,b,P){return new mi(f,m,b,P)}}function js(v,f,m,b){return("reauthenticate"===f?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(V=>{throw"auth/multi-factor-auth-required"===V.code?mi._fromErrorAndOperation(v,V,f,b):V})}function Ir(v){return new Set(v.map(({providerId:f})=>f).filter(f=>!!f))}function ql(v,f){return ha.apply(this,arguments)}function ha(){return ha=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v);yield Fo(!0,m,f);const{providerUserInfo:b}=yield function Zn(v,f){return Rr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[f]}),P=Ir(b||[]);return m.providerData=m.providerData.filter(V=>P.has(V.providerId)),P.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),ha.apply(this,arguments)}function Zr(v,f){return dr.apply(this,arguments)}function dr(){return(dr=(0,d.Z)(function*(v,f,m=!1){const b=yield Jt(v,f._linkToIdToken(v.auth,yield v.getIdToken()),m);return jn._forOperation(v,"link",b)})).apply(this,arguments)}function Fo(v,f,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,d.Z)(function*(v,f,m){yield Un(f);const P=!1===v?"provider-already-linked":"no-such-provider";oe(Ir(f.providerData).has(m)===v,f.auth,P)})).apply(this,arguments)}function qu(v,f){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,d.Z)(function*(v,f,m=!1){const{auth:b}=v,P="reauthenticate";try{const V=yield Jt(v,js(b,P,f,v),m);oe(V.idToken,b,"internal-error");const ee=Nr(V.idToken);oe(ee,b,"internal-error");const{sub:fe}=ee;return oe(v.uid===fe,b,"user-mismatch"),jn._forOperation(v,P,V)}catch(V){throw"auth/user-not-found"===V?.code&&Re(b,"user-mismatch"),V}})).apply(this,arguments)}function co(v,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,d.Z)(function*(v,f,m=!1){const b="signIn",P=yield js(v,b,f),V=yield jn._fromIdTokenResponse(v,b,P);return m||(yield v._updateCurrentUser(V.user)),V})).apply(this,arguments)}function Bt(v,f){return fa.apply(this,arguments)}function fa(){return(fa=(0,d.Z)(function*(v,f){return co(yn(v),f)})).apply(this,arguments)}function Wu(v,f){return ru.apply(this,arguments)}function ru(){return(ru=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v);return yield Fo(!1,m,f.providerId),Zr(m,f)})).apply(this,arguments)}function Lo(v,f){return pa.apply(this,arguments)}function pa(){return(pa=(0,d.Z)(function*(v,f){return qu((0,N.m9)(v),f)})).apply(this,arguments)}function ga(){return(ga=(0,d.Z)(function*(v,f){return ln(v,"POST","/v1/accounts:signInWithCustomToken",Oe(v,f))})).apply(this,arguments)}function id(v,f){return _e.apply(this,arguments)}function _e(){return _e=(0,d.Z)(function*(v,f){const m=yn(v),b=yield function iu(v,f){return ga.apply(this,arguments)}(m,{token:f,returnSecureToken:!0}),P=yield jn._fromIdTokenResponse(m,"signIn",b);return yield m._updateCurrentUser(P.user),P}),_e.apply(this,arguments)}class zt{constructor(f,m){this.factorId=f,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(f,m){return"phoneInfo"in m?fo._fromServerResponse(f,m):"totpInfo"in m?Vo._fromServerResponse(f,m):Re(f,"internal-error")}}class fo extends zt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,m){return new fo(m)}}class Vo extends zt{constructor(f){super("totp",f)}static _fromServerResponse(f,m){return new Vo(m)}}function Jn(v,f,m){var b;oe((null===(b=m.url)||void 0===b?void 0:b.length)>0,v,"invalid-continue-uri"),oe(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),f.continueUrl=m.url,f.dynamicLinkDomain=m.dynamicLinkDomain,f.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(oe(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),f.iOSBundleId=m.iOS.bundleId),m.android&&(oe(m.android.packageName.length>0,v,"missing-android-pkg-name"),f.androidInstallApp=m.android.installApp,f.androidMinimumVersionCode=m.android.minimumVersion,f.androidPackageName=m.android.packageName)}function Zu(v,f,m){return po.apply(this,arguments)}function po(){return po=(0,d.Z)(function*(v,f,m){var b;const P=yn(v),V={requestType:"PASSWORD_RESET",email:f,clientType:"CLIENT_TYPE_WEB"};if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const ee=yield cr(P,V,"getOobCode",!0);m&&Jn(P,ee,m),yield Fs(P,ee)}else m&&Jn(P,V,m),yield Fs(P,V).catch(function(){var ee=(0,d.Z)(function*(fe){if("auth/missing-recaptcha-token"!==fe.code)return Promise.reject(fe);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const We=yield cr(P,V,"getOobCode",!0);m&&Jn(P,We,m),yield Fs(P,We)}});return function(fe){return ee.apply(this,arguments)}}())}),po.apply(this,arguments)}function ii(v,f,m){return ma.apply(this,arguments)}function ma(){return(ma=(0,d.Z)(function*(v,f,m){yield eo((0,N.m9)(v),{oobCode:f,newPassword:m})})).apply(this,arguments)}function Ku(v,f){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,d.Z)(function*(v,f){yield function ks(v,f){return pi.apply(this,arguments)}((0,N.m9)(v),{oobCode:f})}),Yu.apply(this,arguments)}function Cs(v,f){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v),b=yield eo(m,{oobCode:f}),P=b.requestType;switch(oe(P,m,"internal-error"),P){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":oe(b.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":oe(b.mfaInfo,m,"internal-error");default:oe(b.email,m,"internal-error")}let V=null;return b.mfaInfo&&(V=zt._fromServerResponse(yn(m),b.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.newEmail:b.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===b.requestType?b.email:b.newEmail)||null,multiFactorInfo:V},operation:P}})).apply(this,arguments)}function hr(v,f){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,d.Z)(function*(v,f){const{data:m}=yield Cs((0,N.m9)(v),f);return m.email})).apply(this,arguments)}function Ds(v,f,m){return es.apply(this,arguments)}function es(){return es=(0,d.Z)(function*(v,f,m){var b;const P=yn(v),V={returnSecureToken:!0,email:f,password:m,clientType:"CLIENT_TYPE_WEB"};let ee;if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const it=yield cr(P,V,"signUpPassword");ee=ao(P,it)}else ee=ao(P,V).catch(function(){var it=(0,d.Z)(function*(St){if("auth/missing-recaptcha-token"===St.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const rn=yield cr(P,V,"signUpPassword");return ao(P,rn)}return Promise.reject(St)});return function(St){return it.apply(this,arguments)}}());const fe=yield ee.catch(it=>Promise.reject(it)),We=yield jn._fromIdTokenResponse(P,"signIn",fe);return yield P._updateCurrentUser(We.user),We}),es.apply(this,arguments)}function Si(v,f,m){return Bt((0,N.m9)(v),Us.credential(f,m))}function ya(v,f,m){return zs.apply(this,arguments)}function zs(){return zs=(0,d.Z)(function*(v,f,m){var b;const P=yn(v),V={requestType:"EMAIL_SIGNIN",email:f,clientType:"CLIENT_TYPE_WEB"};function ee(fe,We){oe(We.handleCodeInApp,P,"argument-error"),We&&Jn(P,fe,We)}if(null!==(b=P._getRecaptchaConfig())&&void 0!==b&&b.emailPasswordEnabled){const fe=yield cr(P,V,"getOobCode",!0);ee(fe,m),yield Ls(P,fe)}else ee(V,m),yield Ls(P,V).catch(function(){var fe=(0,d.Z)(function*(We){if("auth/missing-recaptcha-token"!==We.code)return Promise.reject(We);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const it=yield cr(P,V,"getOobCode",!0);ee(it,m),yield Ls(P,it)}});return function(We){return fe.apply(this,arguments)}}())}),zs.apply(this,arguments)}function Qu(v,f){return"EMAIL_SIGNIN"===io.parseLink(f)?.operation}function sd(v,f,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v),P=Us.credentialWithLink(f,m||rt());return oe(P._tenantId===(b.tenantId||null),b,"tenant-id-mismatch"),Bt(b,P)})).apply(this,arguments)}function Bo(){return(Bo=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:createAuthUri",Oe(v,f))})).apply(this,arguments)}function Ju(v,f){return va.apply(this,arguments)}function va(){return va=(0,d.Z)(function*(v,f){const b={identifier:f,continueUri:Qt()?rt():"http://localhost"},{signinMethods:P}=yield function Uo(v,f){return Bo.apply(this,arguments)}((0,N.m9)(v),b);return P||[]}),va.apply(this,arguments)}function Xu(v,f){return go.apply(this,arguments)}function go(){return go=(0,d.Z)(function*(v,f){const m=(0,N.m9)(v),P={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};f&&Jn(m.auth,P,f);const{email:V}=yield function Os(v,f){return ko.apply(this,arguments)}(m.auth,P);V!==v.email&&(yield v.reload())}),go.apply(this,arguments)}function su(v,f,m){return $o.apply(this,arguments)}function $o(){return $o=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v),V={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:f};m&&Jn(b.auth,V,m);const{email:ee}=yield function Hu(v,f){return qr.apply(this,arguments)}(b.auth,V);ee!==v.email&&(yield v.reload())}),$o.apply(this,arguments)}function _a(){return(_a=(0,d.Z)(function*(v,f){return yt(v,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Ts(v,f){return wa.apply(this,arguments)}function wa(){return wa=(0,d.Z)(function*(v,{displayName:f,photoURL:m}){if(void 0===f&&void 0===m)return;const b=(0,N.m9)(v),V={idToken:yield b.getIdToken(),displayName:f,photoUrl:m,returnSecureToken:!0},ee=yield Jt(b,function ou(v,f){return _a.apply(this,arguments)}(b.auth,V));b.displayName=ee.displayName||null,b.photoURL=ee.photoUrl||null;const fe=b.providerData.find(({providerId:We})=>"password"===We);fe&&(fe.displayName=b.displayName,fe.photoURL=b.photoURL),yield b._updateTokensIfNecessary(ee)}),wa.apply(this,arguments)}function el(v,f){return ji((0,N.m9)(v),f,null)}function Cr(v,f){return ji((0,N.m9)(v),null,f)}function ji(v,f,m){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,d.Z)(function*(v,f,m){const{auth:b}=v,V={idToken:yield v.getIdToken(),returnSecureToken:!0};f&&(V.email=f),m&&(V.password=m);const ee=yield Jt(v,Qn(b,V));yield v._updateTokensIfNecessary(ee,!0)})).apply(this,arguments)}class Gs{constructor(f,m,b={}){this.isNewUser=f,this.providerId=m,this.profile=b}}class ba extends Gs{constructor(f,m,b,P){super(f,m,b),this.username=P}}class od extends Gs{constructor(f,m){super(f,"facebook.com",m)}}class tl extends ba{constructor(f,m){super(f,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class ts extends Gs{constructor(f,m){super(f,"google.com",m)}}class ns extends ba{constructor(f,m,b){super(f,"twitter.com",m,b)}}function uu(v){const{user:f,_tokenResponse:m}=v;return f.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function au(v){var f,m;if(!v)return null;const{providerId:b}=v,P=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},V=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!b&&v?.idToken){const ee=null===(m=null===(f=Nr(v.idToken))||void 0===f?void 0:f.firebase)||void 0===m?void 0:m.sign_in_provider;if(ee)return new Gs(V,"anonymous"!==ee&&"custom"!==ee?ee:null)}if(!b)return null;switch(b){case"facebook.com":return new od(V,P);case"github.com":return new tl(V,P);case"google.com":return new ts(V,P);case"twitter.com":return new ns(V,P,v.screenName||null);case"custom":case"anonymous":return new Gs(V,null);default:return new Gs(V,b,P)}}(m)}class z{constructor(f,m,b){this.type=f,this.credential=m,this.auth=b}static _fromIdtoken(f,m){return new z("enroll",f,m)}static _fromMfaPendingCredential(f){return new z("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var m,b;if(f?.multiFactorSession){if(null!==(m=f.multiFactorSession)&&void 0!==m&&m.pendingCredential)return z._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null!==(b=f.multiFactorSession)&&void 0!==b&&b.idToken)return z._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ie{constructor(f,m,b){this.session=f,this.hints=m,this.signInResolver=b}static _fromError(f,m){const b=yn(f),P=m.customData._serverResponse,V=(P.mfaInfo||[]).map(fe=>zt._fromServerResponse(b,fe));oe(P.mfaPendingCredential,b,"internal-error");const ee=z._fromMfaPendingCredential(P.mfaPendingCredential);return new Ie(ee,V,function(){var fe=(0,d.Z)(function*(We){const it=yield We._process(b,ee);delete P.mfaInfo,delete P.mfaPendingCredential;const St=Object.assign(Object.assign({},P),{idToken:it.idToken,refreshToken:it.refreshToken});switch(m.operationType){case"signIn":const rn=yield jn._fromIdTokenResponse(b,m.operationType,St);return yield b._updateCurrentUser(rn.user),rn;case"reauthenticate":return oe(m.user,b,"internal-error"),jn._forOperation(m.user,m.operationType,St);default:Re(b,"internal-error")}});return function(We){return fe.apply(this,arguments)}}())}resolveSignIn(f){var m=this;return(0,d.Z)(function*(){return m.signInResolver(f)})()}}function Ct(v,f){var m;const b=(0,N.m9)(v),P=f;return oe(f.customData.operationType,b,"argument-error"),oe(null===(m=P.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,b,"argument-error"),Ie._fromError(b,P)}class Ia{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(b=>zt._fromServerResponse(f.auth,b)))})}static _fromUser(f){return new Ia(f)}getSession(){var f=this;return(0,d.Z)(function*(){return z._fromIdtoken(yield f.user.getIdToken(),f.user.auth)})()}enroll(f,m){var b=this;return(0,d.Z)(function*(){const P=f,V=yield b.getSession(),ee=yield Jt(b.user,P._process(b.user.auth,V,m));return yield b.user._updateTokensIfNecessary(ee),b.user.reload()})()}unenroll(f){var m=this;return(0,d.Z)(function*(){const b="string"==typeof f?f:f.uid,P=yield m.user.getIdToken();try{const V=yield Jt(m.user,function is(v,f){return yt(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Oe(v,f))}(m.user.auth,{idToken:P,mfaEnrollmentId:b}));m.enrolledFactors=m.enrolledFactors.filter(({uid:ee})=>ee!==b),yield m.user._updateTokensIfNecessary(V),yield m.user.reload()}catch(V){throw V}})()}}const Ho=new WeakMap;function Ca(v){const f=(0,N.m9)(v);return Ho.has(f)||Ho.set(f,Ia._fromUser(f)),Ho.get(f)}const cu="__sak";class du{constructor(f,m){this.storageRetriever=f,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(cu,"1"),this.storage.removeItem(cu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(f,m){return this.storage.setItem(f,JSON.stringify(m)),Promise.resolve()}_get(f){const m=this.storage.getItem(f);return Promise.resolve(m?JSON.parse(m):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const il=(()=>{class v extends du{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,b)=>this.onStorageEvent(m,b),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wl(){const v=(0,N.z$)();return B(v)||At(v)}()&&function qn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ht(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const b of Object.keys(this.listeners)){const P=this.storage.getItem(b),V=this.localCache[b];P!==V&&m(b,V,P)}}onStorageEvent(m,b=!1){if(!m.key)return void this.forAllChangedKeys((fe,We,it)=>{this.notifyListeners(fe,it)});const P=m.key;if(b?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const fe=this.storage.getItem(P);if(m.newValue!==fe)null!==m.newValue?this.storage.setItem(P,m.newValue):this.storage.removeItem(P);else if(this.localCache[P]===m.newValue&&!b)return}const V=()=>{const fe=this.storage.getItem(P);!b&&this.localCache[P]===fe||this.notifyListeners(P,fe)},ee=this.storage.getItem(P);!function xn(){return(0,N.w1)()&&10===document.documentMode}()||ee===m.newValue||m.newValue===m.oldValue?V():setTimeout(V,10)}notifyListeners(m,b){this.localCache[m]=b;const P=this.listeners[m];if(P)for(const V of Array.from(P))V(b&&JSON.parse(b))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,b,P)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:b,newValue:P}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,b){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,b){var P=()=>super._set,V=this;return(0,d.Z)(function*(){yield P().call(V,m,b),V.localCache[m]=JSON.stringify(b)})()}_get(m){var b=()=>super._get,P=this;return(0,d.Z)(function*(){const V=yield b().call(P,m);return P.localCache[m]=JSON.stringify(V),V})()}_remove(m){var b=()=>super._remove,P=this;return(0,d.Z)(function*(){yield b().call(P,m),delete P.localCache[m]})()}}return v.type="LOCAL",v})(),yi=(()=>{class v extends du{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,b){}_removeListener(m,b){}}return v.type="SESSION",v})();let Yl=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const b=this.receivers.find(V=>V.isListeningto(m));if(b)return b;const P=new v(m);return this.receivers.push(P),P}isListeningto(m){return this.eventTarget===m}handleEvent(m){var b=this;return(0,d.Z)(function*(){const P=m,{eventId:V,eventType:ee,data:fe}=P.data,We=b.handlersMap[ee];if(!We?.size)return;P.ports[0].postMessage({status:"ack",eventId:V,eventType:ee});const it=Array.from(We).map(function(){var rn=(0,d.Z)(function*(_i){return _i(P.origin,fe)});return function(_i){return rn.apply(this,arguments)}}()),St=yield function ad(v){return Promise.all(v.map(function(){var f=(0,d.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(b){return{fulfilled:!1,reason:b}}});return function(m){return f.apply(this,arguments)}}()))}(it);P.ports[0].postMessage({status:"done",eventId:V,eventType:ee,response:St})})()}_subscribe(m,b){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(b)}_unsubscribe(m,b){this.handlersMap[m]&&b&&this.handlersMap[m].delete(b),(!b||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Ss(v="",f=10){let m="";for(let b=0;b<f;b++)m+=Math.floor(10*Math.random());return v+m}class ud{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,m,b=50){var P=this;return(0,d.Z)(function*(){const V=typeof MessageChannel<"u"?new MessageChannel:null;if(!V)throw new Error("connection_unavailable");let ee,fe;return new Promise((We,it)=>{const St=Ss("",20);V.port1.start();const rn=setTimeout(()=>{it(new Error("unsupported_event"))},b);fe={messageChannel:V,onMessage(_i){const ea=_i;if(ea.data.eventId===St)switch(ea.data.status){case"ack":clearTimeout(rn),ee=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(ee),We(ea.data.response);break;default:clearTimeout(rn),clearTimeout(ee),it(new Error("invalid_response"))}}},P.handlers.add(fe),V.port1.addEventListener("message",fe.onMessage),P.target.postMessage({eventType:f,eventId:St,data:m},[V.port2])}).finally(()=>{fe&&P.removeMessageHandler(fe)})})()}}function ar(){return window}function sl(){return typeof ar().WorkerGlobalScope<"u"&&"function"==typeof ar().importScripts}function fu(){return(fu=(0,d.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dr="firebaseLocalStorageDb",Da=1,er="firebaseLocalStorage",Fh="fbase_key";class vo{constructor(f){this.request=f}toPromise(){return new Promise((f,m)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function al(v,f){return v.transaction([er],f?"readwrite":"readonly").objectStore(er)}function Ql(){const v=indexedDB.open(Dr,Da);return new Promise((f,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const b=v.result;try{b.createObjectStore(er,{keyPath:Fh})}catch(P){m(P)}}),v.addEventListener("success",(0,d.Z)(function*(){const b=v.result;b.objectStoreNames.contains(er)?f(b):(b.close(),yield function Ta(){const v=indexedDB.deleteDatabase(Dr);return new vo(v).toPromise()}(),f(yield Ql()))}))})}function Jl(v,f,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,d.Z)(function*(v,f,m){const b=al(v,!0).put({[Fh]:f,value:m});return new vo(b).toPromise()})).apply(this,arguments)}function zo(){return(zo=(0,d.Z)(function*(v,f){const m=al(v,!1).get(f),b=yield new vo(m).toPromise();return void 0===b?null:b.value})).apply(this,arguments)}function pu(v,f){const m=al(v,!0).delete(f);return new vo(m).toPromise()}const Xl=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,d.Z)(function*(){return m.db||(m.db=yield Ql()),m.db})()}_withRetries(m){var b=this;return(0,d.Z)(function*(){let P=0;for(;;)try{const V=yield b._openDb();return yield m(V)}catch(V){if(P++>3)throw V;b.db&&(b.db.close(),b.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,d.Z)(function*(){return sl()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,d.Z)(function*(){m.receiver=Yl._getInstance(function ol(){return sl()?self:null}()),m.receiver._subscribe("keyChanged",function(){var b=(0,d.Z)(function*(P,V){return{keyProcessed:(yield m._poll()).includes(V.key)}});return function(P,V){return b.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var b=(0,d.Z)(function*(P,V){return["keyChanged"]});return function(P,V){return b.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,d.Z)(function*(){var b,P;if(m.activeServiceWorker=yield function ld(){return fu.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new ud(m.activeServiceWorker);const V=yield m.sender._send("ping",{},800);V&&null!==(b=V[0])&&void 0!==b&&b.fulfilled&&null!==(P=V[0])&&void 0!==P&&P.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var b=this;return(0,d.Z)(function*(){if(b.sender&&b.activeServiceWorker&&function cd(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===b.activeServiceWorker)try{yield b.sender._send("keyChanged",{key:m},b.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,d.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ql();return yield Jl(m,cu,"1"),yield pu(m,cu),!0}catch{}return!1})()}_withPendingWrite(m){var b=this;return(0,d.Z)(function*(){b.pendingWrites++;try{yield m()}finally{b.pendingWrites--}})()}_set(m,b){var P=this;return(0,d.Z)(function*(){return P._withPendingWrite((0,d.Z)(function*(){return yield P._withRetries(V=>Jl(V,m,b)),P.localCache[m]=b,P.notifyServiceWorker(m)}))})()}_get(m){var b=this;return(0,d.Z)(function*(){const P=yield b._withRetries(V=>function Lh(v,f){return zo.apply(this,arguments)}(V,m));return b.localCache[m]=P,P})()}_remove(m){var b=this;return(0,d.Z)(function*(){return b._withPendingWrite((0,d.Z)(function*(){return yield b._withRetries(P=>pu(P,m)),delete b.localCache[m],b.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,d.Z)(function*(){const b=yield m._withRetries(ee=>{const fe=al(ee,!1).getAll();return new vo(fe).toPromise()});if(!b)return[];if(0!==m.pendingWrites)return[];const P=[],V=new Set;for(const{fbase_key:ee,value:fe}of b)V.add(ee),JSON.stringify(m.localCache[ee])!==JSON.stringify(fe)&&(m.notifyListeners(ee,fe),P.push(ee));for(const ee of Object.keys(m.localCache))m.localCache[ee]&&!V.has(ee)&&(m.notifyListeners(ee,null),P.push(ee));return P})()}notifyListeners(m,b){this.localCache[m]=b;const P=this.listeners[m];if(P)for(const V of Array.from(P))V(b)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,d.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,b){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(b)}_removeListener(m,b){this.listeners[m]&&(this.listeners[m].delete(b),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})(),ec=1e12;class fd{constructor(f){this.auth=f,this.counter=ec,this._widgets=new Map}render(f,m){const b=this.counter;return this._widgets.set(b,new tc(f,this.auth.name,m||{})),this.counter++,b}reset(f){var m;const b=f||ec;null===(m=this._widgets.get(b))||void 0===m||m.delete(),this._widgets.delete(b)}getResponse(f){var m;return(null===(m=this._widgets.get(f||ec))||void 0===m?void 0:m.getResponse())||""}execute(f){var m=this;return(0,d.Z)(function*(){var b;return null===(b=m._widgets.get(f||ec))||void 0===b||b.execute(),""})()}}class tc{constructor(f,m,b){this.params=b,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const P="string"==typeof f?document.getElementById(f):f;oe(P,"argument-error",{appName:m}),this.container=P,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function nc(v){const f=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let b=0;b<v;b++)f.push(m.charAt(Math.floor(Math.random()*m.length)));return f.join("")}(50);const{callback:f,"expired-callback":m}=this.params;if(f)try{f(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Uh=wr("rcb"),Sm=new Ee(3e4,6e4);class Wo{constructor(){var f;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(f=ar().grecaptcha)||void 0===f||!f.render)}load(f,m=""){return oe(function xm(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),f,"argument-error"),this.shouldResolveImmediately(m)&&Ot(ar().grecaptcha)?Promise.resolve(ar().grecaptcha):new Promise((b,P)=>{const V=ar().setTimeout(()=>{P(xe(f,"network-request-failed"))},Sm.get());ar()[Uh]=()=>{ar().clearTimeout(V),delete ar()[Uh];const fe=ar().grecaptcha;if(!fe||!Ot(fe))return void P(xe(f,"internal-error"));const We=fe.render;fe.render=(it,St)=>{const rn=We(it,St);return this.counter++,rn},this.hostLanguage=m,b(fe)},dn(`https://www.google.com/recaptcha/api.js??${(0,N.xO)({onload:Uh,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(V),P(xe(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){var m;return!(null===(m=ar().grecaptcha)||void 0===m||!m.render)&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Bh{load(f){return(0,d.Z)(function*(){return new fd(f)})()}clearedOneInstance(){}}const Tr="recaptcha",ll={theme:"light",type:"image"};class cl{constructor(f,m=Object.assign({},ll),b){this.parameters=m,this.type=Tr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=yn(b),this.isInvisible="invisible"===this.parameters.size,oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const P="string"==typeof f?document.getElementById(f):f;oe(P,this.auth,"argument-error"),this.container=P,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Bh:new Wo,this.validateStartingState()}verify(){var f=this;return(0,d.Z)(function*(){f.assertNotDestroyed();const m=yield f.render(),b=f.getAssertedRecaptcha();return b.getResponse(m)||new Promise(V=>{const ee=fe=>{fe&&(f.tokenChangeListeners.delete(ee),V(fe))};f.tokenChangeListeners.add(ee),f.isInvisible&&b.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){oe(!this.parameters.sitekey,this.auth,"argument-error"),oe(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),oe(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return m=>{if(this.tokenChangeListeners.forEach(b=>b(m)),"function"==typeof f)f(m);else if("string"==typeof f){const b=ar()[f];"function"==typeof b&&b(m)}}}assertNotDestroyed(){oe(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,d.Z)(function*(){if(yield f.init(),!f.widgetId){let m=f.container;if(!f.isInvisible){const b=document.createElement("div");m.appendChild(b),m=b}f.widgetId=f.getAssertedRecaptcha().render(m,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,d.Z)(function*(){oe(Qt()&&!sl(),f.auth,"internal-error"),yield function rc(){let v=null;return new Promise(f=>{"complete"!==document.readyState?(v=()=>f(),window.addEventListener("load",v)):f()}).catch(f=>{throw v&&window.removeEventListener("load",v),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const m=yield function ye(v){return re.apply(this,arguments)}(f.auth);oe(m,f.auth,"internal-error"),f.parameters.sitekey=m})()}getAssertedRecaptcha(){return oe(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ai{constructor(f,m){this.verificationId=f,this.onConfirmation=m}confirm(f){const m=bs._fromVerification(this.verificationId,f);return this.onConfirmation(m)}}function wo(v,f,m){return ic.apply(this,arguments)}function ic(){return(ic=(0,d.Z)(function*(v,f,m){const b=yn(v),P=yield dl(b,f,(0,N.m9)(m));return new Ai(P,V=>Bt(b,V))})).apply(this,arguments)}function gu(v,f,m){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v);yield Fo(!1,b,"phone");const P=yield dl(b.auth,f,(0,N.m9)(m));return new Ai(P,V=>Wu(b,V))})).apply(this,arguments)}function pd(v,f,m){return sc.apply(this,arguments)}function sc(){return(sc=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v),P=yield dl(b.auth,f,(0,N.m9)(m));return new Ai(P,V=>Lo(b,V))})).apply(this,arguments)}function dl(v,f,m){return oc.apply(this,arguments)}function oc(){return oc=(0,d.Z)(function*(v,f,m){var b;const P=yield m.verify();try{let V;if(oe("string"==typeof P,v,"argument-error"),oe(m.type===Tr,v,"argument-error"),V="string"==typeof f?{phoneNumber:f}:f,"session"in V){const ee=V.session;if("phoneNumber"in V)return oe("enroll"===ee.type,v,"internal-error"),(yield function wn(v,f){return yt(v,"POST","/v2/accounts/mfaEnrollment:start",Oe(v,f))}(v,{idToken:ee.credential,phoneEnrollmentInfo:{phoneNumber:V.phoneNumber,recaptchaToken:P}})).phoneSessionInfo.sessionInfo;{oe("signin"===ee.type,v,"internal-error");const fe=(null===(b=V.multiFactorHint)||void 0===b?void 0:b.uid)||V.multiFactorUid;return oe(fe,v,"missing-multi-factor-info"),(yield function dd(v,f){return yt(v,"POST","/v2/accounts/mfaSignIn:start",Oe(v,f))}(v,{mfaPendingCredential:ee.credential,mfaEnrollmentId:fe,phoneSignInInfo:{recaptchaToken:P}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ee}=yield function nd(v,f){return no.apply(this,arguments)}(v,{phoneNumber:V.phoneNumber,recaptchaToken:P});return ee}}finally{m._reset()}}),oc.apply(this,arguments)}function Hi(v,f){return bn.apply(this,arguments)}function bn(){return(bn=(0,d.Z)(function*(v,f){yield Zr((0,N.m9)(v),f)})).apply(this,arguments)}let ss=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=yn(m)}verifyPhoneNumber(m,b){return dl(this.auth,m,(0,N.m9)(b))}static credential(m,b){return bs._fromVerification(m,b)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:b,temporaryProof:P}=m;return b&&P?bs._fromTokenResponse(b,P):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function mt(v,f){return f?kn(f):(oe(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class os extends br{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return _s(f,this._buildIdpRequest())}_linkToIdToken(f,m){return _s(f,this._buildIdpRequest(m))}_getReauthenticationResolver(f){return _s(f,this._buildIdpRequest())}_buildIdpRequest(f){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(m.idToken=f),m}}function pr(v){return co(v.auth,new os(v),v.bypassAuthState)}function gd(v){const{auth:f,user:m}=v;return oe(m,f,"internal-error"),qu(m,new os(v),v.bypassAuthState)}function mu(v){return oi.apply(this,arguments)}function oi(){return(oi=(0,d.Z)(function*(v){const{auth:f,user:m}=v;return oe(m,f,"internal-error"),Zr(m,new os(v),v.bypassAuthState)})).apply(this,arguments)}class ac{constructor(f,m,b,P,V=!1){this.auth=f,this.resolver=b,this.user=P,this.bypassAuthState=V,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var f=this;return new Promise(function(){var m=(0,d.Z)(function*(b,P){f.pendingPromise={resolve:b,reject:P};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(V){f.reject(V)}});return function(b,P){return m.apply(this,arguments)}}())}onAuthEvent(f){var m=this;return(0,d.Z)(function*(){const{urlResponse:b,sessionId:P,postBody:V,tenantId:ee,error:fe,type:We}=f;if(fe)return void m.reject(fe);const it={auth:m.auth,requestUri:b,sessionId:P,tenantId:ee||void 0,postBody:V||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(We)(it))}catch(St){m.reject(St)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return pr;case"linkViaPopup":case"linkViaRedirect":return mu;case"reauthViaPopup":case"reauthViaRedirect":return gd;default:Re(this.auth,"internal-error")}}resolve(f){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Et(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const md=new Ee(2e3,1e4);function zi(v,f,m){return bo.apply(this,arguments)}function bo(){return(bo=(0,d.Z)(function*(v,f,m){const b=yn(v);qe(v,f,Bs);const P=mt(b,m);return new lc(b,"signInViaPopup",f,P).executeNotNull()})).apply(this,arguments)}function uc(v,f,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v);qe(b.auth,f,Bs);const P=mt(b.auth,m);return new lc(b.auth,"reauthViaPopup",f,P,b).executeNotNull()})).apply(this,arguments)}function xa(v,f,m){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v);qe(b.auth,f,Bs);const P=mt(b.auth,m);return new lc(b.auth,"linkViaPopup",f,P,b).executeNotNull()})).apply(this,arguments)}let lc=(()=>{class v extends ac{constructor(m,b,P,V,ee){super(m,b,V,ee),this.provider=P,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,d.Z)(function*(){const b=yield m.execute();return oe(b,m.auth,"internal-error"),b})()}onExecution(){var m=this;return(0,d.Z)(function*(){Et(1===m.filter.length,"Popup operations only handle one event");const b=Ss();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],b),m.authWindow.associatedEvent=b,m.resolver._originValidation(m.auth).catch(P=>{m.reject(P)}),m.resolver._isIframeWebStorageSupported(m.auth,P=>{P||m.reject(xe(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(xe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var b,P;this.pollId=null!==(P=null===(b=this.authWindow)||void 0===b?void 0:b.window)&&void 0!==P&&P.closed?window.setTimeout(()=>{this.pollId=null,this.reject(xe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,md.get())};m()}}return v.currentPopupAction=null,v})();const yd="pendingRedirect",Gi=new Map;class hl extends ac{constructor(f,m,b=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,b),this.eventId=null}execute(){var f=()=>super.execute,m=this;return(0,d.Z)(function*(){let b=Gi.get(m.auth._key());if(!b){try{const V=(yield function Xr(v,f){return yu.apply(this,arguments)}(m.resolver,m.auth))?yield f().call(m):null;b=()=>Promise.resolve(V)}catch(P){b=()=>Promise.reject(P)}Gi.set(m.auth._key(),b)}return m.bypassAuthState||Gi.set(m.auth._key(),()=>Promise.resolve(null)),b()})()}onAuthEvent(f){var m=()=>super.onAuthEvent,b=this;return(0,d.Z)(function*(){if("signInViaRedirect"===f.type)return m().call(b,f);if("unknown"!==f.type){if(f.eventId){const P=yield b.auth._redirectUserForId(f.eventId);if(P)return b.user=P,m().call(b,f);b.resolve(null)}}else b.resolve(null)})()}onExecution(){return(0,d.Z)(function*(){})()}cleanUp(){}}function yu(){return(yu=(0,d.Z)(function*(v,f){const m=fl(f),b=$h(v);if(!(yield b._isAvailable()))return!1;const P="true"===(yield b._get(m));return yield b._remove(m),P})).apply(this,arguments)}function cc(v,f){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,d.Z)(function*(v,f){return $h(v)._set(fl(f),"true")})).apply(this,arguments)}function vu(){Gi.clear()}function _u(v,f){Gi.set(v._key(),f)}function $h(v){return kn(v._redirectPersistence)}function fl(v){return Gr(yd,v.config.apiKey,v.name)}function wu(v,f,m){return function vd(v,f,m){return dc.apply(this,arguments)}(v,f,m)}function dc(){return(dc=(0,d.Z)(function*(v,f,m){const b=yn(v);qe(v,f,Bs),yield b._initializationPromise;const P=mt(b,m);return yield cc(P,b),P._openRedirect(b,f,"signInViaRedirect")})).apply(this,arguments)}function hc(v,f,m){return function bu(v,f,m){return xi.apply(this,arguments)}(v,f,m)}function xi(){return(xi=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v);qe(b.auth,f,Bs),yield b.auth._initializationPromise;const P=mt(b.auth,m);yield cc(P,b.auth);const V=yield vi(b);return P._openRedirect(b.auth,f,"reauthViaRedirect",V)})).apply(this,arguments)}function fc(v,f,m){return function ai(v,f,m){return Eu.apply(this,arguments)}(v,f,m)}function Eu(){return(Eu=(0,d.Z)(function*(v,f,m){const b=(0,N.m9)(v);qe(b.auth,f,Bs),yield b.auth._initializationPromise;const P=mt(b.auth,m);yield Fo(!1,b,f.providerId),yield cc(P,b.auth);const V=yield vi(b);return P._openRedirect(b.auth,f,"linkViaRedirect",V)})).apply(this,arguments)}function jh(v,f){return ir.apply(this,arguments)}function ir(){return(ir=(0,d.Z)(function*(v,f){return yield yn(v)._initializationPromise,Yo(v,f,!1)})).apply(this,arguments)}function Yo(v,f){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,d.Z)(function*(v,f,m=!1){const b=yn(v),P=mt(b,f),ee=yield new hl(b,P,m).execute();return ee&&!m&&(delete ee.user._redirectEventId,yield b._persistUserIfCurrent(ee.user),yield b._setRedirectUser(null,f)),ee})).apply(this,arguments)}function vi(v){return Sr.apply(this,arguments)}function Sr(){return(Sr=(0,d.Z)(function*(v){const f=Ss(`${v.uid}:::`);return v._redirectEventId=f,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),f})).apply(this,arguments)}class pl{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let m=!1;return this.consumers.forEach(b=>{this.isEventForConsumer(f,b)&&(m=!0,this.sendToConsumer(f,b),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function qs(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return as(v);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=f,m=!0)),m}sendToConsumer(f,m){var b;if(f.error&&!as(f)){const P=(null===(b=f.error.code)||void 0===b?void 0:b.split("auth/")[1])||"internal-error";m.onError(xe(this.auth,P))}else m.onAuthEvent(f)}isEventForConsumer(f,m){const b=null===m.eventId||!!f.eventId&&f.eventId===m.eventId;return m.filter.includes(f.type)&&b}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ma(f))}saveEventToCache(f){this.cachedEventUids.add(Ma(f)),this.lastProcessedEventTime=Date.now()}}function Ma(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(f=>f).join("-")}function as({type:v,error:f}){return"unknown"===v&&"auth/no-auth-event"===f?.code}function Lr(v){return us.apply(this,arguments)}function us(){return(us=(0,d.Z)(function*(v,f={}){return yt(v,"GET","/v1/projects",f)})).apply(this,arguments)}const Mm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gl=/^https?/;function Pa(){return(Pa=(0,d.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:f}=yield Lr(v);for(const m of f)try{if(_d(m))return}catch{}Re(v,"unauthorized-domain")})).apply(this,arguments)}function _d(v){const f=rt(),{protocol:m,hostname:b}=new URL(f);if(v.startsWith("chrome-extension://")){const ee=new URL(v);return""===ee.hostname&&""===b?"chrome-extension:"===m&&v.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===m&&ee.hostname===b}if(!gl.test(m))return!1;if(Mm.test(v))return b===v;const P=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+P+"|"+P+")$","i").test(b)}const Jo=new Ee(3e4,6e4);function Ra(){const v=ar().___jsl;if(v?.H)for(const f of Object.keys(v.H))if(v.H[f].r=v.H[f].r||[],v.H[f].L=v.H[f].L||[],v.H[f].r=[...v.H[f].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Eo=null;const Na=new Ee(5e3,15e3),Io="__/auth/iframe",wd="emulator/auth/iframe",Ws={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bd(v){const f=v.config;oe(f.authDomain,v,"auth-domain-config-required");const m=f.emulator?Me(f,wd):`https://${v.config.authDomain}/${Io}`,b={apiKey:f.apiKey,appName:v.name,v:L.SDK_VERSION},P=gc.get(v.config.apiHost);P&&(b.eid=P);const V=v._getFrameworks();return V.length&&(b.fw=V.join(",")),`${m}?${(0,N.xO)(b).slice(1)}`}function Ed(){return Ed=(0,d.Z)(function*(v){const f=yield function Xo(v){return Eo=Eo||function Ft(v){return new Promise((f,m)=>{var b,P,V;function ee(){Ra(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Ra(),m(xe(v,"network-request-failed"))},timeout:Jo.get()})}if(null!==(P=null===(b=ar().gapi)||void 0===b?void 0:b.iframes)&&void 0!==P&&P.Iframe)f(gapi.iframes.getContext());else{if(null===(V=ar().gapi)||void 0===V||!V.load){const fe=wr("iframefcb");return ar()[fe]=()=>{gapi.load?ee():m(xe(v,"network-request-failed"))},dn(`https://apis.google.com/js/api.js?onload=${fe}`).catch(We=>m(We))}ee()}}).catch(f=>{throw Eo=null,f})}(v),Eo}(v),m=ar().gapi;return oe(m,v,"internal-error"),f.open({where:document.body,url:bd(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ws,dontclear:!0},b=>new Promise(function(){var P=(0,d.Z)(function*(V,ee){yield b.restyle({setHideOnLeave:!1});const fe=xe(v,"network-request-failed"),We=ar().setTimeout(()=>{ee(fe)},Na.get());function it(){ar().clearTimeout(We),V(b)}b.ping(it).then(it,()=>{ee(fe)})});return function(V,ee){return P.apply(this,arguments)}}()))}),Ed.apply(this,arguments)}const w={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C=500,M=600,H="_blank",Y="http://localhost";class X{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xe="__/auth/handler",vt="emulator/auth/handler",$t=encodeURIComponent("fac");function Ut(v,f,m,b,P,V){return sr.apply(this,arguments)}function sr(){return(sr=(0,d.Z)(function*(v,f,m,b,P,V){oe(v.config.authDomain,v,"auth-domain-config-required"),oe(v.config.apiKey,v,"invalid-api-key");const ee={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:b,v:L.SDK_VERSION,eventId:P};if(f instanceof Bs){f.setDefaultLanguage(v.languageCode),ee.providerId=f.providerId||"",(0,N.xb)(f.getCustomParameters())||(ee.customParameters=JSON.stringify(f.getCustomParameters()));for(const[St,rn]of Object.entries(V||{}))ee[St]=rn}if(f instanceof so){const St=f.getScopes().filter(rn=>""!==rn);St.length>0&&(ee.scopes=St.join(","))}v.tenantId&&(ee.tid=v.tenantId);const fe=ee;for(const St of Object.keys(fe))void 0===fe[St]&&delete fe[St];const We=yield v._getAppCheckToken(),it=We?`#${$t}=${encodeURIComponent(We)}`:"";return`${function xt({config:v}){return v.emulator?Me(v,vt):`https://${v.authDomain}/${Xe}`}(v)}?${(0,N.xO)(fe).slice(1)}${it}`})).apply(this,arguments)}const ls="webStorageSupport",qi=class yc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yi,this._completeRedirectFn=Yo,this._overrideRedirectResult=_u}_openPopup(f,m,b,P){var V=this;return(0,d.Z)(function*(){var ee;Et(null===(ee=V.eventManagers[f._key()])||void 0===ee?void 0:ee.manager,"_initialize() not called before _openPopup()");const fe=yield Ut(f,m,b,rt(),P);return function pe(v,f,m,b=C,P=M){const V=Math.max((window.screen.availHeight-P)/2,0).toString(),ee=Math.max((window.screen.availWidth-b)/2,0).toString();let fe="";const We=Object.assign(Object.assign({},w),{width:b.toString(),height:P.toString(),top:V,left:ee}),it=(0,N.z$)().toLowerCase();m&&(fe=k(it)?H:m),U(it)&&(f=f||Y,We.scrollbars="yes");const St=Object.entries(We).reduce((_i,[ea,Oa])=>`${_i}${ea}=${Oa},`,"");if(function Vt(v=(0,N.z$)()){var f;return At(v)&&!(null===(f=window.navigator)||void 0===f||!f.standalone)}(it)&&"_self"!==fe)return function tt(v,f){const m=document.createElement("a");m.href=v,m.target=f;const b=document.createEvent("MouseEvent");b.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(b)}(f||"",fe),new X(null);const rn=window.open(f||"",fe,St);oe(rn,v,"popup-blocked");try{rn.focus()}catch{}return new X(rn)}(f,fe,Ss())})()}_openRedirect(f,m,b,P){var V=this;return(0,d.Z)(function*(){return yield V._originValidation(f),function yo(v){ar().location.href=v}(yield Ut(f,m,b,rt(),P)),new Promise(()=>{})})()}_initialize(f){const m=f._key();if(this.eventManagers[m]){const{manager:P,promise:V}=this.eventManagers[m];return P?Promise.resolve(P):(Et(V,"If manager is not set, promise should be"),V)}const b=this.initAndGetManager(f);return this.eventManagers[m]={promise:b},b.catch(()=>{delete this.eventManagers[m]}),b}initAndGetManager(f){var m=this;return(0,d.Z)(function*(){const b=yield function mc(v){return Ed.apply(this,arguments)}(f),P=new pl(f);return b.register("authEvent",V=>(oe(V?.authEvent,f,"invalid-auth-event"),{status:P.onEvent(V.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[f._key()]={manager:P},m.iframes[f._key()]=b,P})()}_isIframeWebStorageSupported(f,m){this.iframes[f._key()].send(ls,{type:ls},P=>{var V;const ee=null===(V=P?.[0])||void 0===V?void 0:V[ls];void 0!==ee&&m(!!ee),Re(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const m=f._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function pc(v){return Pa.apply(this,arguments)}(f)),this.originValidationPromises[m]}get _shouldInitProactively(){return Ht()||B()||At()}};class Mi{constructor(f){this.factorId=f}_process(f,m,b){switch(m.type){case"enroll":return this._finalizeEnroll(f,m.credential,b);case"signin":return this._finalizeSignIn(f,m.credential);default:return et("unexpected MultiFactorSessionType")}}}class ei extends Mi{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new ei(f)}_finalizeEnroll(f,m,b){return function fr(v,f){return yt(v,"POST","/v2/accounts/mfaEnrollment:finalize",Oe(v,f))}(f,{idToken:m,displayName:b,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,m){return function qo(v,f){return yt(v,"POST","/v2/accounts/mfaSignIn:finalize",Oe(v,f))}(f,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ml=(()=>{class v{constructor(){}static assertion(m){return ei._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var Du="@firebase/auth";class ka{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var m=this;return(0,d.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const m=this.auth.onIdTokenChanged(b=>{f(b?.stsTokenManager.accessToken||null)});this.internalListeners.set(f,m),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const m=this.internalListeners.get(f);m&&(this.internalListeners.delete(f),m(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Gh=(0,N.Pz)("authIdTokenMaxAge")||300;let Pp=null;const Pm=v=>function(){var f=(0,d.Z)(function*(m){const b=m&&(yield m.getIdTokenResult()),P=b&&((new Date).getTime()-Date.parse(b.issuedAtTime))/1e3;if(P&&P>Gh)return;const V=b?.token;Pp!==V&&(Pp=V,yield fetch(v,{method:V?"POST":"DELETE",headers:V?{Authorization:`Bearer ${V}`}:{}}))});return function(m){return f.apply(this,arguments)}}();function Cd(v=(0,L.getApp)()){const f=(0,L._getProvider)(v,"auth");if(f.isInitialized())return f.getImmediate();const m=function or(v,f){const m=(0,L._getProvider)(v,"auth");if(m.isInitialized()){const P=m.getImmediate(),V=m.getOptions();if((0,N.vZ)(V,f??{}))return P;Re(P,"already-initialized")}return m.initialize({options:f})}(v,{popupRedirectResolver:qi,persistence:[Xl,il,yi]}),b=(0,N.Pz)("authTokenSyncURL");if(b){const V=Pm(b);(function mo(v,f,m){(0,N.m9)(v).beforeAuthStateChanged(f,m)})(m,V,()=>V(m.currentUser)),function Ea(v,f,m,b){(0,N.m9)(v).onIdTokenChanged(f,m,b)}(m,ee=>V(ee))}const P=(0,N.q4)("auth");return P&&Wn(m,`http://${P}`),m}!function zh(v){(0,L._registerComponent)(new ae.wA("auth",(f,{options:m})=>{const b=f.getProvider("app").getImmediate(),P=f.getProvider("heartbeat"),V=f.getProvider("app-check-internal"),{apiKey:ee,authDomain:fe}=b.options;oe(ee&&!ee.includes(":"),"invalid-api-key",{appName:b.name});const We={apiKey:ee,authDomain:fe,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bi(v)},it=new Fn(b,P,V,We);return function gs(v,f){const m=f?.persistence||[],b=(Array.isArray(m)?m:[m]).map(kn);f?.errorMap&&v._updateErrorMap(f.errorMap),v._initializeWithPersistence(b,f?.popupRedirectResolver)}(it,m),it},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,m,b)=>{f.getProvider("auth-internal").initialize()})),(0,L._registerComponent)(new ae.wA("auth-internal",f=>{const m=yn(f.getProvider("auth").getImmediate());return new ka(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,L.registerVersion)(Du,"0.23.2",function _l(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,L.registerVersion)(Du,"0.23.2","esm2017")}("Browser")},2090:(Dt,ce,$)=>{"use strict";$.d(ce,{$s:()=>kn,BH:()=>Ne,G6:()=>Me,L:()=>Ce,LL:()=>vn,P0:()=>He,Pz:()=>xe,Sg:()=>qe,UG:()=>et,US:()=>ae,ZB:()=>te,ZR:()=>yt,aH:()=>Re,b$:()=>Qt,eu:()=>Ke,hl:()=>ke,jU:()=>Et,m9:()=>Gr,ne:()=>Jt,pd:()=>Nr,q4:()=>be,r3:()=>Zn,ru:()=>rt,tV:()=>K,uI:()=>oe,vZ:()=>pt,w1:()=>hi,xO:()=>Kn,xb:()=>Vn,z$:()=>Ve,zI:()=>Be,zd:()=>yr});const ie=function(q){const G=[];let U=0;for(let B=0;B<q.length;B++){let k=q.charCodeAt(B);k<128?G[U++]=k:k<2048?(G[U++]=k>>6|192,G[U++]=63&k|128):55296==(64512&k)&&B+1<q.length&&56320==(64512&q.charCodeAt(B+1))?(k=65536+((1023&k)<<10)+(1023&q.charCodeAt(++B)),G[U++]=k>>18|240,G[U++]=k>>12&63|128,G[U++]=k>>6&63|128,G[U++]=63&k|128):(G[U++]=k>>12|224,G[U++]=k>>6&63|128,G[U++]=63&k|128)}return G},ae={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,B=[];for(let k=0;k<q.length;k+=3){const Q=q[k],De=k+1<q.length,at=De?q[k+1]:0,Rt=k+2<q.length,At=Rt?q[k+2]:0;let xn=(15&at)<<2|At>>6,Ht=63&At;Rt||(Ht=64,De||(xn=64)),B.push(U[Q>>2],U[(3&Q)<<4|at>>4],U[xn],U[Ht])}return B.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(ie(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let U=0,B=0;for(;U<q.length;){const k=q[U++];if(k<128)G[B++]=String.fromCharCode(k);else if(k>191&&k<224){const Q=q[U++];G[B++]=String.fromCharCode((31&k)<<6|63&Q)}else if(k>239&&k<365){const Rt=((7&k)<<18|(63&q[U++])<<12|(63&q[U++])<<6|63&q[U++])-65536;G[B++]=String.fromCharCode(55296+(Rt>>10)),G[B++]=String.fromCharCode(56320+(1023&Rt))}else{const Q=q[U++],De=q[U++];G[B++]=String.fromCharCode((15&k)<<12|(63&Q)<<6|63&De)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const U=G?this.charToByteMapWebSafe_:this.charToByteMap_,B=[];for(let k=0;k<q.length;){const Q=U[q.charAt(k++)],at=k<q.length?U[q.charAt(k)]:0;++k;const At=k<q.length?U[q.charAt(k)]:64;++k;const Vt=k<q.length?U[q.charAt(k)]:64;if(++k,null==Q||null==at||null==At||null==Vt)throw new me;B.push(Q<<2|at>>4),64!==At&&(B.push(at<<4&240|At>>2),64!==Vt&&B.push(At<<6&192|Vt))}return B},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class me extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ce=function(q){return function(q){const G=ie(q);return ae.encodeByteArray(G,!0)}(q).replace(/\./g,"")},K=function(q){try{return ae.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function te(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const U in G)!G.hasOwnProperty(U)||!ze(U)||(q[U]=te(q[U],G[U]));return q}function ze(q){return"__proto__"!==q}const Ae=()=>{try{return function Pe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&K(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},be=q=>{var G,U;return null===(U=null===(G=Ae())||void 0===G?void 0:G.emulatorHosts)||void 0===U?void 0:U[q]},He=q=>{const G=be(q);if(!G)return;const U=G.lastIndexOf(":");if(U<=0||U+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const B=parseInt(G.substring(U+1),10);return"["===G[0]?[G.substring(1,U-1),B]:[G.substring(0,U),B]},Re=()=>{var q;return null===(q=Ae())||void 0===q?void 0:q.config},xe=q=>{var G;return null===(G=Ae())||void 0===G?void 0:G[`_${q}`]};class Ne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,U)=>{this.resolve=G,this.reject=U})}wrapCallback(G){return(U,B)=>{U?this.reject(U):this.resolve(B),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(U):G(U,B))}}}function qe(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const B=G||"demo-project",k=q.iat||0,Q=q.sub||q.user_id;if(!Q)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const De=Object.assign({iss:`https://securetoken.google.com/${B}`,aud:B,iat:k,exp:k+3600,auth_time:k,sub:Q,user_id:Q,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Ce(JSON.stringify({alg:"none",type:"JWT"})),Ce(JSON.stringify(De)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function oe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function et(){var q;const G=null===(q=Ae())||void 0===q?void 0:q.forceEnvironment;if("node"===G)return!0;if("browser"===G)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Et(){return"object"==typeof self&&self.self===self}function rt(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function Qt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function hi(){const q=Ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Me(){return!et()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ke(){try{return"object"==typeof indexedDB}catch{return!1}}function Ke(){return new Promise((q,G)=>{try{let U=!0;const B="validate-browser-context-for-indexeddb-analytics-module",k=self.indexedDB.open(B);k.onsuccess=()=>{k.result.close(),U||self.indexedDB.deleteDatabase(B),q(!0)},k.onupgradeneeded=()=>{U=!1},k.onerror=()=>{var Q;G((null===(Q=k.error)||void 0===Q?void 0:Q.message)||"")}}catch(U){G(U)}})}function Be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class yt extends Error{constructor(G,U,B){super(U),this.code=G,this.customData=B,this.name="FirebaseError",Object.setPrototypeOf(this,yt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vn.prototype.create)}}class vn{constructor(G,U,B){this.service=G,this.serviceName=U,this.errors=B}create(G,...U){const B=U[0]||{},k=`${this.service}/${G}`,Q=this.errors[G],De=Q?function nt(q,G){return q.replace(ht,(U,B)=>{const k=G[B];return null!=k?String(k):`<${B}?>`})}(Q,B):"Error";return new yt(k,`${this.serviceName}: ${De} (${k}).`,B)}}const ht=/\{\$([^}]+)}/g;function Zn(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function Vn(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function pt(q,G){if(q===G)return!0;const U=Object.keys(q),B=Object.keys(G);for(const k of U){if(!B.includes(k))return!1;const Q=q[k],De=G[k];if(Nn(Q)&&Nn(De)){if(!pt(Q,De))return!1}else if(Q!==De)return!1}for(const k of B)if(!U.includes(k))return!1;return!0}function Nn(q){return null!==q&&"object"==typeof q}function Kn(q){const G=[];for(const[U,B]of Object.entries(q))Array.isArray(B)?B.forEach(k=>{G.push(encodeURIComponent(U)+"="+encodeURIComponent(k))}):G.push(encodeURIComponent(U)+"="+encodeURIComponent(B));return G.length?"&"+G.join("&"):""}function yr(q){const G={};return q.replace(/^\?/,"").split("&").forEach(B=>{if(B){const[k,Q]=B.split("=");G[decodeURIComponent(k)]=decodeURIComponent(Q)}}),G}function Nr(q){const G=q.indexOf("?");if(!G)return"";const U=q.indexOf("#",G);return q.substring(G,U>0?U:void 0)}function Jt(q,G){const U=new gt(q,G);return U.subscribe.bind(U)}class gt{constructor(G,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{G(this)}).catch(B=>{this.error(B)})}next(G){this.forEachObserver(U=>{U.next(G)})}error(G){this.forEachObserver(U=>{U.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,U,B){let k;if(void 0===G&&void 0===U&&void 0===B)throw new Error("Missing Observer.");k=function Yn(q,G){if("object"!=typeof q||null===q)return!1;for(const U of G)if(U in q&&"function"==typeof q[U])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:U,complete:B},void 0===k.next&&(k.next=vr),void 0===k.error&&(k.error=vr),void 0===k.complete&&(k.complete=vr);const Q=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?k.error(this.finalError):k.complete()}catch{}}),this.observers.push(k),Q}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,G)}sendOne(G,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{U(this.observers[G])}catch(B){typeof console<"u"&&console.error&&console.error(B)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vr(){}const Wt=1e3,Bn=2,$n=144e5,_r=.5;function kn(q,G=Wt,U=Bn){const B=G*Math.pow(U,q),k=Math.round(_r*B*(Math.random()-.5)*2);return Math.min($n,B+k)}function Gr(q){return q&&q._delegate?q._delegate:q}},7938:(Dt,ce,$)=>{"use strict";var d=$(4650);let N=null;function L(){return N}class le{}const ae=new d.OlP("DocumentToken");let me=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return function ve(){return(0,d.LFG)(K)}()},providedIn:"platform"}),n})();const Ce=new d.OlP("Location Initialized");let K=(()=>{class n extends me{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=L().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){W()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){W()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function te(){return new K((0,d.LFG)(ae))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function ze(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Pe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let Qe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Ae)},providedIn:"root"}),n})();const we=new d.OlP("appBaseHref");let Ae=(()=>{class n extends Qe{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,d.f3M)(ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ze(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Ye(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Ye(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(me),d.LFG(we,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),be=(()=>{class n extends Qe{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ze(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Ye(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Ye(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(me),d.LFG(we,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),He=(()=>{class n{constructor(t){this._subject=new d.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Pe(Ne(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function xe(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Ne(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=ze,n.stripTrailingSlash=Pe,n.\u0275fac=function(t){return new(t||n)(d.LFG(Qe))},n.\u0275prov=d.Yz7({token:n,factory:function(){return function Re(){return new He((0,d.LFG)(Qe))}()},providedIn:"root"}),n})();function Ne(n){return n.replace(/\/index.html$/,"")}function ps(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}const cr=/\s+/,st=[];let Kt=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this.initialClasses=st,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(cr):st}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(cr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(cr).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.ZZ4),d.Y36(d.aQg),d.Y36(d.SBq),d.Y36(d.Qsj))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class or{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gs=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new or(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),Wn(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Wn(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc),d.Y36(d.ZZ4))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Wn(n,e){n.context.$implicit=e.item}let Ci=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){la("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){la("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.s_b),d.Y36(d.Rgc))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Yt{constructor(){this.$implicit=null,this.ngIf=null}}function la(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,d.AaK)(e)}'.`)}let ro=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const io="server";function so(n){return n===io}let oo=(()=>{class n{}return n.\u0275prov=(0,d.Yz7)({token:n,providedIn:"root",factory:()=>new Gl((0,d.LFG)(ae),window)}),n})();class Gl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function nu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Es(this.window.history)||Es(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Es(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gu{}class rl extends le{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ea extends rl{static makeCurrent(){!function ie(n){N||(N=n)}(new Ea)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function jo(){return mo=mo||document.querySelector("base"),mo?mo.getAttribute("href"):null}();return null==t?null:function lu(n){rs=rs||document.createElement("a"),rs.setAttribute("href",n);const e=rs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){mo=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ps(document.cookie,e)}}let rs,mo=null;const I=new d.OlP("TRANSITION_ID"),R=[{provide:d.ip1,useFactory:function D(n,e,t){return()=>{t.get(d.CZH).donePromise.then(()=>{const r=L(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[I,ae,d.zs3],multi:!0}];let Ie=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Ct=new d.OlP("EventManagerPlugins");let wn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ct),d.LFG(d.R0b))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class fr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=L().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Fr=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let u=i.get(t)??0;return u+=r,u>0?i.set(t,u):i.delete(t),u}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),si=(()=>{class n extends Fr{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(u=>u.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const u=this.styleRef.get(r);u?u.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const is={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ia=/%COMP%/g,hu=new d.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function il(n,e){return e.flat(100).map(t=>t.replace(Ia,n))}function Kl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let yi=(()=>{class n{constructor(t,r,i,u){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=u,this.rendererByCompId=new Map,this.defaultRenderer=new ad(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof sl?i.applyToHost(t):i instanceof yo&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let u=i.get(r.id);if(!u){const c=this.eventManager,g=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case d.ifc.Emulated:u=new sl(c,g,r,this.appId,_);break;case d.ifc.ShadowDom:return new ar(c,g,t,r);default:u=new yo(c,g,r,_)}u.onDestroy=()=>i.delete(r.id),i.set(r.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(wn),d.LFG(si),d.LFG(d.AFp),d.LFG(hu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();class ad{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(is[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(ud(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ud(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=is[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=is[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(d.JOm.DashCase|d.JOm.Important)?e.style.setProperty(t,r,i&d.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&d.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Kl(r)):this.eventManager.addEventListener(e,t,Kl(r))}}function ud(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class ar extends ad{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=il(i.id,i.styles);for(const c of u){const g=document.createElement("style");g.textContent=c,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yo extends ad{constructor(e,t,r,i,u=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=il(u,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class sl extends yo{constructor(e,t,r,i,u){const c=i+"-"+r.id;super(e,t,r,u,c),this.contentAttr=function Oh(n){return"_ngcontent-%COMP%".replace(Ia,n)}(c),this.hostAttr=function Zl(n){return"_nghost-%COMP%".replace(Ia,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let ld=(()=>{class n extends fr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const fu=["alt","control","meta","shift"],cd={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ol={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Dr=(()=>{class n extends fr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),fu.forEach(S=>{const A=r.indexOf(S);A>-1&&(r.splice(A,1),c+=S+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=cd[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),fu.forEach(c=>{c!==i&&(0,ol[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Lh=(0,d.eFA)(d._c5,"browser",[{provide:d.Lbi,useValue:"browser"},{provide:d.g9A,useValue:function Ta(){Ea.makeCurrent()},multi:!0},{provide:ae,useFactory:function Jl(){return(0,d.RDi)(document),document},deps:[]}]),zo=new d.OlP(""),pu=[{provide:d.rWj,useClass:class z{addToWindow(e){d.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},d.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),d.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),d.dqk.frameworkStabilizers||(d.dqk.frameworkStabilizers=[]),d.dqk.frameworkStabilizers.push(r=>{const i=d.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const g=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?L().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:d.lri,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]},{provide:d.dDg,useClass:d.dDg,deps:[d.R0b,d.eoX,d.rWj]}],Go=[{provide:d.zSh,useValue:"root"},{provide:d.qLn,useFactory:function Ql(){return new d.qLn},deps:[]},{provide:Ct,useClass:ld,multi:!0,deps:[ae,d.R0b,d.Lbi]},{provide:Ct,useClass:Dr,multi:!0,deps:[ae]},{provide:yi,useClass:yi,deps:[wn,si,d.AFp,hu]},{provide:d.FYo,useExisting:yi},{provide:Fr,useExisting:si},{provide:si,useClass:si,deps:[ae]},{provide:wn,useClass:wn,deps:[Ct,d.R0b]},{provide:Gu,useClass:Ie,deps:[]},[]];let Sa=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:d.AFp,useValue:t.appId},{provide:I,useExisting:d.AFp},R]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(zo,12))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[...Go,...pu],imports:[ro,d.hGG]}),n})(),Vh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae))},n.\u0275prov=d.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function qo(){return new Vh((0,d.LFG)(ae))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var bn=$(8996),ss=$(7669);function mt(...n){const e=(0,ss.yG)(n);return(0,bn.D)(n,e)}var os=$(7579);class pr extends os.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const mu=(0,$(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var oi=$(9751);const{isArray:ac}=Array,{getPrototypeOf:md,prototype:zi,keys:bo}=Object;function uc(n){if(1===n.length){const e=n[0];if(ac(e))return{args:e,keys:null};if(function Zo(n){return n&&"object"==typeof n&&md(n)===zi}(e)){const t=bo(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var xa=$(4671),Tt=$(4004);const{isArray:lc}=Array;function Gi(n){return(0,Tt.U)(e=>function yd(n,e){return lc(e)?n(...e):n(e)}(n,e))}function hl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Xr=$(5403),yu=$(9672);function cc(...n){const e=(0,ss.yG)(n),t=(0,ss.jO)(n),{args:r,keys:i}=uc(n);if(0===r.length)return(0,bn.D)([],e);const u=new oi.y(function Ko(n,e,t=xa.y){return r=>{vu(e,()=>{const{length:i}=n,u=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)vu(e,()=>{const S=(0,bn.D)(n[_],e);let A=!1;S.subscribe((0,Xr.x)(r,F=>{u[_]=F,A||(A=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>hl(i,c):xa.y));return t?u.pipe(Gi(t)):u}function vu(n,e,t){n?(0,yu.f)(t,n,e):e()}var _u=$(8189);function fl(...n){return function $h(){return(0,_u.J)(1)}()((0,bn.D)(n,(0,ss.yG)(n)))}var wu=$(8421);function vd(n){return new oi.y(e=>{(0,wu.Xf)(n()).subscribe(e)})}var dc=$(9635),hc=$(576);function bu(n,e){const t=(0,hc.m)(n)?n:()=>n,r=i=>i.error(t());return new oi.y(e?i=>e.schedule(r,0,i):r)}var xi=$(515),fc=$(727),ai=$(4482);function Eu(){return(0,ai.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Xr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class jh extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ai.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fc.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Xr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fc.w0.EMPTY)}return e}refCount(){return Eu()(this)}}function ir(n,e){return(0,ai.e)((t,r)=>{let i=null,u=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,Xr.x)(r,_=>{i?.unsubscribe();let S=0;const A=u++;(0,wu.Xf)(n(_,A)).subscribe(i=(0,Xr.x)(r,F=>r.next(e?e(_,F,A,S++):F),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function Yo(n){return n<=0?()=>xi.E:(0,ai.e)((e,t)=>{let r=0;e.subscribe((0,Xr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Qo(...n){const e=(0,ss.yG)(n);return(0,ai.e)((t,r)=>{(e?fl(n,t,e):fl(n,t)).subscribe(r)})}function vi(n,e){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Sr=$(5577);function Iu(n){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function pl(n=Ma){return(0,ai.e)((e,t)=>{let r=!1;e.subscribe((0,Xr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ma(){return new mu}function as(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,u)=>n(i,u,r)):xa.y,Yo(1),t?Iu(e):pl(()=>new mu))}function qs(n,e){return(0,hc.m)(e)?(0,Sr.z)(n,e,1):(0,Sr.z)(n,1)}var Lr=$(8505);function us(n){return(0,ai.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,Xr.x)(t,void 0,void 0,c=>{u=(0,wu.Xf)(n(c,us(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function gl(n,e){return(0,ai.e)(function Mm(n,e,t,r,i){return(u,c)=>{let g=t,_=e,S=0;u.subscribe((0,Xr.x)(c,A=>{const F=S++;_=g?n(_,A,F):(g=!0,A),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function pc(n){return n<=0?()=>xi.E:(0,ai.e)((e,t)=>{let r=[];e.subscribe((0,Xr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Pa(n,e){const t=arguments.length>=2;return r=>r.pipe(n?vi((i,u)=>n(i,u,r)):xa.y,pc(1),t?Iu(e):pl(()=>new mu))}function Ra(n){return(0,ai.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ft="primary",Eo=Symbol("RouteTitle");class Xo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Na(n){return new Xo(n)}function Io(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ws(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!gc(n[i],e[i]))return!1;return!0}function gc(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function bd(n){return Array.prototype.concat.apply([],n)}function mc(n){return n.length>0?n[n.length-1]:null}function w(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function C(n){return(0,d.CqO)(n)?n:(0,d.QGY)(n)?(0,bn.D)(Promise.resolve(n)):mt(n)}const M=!1,H={exact:function tt(n,e,t){if(!qi(n.segments,e.segments)||!Ut(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!tt(n.children[r],e.children[r],t))return!1;return!0},subset:vt},Y={exact:function pe(n,e){return Ws(n,e)},subset:function Xe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>gc(n[t],e[t]))},ignored:()=>!0};function X(n,e,t){return H[t.paths](n.root,e.root,t.matrixParams)&&Y[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function vt(n,e,t){return $t(n,e,e.segments,t)}function $t(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!qi(i,t)||e.hasChildren()||!Ut(i,t,r))}if(n.segments.length===t.length){if(!qi(n.segments,t)||!Ut(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!vt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(qi(n.segments,i)&&Ut(n.segments,i,r)&&n.children[Ft])&&$t(n.children[Ft],e,u,r)}}function Ut(n,e,t){return e.every((r,i)=>Y[t](n[i].parameters,r.parameters))}class sr{constructor(e=new xt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return Id.serialize(this)}}class xt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,w(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yl(this)}}class ls{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Na(this.parameters)),this._parameterMap}toString(){return Mp(this)}}function qi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ei=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return new ml},providedIn:"root"}),n})();class ml{parse(e){const t=new P(e);return new sr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${vl(e.root,!0)}`,r=function Pp(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Du(t)}=${Du(i)}`).join("&"):`${Du(t)}=${Du(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Hh(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Id=new ml;function yl(n){return n.segments.map(e=>Mp(e)).join("/")}function vl(n,e){if(!n.hasChildren())return yl(n);if(e){const t=n.children[Ft]?vl(n.children[Ft],!1):"",r=[];return w(n.children,(i,u)=>{u!==Ft&&r.push(`${u}:${vl(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Mi(n,e){let t=[];return w(n.children,(r,i)=>{i===Ft&&(t=t.concat(e(r,i)))}),w(n.children,(r,i)=>{i!==Ft&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===Ft?[vl(n.children[Ft],!1)]:[`${i}:${vl(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${yl(n)}/${t[0]}`:`${yl(n)}/(${t.join("//")})`}}function Cu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Du(n){return Cu(n).replace(/%3B/gi,";")}function ka(n){return Cu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _l(n){return decodeURIComponent(n)}function zh(n){return _l(n.replace(/\+/g,"%20"))}function Mp(n){return`${ka(n.path)}${function Gh(n){return Object.keys(n).map(e=>`;${ka(e)}=${ka(n[e])}`).join("")}(n.parameters)}`}const Pm=/^[^\/()?;=#]+/;function Cd(n){const e=n.match(Pm);return e?e[0]:""}const v=/^[^=?&#]+/,m=/^[^&#]+/;class P{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new xt([],{}):new xt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ft]=new xt(e,t)),r}parseSegment(){const e=Cd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new d.vHH(4009,M);return this.capture(e),new ls(_l(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Cd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Cd(this.remaining);i&&(r=i,this.capture(r))}e[_l(t)]=_l(r)}parseQueryParam(e){const t=function f(n){const e=n.match(v);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function b(n){const e=n.match(m);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=zh(t),u=zh(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new d.vHH(4010,M);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ft);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ft]:new xt([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new d.vHH(4011,M)}}function V(n){return n.segments.length>0?new xt([],{[Ft]:n}):n}function ee(n){const e={};for(const r of Object.keys(n.children)){const u=ee(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function fe(n){if(1===n.numberOfChildren&&n.children[Ft]){const e=n.children[Ft];return new xt(n.segments.concat(e.segments),e.children)}return n}(new xt(n.segments,e))}function We(n){return n instanceof sr}const it=!1;function ea(n,e,t,r,i){if(0===t.length)return Zs(e.root,e.root,e.root,r,i);const u=function _c(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dd(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return w(u.outlets,(_,S)=>{g[S]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new Dd(t,e,r)}(t);return u.toRoot()?Zs(e.root,e.root,new xt([],{}),r,i):function c(_){const S=function Sd(n,e,t,r){if(n.isAbsolute)return new Fa(e.root,!0,0);if(-1===r)return new Fa(t,t===e.root,0);return function wl(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new d.vHH(4005,it&&"Invalid number of '../'");i=r.segments.length}return new Fa(r,!1,i-u)}(t,r+(Oa(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),A=S.processChildren?La(S.segmentGroup,S.index,u.commands):bl(S.segmentGroup,S.index,u.commands);return Zs(e.root,S.segmentGroup,A,r,i)}(n.snapshot?._lastPathIndex)}function Oa(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function vc(n){return"object"==typeof n&&null!=n&&n.outlets}function Zs(n,e,t,r,i){let c,u={};r&&w(r,(_,S)=>{u[S]=Array.isArray(_)?_.map(A=>`${A}`):`${_}`}),c=n===e?t:qh(n,e,t);const g=V(ee(c));return new sr(g,u,i)}function qh(n,e,t){const r={};return w(n.children,(i,u)=>{r[u]=i===e?t:qh(i,e,t)}),new xt(n.segments,r)}class Dd{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Oa(r[0]))throw new d.vHH(4003,it&&"Root segment cannot have matrix parameters");const i=r.find(vc);if(i&&i!==mc(r))throw new d.vHH(4004,it&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function bl(n,e,t){if(n||(n=new xt([],{})),0===n.segments.length&&n.hasChildren())return La(n,e,t);const r=function Rm(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],g=t[r];if(vc(g))break;const _=`${g}`,S=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&S&&"object"==typeof S&&void 0===S.outlets){if(!Nm(_,S,c))return u;r+=2}else{if(!Nm(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new xt(n.segments.slice(0,r.pathIndex),{});return u.children[Ft]=new xt(n.segments.slice(r.pathIndex),n.children),La(u,0,i)}return r.match&&0===i.length?new xt(n.segments,{}):r.match&&!n.hasChildren()?Wh(n,e,t):r.match?La(n,0,i):Wh(n,e,t)}function La(n,e,t){if(0===t.length)return new xt(n.segments,{});{const r=function Ad(n){return vc(n[0])?n[0].outlets:{[Ft]:n}}(t),i={};if(!r[Ft]&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=La(n.children[Ft],e,t);return new xt(n.segments,u.children)}return w(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=bl(n.children[c],e,u))}),w(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new xt(n.segments,i)}}function Wh(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(vc(u)){const _=Zh(u.outlets);return new xt(r,_)}if(0===i&&Oa(t[0])){r.push(new ls(n.segments[e].path,yw(t[0]))),i++;continue}const c=vc(u)?u.outlets[Ft]:`${u}`,g=i<t.length-1?t[i+1]:null;c&&g&&Oa(g)?(r.push(new ls(c,yw(g))),i+=2):(r.push(new ls(c,{})),i++)}return new xt(r,{})}function Zh(n){const e={};return w(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Wh(new xt([],{}),0,t))}),e}function yw(n){const e={};return w(n,(t,r)=>e[r]=`${t}`),e}function Nm(n,e,t){return n==t.path&&Ws(e,t.parameters)}const Kh="imperative";class Va{constructor(e,t){this.id=e,this.url=t}}class km extends Va{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class El extends Va{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Yh extends Va{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class wc extends Va{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Qh extends Va{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xd extends Va{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class GI extends Va{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qI extends Va{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Vx extends Va{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WI extends Va{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Om{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ZI{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class vw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _w{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let KI=(()=>{class n{createUrlTree(t,r,i,u,c,g){return ea(t||r.root,i,u,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})(),QI=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(e){return KI.\u0275fac(e)},providedIn:"root"}),n})();class Ew{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Vm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Vm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Ua(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ua(e,this._root).map(t=>t.value)}}function Vm(n,e){if(n===e.value)return e;for(const t of e.children){const r=Vm(n,t);if(r)return r}return null}function Ua(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Ua(n,t);if(r.length)return r.unshift(e),r}return[]}class Ks{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Md(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class JI extends Ew{constructor(e,t){super(e),this.snapshot=t,Um(this,e)}toString(){return this.snapshot.toString()}}function XI(n,e){const t=function Ux(n,e){const c=new Np([],{},{},"",{},Ft,e,null,n.root,-1,{});return new Cw("",new Ks(c,[]))}(n,e),r=new pr([new ls("",{})]),i=new pr({}),u=new pr({}),c=new pr({}),g=new pr(""),_=new Jh(r,i,c,g,u,Ft,e,t.root);return _.snapshot=t.root,new JI(new Ks(_,[]),t)}class Jh{constructor(e,t,r,i,u,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,Tt.U)(S=>S[Eo]))??mt(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Na(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Na(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function eC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function Iw(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Np{get title(){return this.data?.[Eo]}constructor(e,t,r,i,u,c,g,_,S,A,F){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=S,this._lastPathIndex=A,this._resolve=F}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Na(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Na(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Cw extends Ew{constructor(e,t){super(t),this.url=e,Um(this,t)}toString(){return Dw(this._root)}}function Um(n,e){e.value._routerState=n,e.children.forEach(t=>Um(n,t))}function Dw(n){const e=n.children.length>0?` { ${n.children.map(Dw).join(", ")} } `:"";return`${n.value}${e}`}function Xh(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ws(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ws(e.params,t.params)||n.params.next(t.params),function wd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ws(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ws(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ta(n,e){const t=Ws(n.params,e.params)&&function yc(n,e){return qi(n,e)&&n.every((t,r)=>Ws(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ta(n.parent,e.parent))}function Pd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Tw(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Pd(n,r,i);return Pd(n,r)})}(n,e,t);return new Ks(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Pd(n,g)),c}}const r=function Sw(n){return new Jh(new pr(n.url),new pr(n.params),new pr(n.queryParams),new pr(n.fragment),new pr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Pd(n,u));return new Ks(r,i)}}const Aw="ngNavigationCancelingError";function tC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=We(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=nC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function nC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Aw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function kp(n){return Op(n)&&We(n.url)}function Op(n){return n&&n[Aw]}class Bx{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Fp,this.attachRef=null}}let Fp=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Bx,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tf=!1;let Bm=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new d.vpe,this.deactivateEvents=new d.vpe,this.attachEvents=new d.vpe,this.detachEvents=new d.vpe,this.parentContexts=(0,d.f3M)(Fp),this.location=(0,d.f3M)(d.s_b),this.changeDetector=(0,d.f3M)(d.sBO),this.environmentInjector=(0,d.f3M)(d.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new d.vHH(4012,tf);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new d.vHH(4012,tf);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new d.vHH(4012,tf);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new d.vHH(4013,tf);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new rC(t,g,i.injector);if(r&&function iC(n){return!!n.resolveComponentFactory}(r)){const S=r.resolveComponentFactory(c);this.activated=i.createComponent(S,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[d.TTD]}),n})();class rC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Jh?this.route:e===Fp?this.childContexts:this.parent.get(e,t)}}let $m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[d.jDz],decls:1,vars:0,template:function(t,r){1&t&&d._UZ(0,"router-outlet")},dependencies:[Bm],encapsulation:2}),n})();function jm(n,e){return n.providers&&!n._injector&&(n._injector=(0,d.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Lp(n){const e=n.children&&n.children.map(Lp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ft&&(t.component=$m),t}function Co(n){return n.outlet||Ft}function Mw(n,e){const t=n.filter(r=>Co(r)===e);return t.push(...n.filter(r=>Co(r)!==e)),t}function nf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Pw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Xh(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Md(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),w(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Md(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Md(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Md(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new _w(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Rp(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(Xh(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),Xh(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=nf(i.snapshot),_=g?.get(d._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class uC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Gm{constructor(e,t){this.component=e,this.route=t}}function rf(n,e,t){const r=n._root;return Rd(r,e?e._root:null,t,[r.value])}function bc(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,d.Z0I)(n)?e.get(n):n:r}function Rd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Md(e);return n.children.forEach(c=>{(function Rw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function lC(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!qi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!qi(n.url,e.url)||!Ws(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ta(n,e)||!Ws(n.queryParams,e.queryParams);default:return!ta(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new uC(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Rd(n,e,u.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new Gm(g.outlet.component,c))}else c&&sf(e,g,i),i.canActivateChecks.push(new uC(r)),Rd(n,null,u.component?g?g.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),w(u,(c,g)=>sf(c,t.getContext(g),i)),i}function sf(n,e,t){const r=Md(n),i=n.value;w(r,(u,c)=>{sf(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new Gm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Nd(n){return"function"==typeof n}function Tu(n){return n instanceof mu||"EmptyError"===n?.name}const Vp=Symbol("INITIAL_VALUE");function Il(){return ir(n=>cc(n.map(e=>e.pipe(Yo(1),Qo(Vp)))).pipe((0,Tt.U)(e=>{for(const t of e)if(!0!==t){if(t===Vp)return Vp;if(!1===t||t instanceof sr)return t}return!0}),vi(e=>e!==Vp),Yo(1)))}function Jm(n){return(0,dc.z)((0,Lr.b)(e=>{if(We(e))throw tC(0,e)}),(0,Tt.U)(e=>!0===e))}const Xm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fw(n,e,t,r,i){const u=ey(n,e,t);return u.matched?function kd(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?mt(i.map(c=>{const g=bc(c,n);return C(function Km(n){return n&&Nd(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(Il(),Jm()):mt(!0)}(r=jm(e,r),e,t).pipe((0,Tt.U)(c=>!0===c?u:{...Xm})):mt(u)}function ey(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Xm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Io)(t,n,e);if(!i)return{...Xm};const u={};w(i.posParams,(g,_)=>{u[_]=g.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Od(n,e,t,r){if(t.length>0&&function mC(n,e,t){return t.some(r=>ty(n,e,r)&&Co(r)!==Ft)}(n,t,r)){const u=new xt(e,function Lw(n,e,t,r){const i={};i[Ft]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Co(u)!==Ft){const c=new xt([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Co(u)]=c}return i}(n,e,r,new xt(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Vw(n,e,t){return t.some(r=>ty(n,e,r))}(n,t,r)){const u=new xt(n.segments,function gC(n,e,t,r,i){const u={};for(const c of r)if(ty(n,t,c)&&!i[Co(c)]){const g=new xt([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[Co(c)]=g}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new xt(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function ty(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Uw(n,e,t,r){return!!(Co(n)===r||r!==Ft&&ty(e,t,n))&&("**"===n.path||ey(e,n,t).matched)}function Fd(n,e,t){return 0===e.length&&!n.children[t]}const $p=!1;class Su{constructor(e){this.segmentGroup=e||null}}class Ld{constructor(e){this.urlTree=e}}function af(n){return bu(new Su(n))}function ny(n){return bu(new Ld(n))}class Bw{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Od(this.urlTree.root,[],[],this.config).segmentGroup,t=new xt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ft).pipe((0,Tt.U)(u=>this.createUrlTree(ee(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(us(u=>{if(u instanceof Ld)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Su?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ft).pipe((0,Tt.U)(i=>this.createUrlTree(ee(i),e.queryParams,e.fragment))).pipe(us(i=>{throw i instanceof Su?this.noMatchError(i):i}))}noMatchError(e){return new d.vHH(4002,$p)}createUrlTree(e,t,r){const i=V(e);return new sr(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(u=>new xt([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,bn.D)(i).pipe(qs(u=>{const c=r.children[u],g=Mw(t,u);return this.expandSegmentGroup(e,g,c,u).pipe((0,Tt.U)(_=>({segment:_,outlet:u})))}),gl((u,c)=>(u[c.outlet]=c.segment,u),{}),Pa())}expandSegment(e,t,r,i,u,c){return(0,bn.D)(r).pipe(qs(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,c).pipe(us(S=>{if(S instanceof Su)return mt(null);throw S}))),as(g=>!!g),us((g,_)=>{if(Tu(g))return Fd(t,i,u)?mt(new xt([],{})):af(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,c,g){return Uw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):af(t):af(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ny(u):this.lineralizeSegments(r,u).pipe((0,Sr.z)(c=>{const g=new xt(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:g,consumedSegments:_,remainingSegments:S,positionalParamSegments:A}=ey(t,i,u);if(!g)return af(t);const F=this.applyRedirectCommands(_,i.redirectTo,A);return i.redirectTo.startsWith("/")?ny(F):this.lineralizeSegments(i,F).pipe((0,Sr.z)(Z=>this.expandSegment(e,t,r,Z.concat(S),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=jm(r,e),r.loadChildren?(r._loadedRoutes?mt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Tt.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new xt(i,{})))):mt(new xt(i,{}))):Fw(t,r,i,e).pipe(ir(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Sr.z)(A=>{const F=A.injector??e,Z=A.routes,{segmentGroup:ne,slicedSegments:de}=Od(t,g,_,Z),Ue=new xt(ne.segments,ne.children);if(0===de.length&&Ue.hasChildren())return this.expandChildren(F,Z,Ue).pipe((0,Tt.U)(Pt=>new xt(g,Pt)));if(0===Z.length&&0===de.length)return mt(new xt(g,{}));const je=Co(r)===u;return this.expandSegment(F,Ue,Z,de,je?Ft:u,!0).pipe((0,Tt.U)(kt=>new xt(g.concat(kt.segments),kt.children)))})):af(t)))}getChildConfig(e,t,r){return t.children?mt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?mt({routes:t._loadedRoutes,injector:t._loadedInjector}):function pC(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?mt(!0):mt(i.map(c=>{const g=bc(c,n);return C(function Wm(n){return n&&Nd(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(Il(),Jm())}(e,t,r).pipe((0,Sr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Lr.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function vC(n){return bu(nC($p,3))}())):mt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return mt(r);if(i.numberOfChildren>1||!i.children[Ft])return e.redirectTo,bu(new d.vHH(4e3,$p));i=i.children[Ft]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new sr(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return w(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return w(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new xt(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new d.vHH(4001,$p);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class ry{}class uf{constructor(e,t,r,i,u,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=Od(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ft).pipe((0,Tt.U)(t=>{if(null===t)return null;const r=new Np([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Ks(r,t),u=new Cw(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=eC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,bn.D)(Object.keys(r.children)).pipe(qs(i=>{const u=r.children[i],c=Mw(t,i);return this.processSegmentGroup(e,c,u,i)}),gl((i,u)=>i&&u?(i.push(...u),i):null),function _d(n,e=!1){return(0,ai.e)((t,r)=>{let i=0;t.subscribe((0,Xr.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),Iu(null),Pa(),(0,Tt.U)(i=>{if(null===i)return null;const u=jw(i);return function bC(n){n.sort((e,t)=>e.value.outlet===Ft?-1:t.value.outlet===Ft?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,bn.D)(t).pipe(qs(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),as(c=>!!c),us(c=>{if(Tu(c))return Fd(r,i,u)?mt([]):mt(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Uw(t,r,i,u))return mt(null);let c;if("**"===t.path){const g=i.length>0?mc(i).parameters:{},_=zw(r)+i.length;c=mt({snapshot:new Np(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(t),Co(t),t.component??t._loadedComponent??null,t,Hw(r),_,Gw(t)),consumedSegments:[],remainingSegments:[]})}else c=Fw(r,t,i,e).pipe((0,Tt.U)(({matched:g,consumedSegments:_,remainingSegments:S,parameters:A})=>{if(!g)return null;const F=zw(r)+_.length;return{snapshot:new Np(_,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ba(t),Co(t),t.component??t._loadedComponent??null,t,Hw(r),F,Gw(t)),consumedSegments:_,remainingSegments:S}}));return c.pipe(ir(g=>{if(null===g)return mt(null);const{snapshot:_,consumedSegments:S,remainingSegments:A}=g;e=t._injector??e;const F=t._loadedInjector??e,Z=function EC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:ne,slicedSegments:de}=Od(r,S,A,Z.filter(je=>void 0===je.redirectTo));if(0===de.length&&ne.hasChildren())return this.processChildren(F,Z,ne).pipe((0,Tt.U)(je=>null===je?null:[new Ks(_,je)]));if(0===Z.length&&0===de.length)return mt([new Ks(_,[])]);const Ue=Co(t)===u;return this.processSegment(F,Z,ne,de,Ue?Ft:u).pipe((0,Tt.U)(je=>null===je?null:[new Ks(_,je)]))}))}}function IC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jw(n){const e=[],t=new Set;for(const r of n){if(!IC(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=jw(r.children);e.push(new Ks(r.value,i))}return e.filter(r=>!t.has(r))}function Hw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function zw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Ba(n){return n.data||{}}function Gw(n){return n.resolve||{}}function sy(n){return"string"==typeof n.title||null===n.title}function oy(n){return ir(e=>{const t=n(e);return t?(0,bn.D)(t).pipe((0,Tt.U)(()=>e)):mt(e)})}const Vd=new d.OlP("ROUTES");let uy=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,d.f3M)(d.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return mt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=C(t.loadComponent()).pipe((0,Tt.U)(Zw),(0,Lr.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),Ra(()=>{this.componentLoaders.delete(t)})),i=new jh(r,()=>new os.x).pipe(Eu());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return mt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Tt.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,S,A=!1;Array.isArray(g)?S=g:(_=g.create(t).injector,S=bd(_.get(Vd,[],d.XFs.Self|d.XFs.Optional)));return{routes:S.map(Lp),injector:_}}),Ra(()=>{this.childrenLoaders.delete(r)})),c=new jh(u,()=>new os.x).pipe(Eu());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return C(t()).pipe((0,Tt.U)(Zw),(0,Sr.z)(r=>r instanceof d.YKP||Array.isArray(r)?mt(r):(0,bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Zw(n){return function na(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Hp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new os.x,this.configLoader=(0,d.f3M)(uy),this.environmentInjector=(0,d.f3M)(d.lqb),this.urlSerializer=(0,d.f3M)(ei),this.rootContexts=(0,d.f3M)(Fp),this.navigationId=0,this.afterPreactivation=()=>mt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new ZI(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Om(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new pr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Kh,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(vi(r=>0!==r.id),(0,Tt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),ir(r=>{let i=!1,u=!1;return mt(r).pipe((0,Lr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ir(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const A="";return this.events.next(new wc(c.id,t.serializeUrl(r.rawUrl),A,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),xi.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Kw(c.source)&&(t.browserUrlTree=c.extractedUrl),mt(c).pipe(ir(A=>{const F=this.transitions?.getValue();return this.events.next(new km(A.id,this.urlSerializer.serialize(A.extractedUrl),A.source,A.restoredState)),F!==this.transitions?.getValue()?xi.E:Promise.resolve(A)}),function $w(n,e,t,r){return ir(i=>function _C(n,e,t,r,i){return new Bw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Tt.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Lr.b)(A=>{this.currentNavigation={...this.currentNavigation,finalUrl:A.urlAfterRedirects},r.urlAfterRedirects=A.urlAfterRedirects}),function DC(n,e,t,r,i){return(0,Sr.z)(u=>function iy(n,e,t,r,i,u,c="emptyOnly"){return new uf(n,e,t,r,i,c,u).recognize().pipe(ir(g=>null===g?function wC(n){return new oi.y(e=>e.error(n))}(new ry):mt(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,Tt.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Lr.b)(A=>{if(r.targetSnapshot=A.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!A.extras.skipLocationChange){const Z=t.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl);t.setBrowserUrl(Z,A)}t.browserUrlTree=A.urlAfterRedirects}const F=new xd(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(F)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:A,extractedUrl:F,source:Z,restoredState:ne,extras:de}=c,Ue=new km(A,this.urlSerializer.serialize(F),Z,ne);this.events.next(Ue);const je=XI(F,this.rootComponentType).snapshot;return mt(r={...c,targetSnapshot:je,urlAfterRedirects:F,extras:{...de,skipLocationChange:!1,replaceUrl:!1}})}{const A="";return this.events.next(new wc(c.id,t.serializeUrl(r.extractedUrl),A,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),xi.E}}),(0,Lr.b)(c=>{const g=new GI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,Tt.U)(c=>r={...c,guards:rf(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Up(n,e){return(0,Sr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?mt({...t,guardsResult:!0}):function hC(n,e,t,r){return(0,bn.D)(n).pipe((0,Sr.z)(i=>function fC(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?mt(u.map(g=>{const _=nf(e)??i,S=bc(g,_);return C(function cC(n){return n&&Nd(n.canDeactivate)}(S)?S.canDeactivate(n,e,t,r):_.runInContext(()=>S(n,e,t,r))).pipe(as())})).pipe(Il()):mt(!0)}(i.component,i.route,t,e,r)),as(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Sr.z)(g=>g&&function Nw(n){return"boolean"==typeof n}(g)?function Ym(n,e,t,r){return(0,bn.D)(e).pipe(qs(i=>fl(function Ec(n,e){return null!==n&&e&&e(new vw(n)),mt(!0)}(i.route.parent,r),function Bp(n,e){return null!==n&&e&&e(new Fm(n)),mt(!0)}(i.route,r),function Qm(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function qm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>vd(()=>mt(c.guards.map(_=>{const S=nf(c.node)??t,A=bc(_,S);return C(function Zm(n){return n&&Nd(n.canActivateChild)}(A)?A.canActivateChild(r,n):S.runInContext(()=>A(r,n))).pipe(as())})).pipe(Il())));return mt(u).pipe(Il())}(n,i.path,t),function Ow(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return mt(!0);const i=r.map(u=>vd(()=>{const c=nf(e)??t,g=bc(u,c);return C(function Hx(n){return n&&Nd(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(as())}));return mt(i).pipe(Il())}(n,i.route,t))),as(i=>!0!==i,!0))}(r,u,n,e):mt(g)),(0,Tt.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Lr.b)(c=>{if(r.guardsResult=c.guardsResult,We(c.guardsResult))throw tC(0,c.guardsResult);const g=new qI(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),vi(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),oy(c=>{if(c.guards.canActivateChecks.length)return mt(c).pipe((0,Lr.b)(g=>{const _=new Vx(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),ir(g=>{let _=!1;return mt(g).pipe(function zx(n,e){return(0,Sr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return mt(t);let u=0;return(0,bn.D)(i).pipe(qs(c=>function Gx(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!sy(i)&&(u[Eo]=i.title),function qw(n,e,t,r){const i=function qx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return mt({});const u={};return(0,bn.D)(i).pipe((0,Sr.z)(c=>function Ww(n,e,t,r){const i=nf(e)??r,u=bc(n,i);return C(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(as(),(0,Lr.b)(g=>{u[c]=g}))),pc(1),function Jo(n){return(0,Tt.U)(()=>n)}(u),us(c=>Tu(c)?xi.E:bu(c)))}(u,n,e,r).pipe((0,Tt.U)(c=>(n._resolvedData=c,n.data=eC(n,t).resolve,i&&sy(i)&&(n.data[Eo]=i.title),null)))}(c.route,r,n,e)),(0,Lr.b)(()=>u++),pc(1),(0,Sr.z)(c=>u===i.length?mt(t):xi.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Lr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Lr.b)(g=>{const _=new WI(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),oy(c=>{const g=_=>{const S=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&S.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Lr.b)(A=>{_.component=A}),(0,Tt.U)(()=>{})));for(const A of _.children)S.push(...g(A));return S};return cc(g(c.targetSnapshot.root)).pipe(Iu(),Yo(1))}),oy(()=>this.afterPreactivation()),(0,Tt.U)(c=>{const g=function ef(n,e,t){const r=Pd(n,e._root,t?t._root:void 0);return new JI(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),(0,Lr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new Pw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Yo(1),(0,Lr.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new El(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Ra(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),us(c=>{if(u=!0,Op(c)){kp(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new Yh(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),kp(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),S={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Kw(r.source)};t.scheduleNavigation(_,Kh,null,S,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Qh(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return xi.E}))}))}cancelNavigationTransition(t,r,i){const u=new Yh(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Kw(n){return n!==Kh}let Yw=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===Ft);return r}getResolvedTitleForRoute(t){return t.data[Eo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(TC)},providedIn:"root"}),n})(),TC=(()=>{class n extends Yw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Vh))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(AC)},providedIn:"root"}),n})();class SC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let AC=(()=>{class n extends SC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const tn=new d.OlP("",{providedIn:"root",factory:()=>({})});let Jw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:function(){return(0,d.f3M)(Xw)},providedIn:"root"}),n})(),Xw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function MC(n){throw n}function PC(n,e,t){return e.parse("/")}const e0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},RC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Pi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,d.f3M)(d.c2e),this.isNgZoneEnabled=!1,this.options=(0,d.f3M)(tn,{optional:!0})||{},this.errorHandler=this.options.errorHandler||MC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||PC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,d.f3M)(Jw),this.routeReuseStrategy=(0,d.f3M)(Qw),this.urlCreationStrategy=(0,d.f3M)(QI),this.titleStrategy=(0,d.f3M)(Yw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=bd((0,d.f3M)(Vd,{optional:!0})??[]),this.navigationTransitions=(0,d.f3M)(Hp),this.urlSerializer=(0,d.f3M)(ei),this.location=(0,d.f3M)(He),this.isNgZoneEnabled=(0,d.f3M)(d.R0b)instanceof d.R0b&&d.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new sr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=XI(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Kh,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Lp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,S=_?this.currentUrlTree.fragment:c;let A=null;switch(g){case"merge":A={...this.currentUrlTree.queryParams,...u};break;case"preserve":A=this.currentUrlTree.queryParams;break;default:A=u||null}return null!==A&&(A=this.removeEmptyProps(A)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,A,S??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=We(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,Kh,null,r)}navigate(t,r={skipLocationChange:!1}){return function NC(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new d.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...e0}:!1===r?{...RC}:r,We(t))return X(this.currentUrlTree,t,i);const u=this.parseUrl(t);return X(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let g,_,S,A;return c?(g=c.resolve,_=c.reject,S=c.promise):S=new Promise((F,Z)=>{g=F,_=Z}),A="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:A,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:S,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),S.catch(F=>Promise.reject(F))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",u)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-(this.browserPageId??this.currentPageId);0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gp=(()=>{class n{constructor(t,r,i,u,c,g){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new os.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(S=>{S instanceof El&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,d.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,d.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,d.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,d.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Pi),d.Y36(Jh),d.$8M("tabindex"),d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(Qe))},n.\u0275dir=d.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&d.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&d.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[d.TTD]}),n})();class ly{}let cy=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(vi(t=>t instanceof El),qs(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,d.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&i.push(this.preloadConfig(c,u)),(u.children||u._loadedRoutes)&&i.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,bn.D)(i).pipe((0,_u.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):mt(null);const u=i.pipe((0,Sr.z)(c=>null===c?mt(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,bn.D)([u,c]).pipe((0,_u.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pi),d.LFG(d.Sil),d.LFG(d.lqb),d.LFG(ly),d.LFG(uy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const df=new d.OlP("");let n0=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof km?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof El&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Lm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Lm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){d.$Z()},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();var Do=(()=>((Do=Do||{})[Do.COMPLETE=0]="COMPLETE",Do[Do.FAILED=1]="FAILED",Do[Do.REDIRECTING=2]="REDIRECTING",Do))();const hf=!1;function Ic(n,e){return{\u0275kind:n,\u0275providers:e}}const hy=new d.OlP("",{providedIn:"root",factory:()=>!1});function ff(){const n=(0,d.f3M)(d.zs3);return e=>{const t=n.get(d.z2F);if(e!==t.components[0])return;const r=n.get(Pi),i=n.get(r0);1===n.get(qp)&&r.initialNavigation(),n.get(s0,null,d.XFs.Optional)?.setUpPreloading(),n.get(df,null,d.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const r0=new d.OlP(hf?"bootstrap done indicator":"",{factory:()=>new os.x}),qp=new d.OlP(hf?"initial navigation":"",{providedIn:"root",factory:()=>1});function LC(){let n=[];return n=hf?[{provide:d.Xts,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Pi);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function ww(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Ic(1,n)}const s0=new d.OlP(hf?"router preloader":"");function VC(n){return Ic(0,[{provide:s0,useExisting:cy},{provide:ly,useExisting:n}])}const $d=!1,$C=new d.OlP($d?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),fy=[He,{provide:ei,useClass:ml},Pi,Fp,{provide:Jh,useFactory:function dy(n){return n.routerState.root},deps:[Pi]},uy,$d?{provide:hy,useValue:!0}:[]];function jC(){return new d.PXZ("Router",Pi)}let HC=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[fy,$d&&r?.enableTracing?LC().\u0275providers:[],{provide:Vd,multi:!0,useValue:t},{provide:$C,useFactory:u0,deps:[[Pi,new d.FiY,new d.tp0]]},{provide:tn,useValue:r||{}},r?.useHash?{provide:Qe,useClass:be}:{provide:Qe,useClass:Ae},{provide:df,useFactory:()=>{const n=(0,d.f3M)(oo),e=(0,d.f3M)(d.R0b),t=(0,d.f3M)(tn),r=(0,d.f3M)(Hp),i=(0,d.f3M)(ei);return t.scrollOffset&&n.setOffset(t.scrollOffset),new n0(i,r,n,e,t)}},r?.preloadingStrategy?VC(r.preloadingStrategy).\u0275providers:[],{provide:d.PXZ,multi:!0,useFactory:jC},r?.initialNavigation?GC(r):[],[{provide:l0,useFactory:ff},{provide:d.tb,multi:!0,useExisting:l0}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Vd,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(d.LFG($C,8))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[$m]}),n})();function u0(n){if($d&&n)throw new d.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function GC(n){return["disabled"===n.initialNavigation?Ic(3,[{provide:d.ip1,multi:!0,useFactory:()=>{const e=(0,d.f3M)(Pi);return()=>{e.setUpLocationChangeListener()}}},{provide:qp,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ic(2,[{provide:qp,useValue:0},{provide:d.ip1,multi:!0,deps:[d.zs3],useFactory:e=>{const t=e.get(Ce,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(Pi),u=e.get(r0);(function Kx(n,e){n.events.pipe(vi(t=>t instanceof El||t instanceof Yh||t instanceof Qh||t instanceof wc),(0,Tt.U)(t=>t instanceof El||t instanceof wc?Do.COMPLETE:t instanceof Yh&&(0===t.code||1===t.code)?Do.REDIRECTING:Do.FAILED),vi(t=>t!==Do.REDIRECTING),Yo(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(Hp).afterPreactivation=()=>(r(!0),u.closed?mt(void 0):u),i.initialNavigation()}))}}]).\u0275providers:[]]}const l0=new d.OlP($d?"Router Initializer":"");class Hd{}class Cc{}class ra{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),u=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(u=>u.toString()),i.length>0){const u=t.toLowerCase();this.headers.set(u,i),this.maybeSetNormalizedName(t,u)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof ra?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new ra;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof ra?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(g=>-1===u.indexOf(g)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class c0{encodeKey(e){return vy(e)}encodeValue(e){return vy(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const my=/%(\d[a-f0-9])/gi,yy={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function vy(n){return encodeURIComponent(n).replace(my,(e,t)=>yy[t]??e)}function zd(n){return`${n}`}class Cl{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new c0,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function gy(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const u=i.indexOf("="),[c,g]=-1==u?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,u)),e.decodeValue(i.slice(u+1))],_=t.get(c)||[];_.push(g),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(zd):[zd(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Cl({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(zd(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(zd(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class d0{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function _y(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wy(n){return typeof Blob<"u"&&n instanceof Blob}function h0(n){return typeof FormData<"u"&&n instanceof FormData}class Ri{constructor(e,t,r,i){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function qC(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,u=i):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new ra),this.context||(this.context=new d0),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const g=t.indexOf("?");this.urlWithParams=t+(-1===g?"?":g<t.length-1?"&":"")+c}}else this.params=new Cl,this.urlWithParams=t}serializeBody(){return null===this.body?null:_y(this.body)||wy(this.body)||h0(this.body)||function WC(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Cl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||h0(this.body)?null:wy(this.body)?this.body.type||null:_y(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Cl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,g=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,S=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((F,Z)=>F.set(Z,e.setHeaders[Z]),_)),e.setParams&&(S=Object.keys(e.setParams).reduce((F,Z)=>F.set(Z,e.setParams[Z]),S)),new Ri(t,r,u,{params:S,headers:_,context:A,reportProgress:g,responseType:i,withCredentials:c})}}var ti=(()=>((ti=ti||{})[ti.Sent=0]="Sent",ti[ti.UploadProgress=1]="UploadProgress",ti[ti.ResponseHeader=2]="ResponseHeader",ti[ti.DownloadProgress=3]="DownloadProgress",ti[ti.Response=4]="Response",ti[ti.User=5]="User",ti))();class by{constructor(e,t=200,r="OK"){this.headers=e.headers||new ra,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class f0 extends by{constructor(e={}){super(e),this.type=ti.ResponseHeader}clone(e={}){return new f0({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Gd extends by{constructor(e={}){super(e),this.type=ti.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Gd({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Ey extends by{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function Iy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Cy=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let u;if(t instanceof Ri)u=t;else{let _,S;_=i.headers instanceof ra?i.headers:new ra(i.headers),i.params&&(S=i.params instanceof Cl?i.params:new Cl({fromObject:i.params})),u=new Ri(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:S,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=mt(u).pipe(qs(_=>this.handler.handle(_)));if(t instanceof Ri||"events"===i.observe)return c;const g=c.pipe(vi(_=>_ instanceof Gd));switch(i.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return g.pipe((0,Tt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return g.pipe((0,Tt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return g.pipe((0,Tt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return g.pipe((0,Tt.U)(_=>_.body))}case"response":return g;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Cl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Iy(i,r))}post(t,r,i={}){return this.request("POST",t,Iy(i,r))}put(t,r,i={}){return this.request("PUT",t,Iy(i,r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Hd))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function p0(n,e){return e(n)}function g0(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const KC=new d.OlP("HTTP_INTERCEPTORS"),Dc=new d.OlP("HTTP_INTERCEPTOR_FNS");function YC(){let n=null;return(e,t)=>(null===n&&(n=((0,d.f3M)(KC,{optional:!0})??[]).reduceRight(g0,p0)),n(e,t))}let m0=(()=>{class n extends Hd{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Dc)));this.chain=r.reduceRight((i,u)=>function ZC(n,e,t){return(r,i)=>t.runInContext(()=>e(r,u=>n(u,i)))}(i,u,this.injector),p0)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cc),d.LFG(d.lqb))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const Dy=/^\)\]\}',?\n/;let w0=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new oi.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((ne,de)=>i.setRequestHeader(ne,de.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ne=t.detectContentTypeHeader();null!==ne&&i.setRequestHeader("Content-Type",ne)}if(t.responseType){const ne=t.responseType.toLowerCase();i.responseType="json"!==ne?ne:"text"}const u=t.serializeBody();let c=null;const g=()=>{if(null!==c)return c;const ne=i.statusText||"OK",de=new ra(i.getAllResponseHeaders()),Ue=function XC(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new f0({headers:de,status:i.status,statusText:ne,url:Ue}),c},_=()=>{let{headers:ne,status:de,statusText:Ue,url:je}=g(),ft=null;204!==de&&(ft=typeof i.response>"u"?i.responseText:i.response),0===de&&(de=ft?200:0);let kt=de>=200&&de<300;if("json"===t.responseType&&"string"==typeof ft){const Pt=ft;ft=ft.replace(Dy,"");try{ft=""!==ft?JSON.parse(ft):null}catch(qt){ft=Pt,kt&&(kt=!1,ft={error:qt,text:ft})}}kt?(r.next(new Gd({body:ft,headers:ne,status:de,statusText:Ue,url:je||void 0})),r.complete()):r.error(new Ey({error:ft,headers:ne,status:de,statusText:Ue,url:je||void 0}))},S=ne=>{const{url:de}=g(),Ue=new Ey({error:ne,status:i.status||0,statusText:i.statusText||"Unknown Error",url:de||void 0});r.error(Ue)};let A=!1;const F=ne=>{A||(r.next(g()),A=!0);let de={type:ti.DownloadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),"text"===t.responseType&&i.responseText&&(de.partialText=i.responseText),r.next(de)},Z=ne=>{let de={type:ti.UploadProgress,loaded:ne.loaded};ne.lengthComputable&&(de.total=ne.total),r.next(de)};return i.addEventListener("load",_),i.addEventListener("error",S),i.addEventListener("timeout",S),i.addEventListener("abort",S),t.reportProgress&&(i.addEventListener("progress",F),null!==u&&i.upload&&i.upload.addEventListener("progress",Z)),i.send(u),r.next({type:ti.Sent}),()=>{i.removeEventListener("error",S),i.removeEventListener("abort",S),i.removeEventListener("load",_),i.removeEventListener("timeout",S),t.reportProgress&&(i.removeEventListener("progress",F),null!==u&&i.upload&&i.upload.removeEventListener("progress",Z)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Gu))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();const qd=new d.OlP("XSRF_ENABLED"),gf=new d.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Kp=new d.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class eD{}let b0=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ps(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ae),d.LFG(d.Lbi),d.LFG(gf))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac}),n})();function E0(n,e){const t=n.url.toLowerCase();if(!(0,d.f3M)(qd)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,d.f3M)(eD).getToken(),i=(0,d.f3M)(Kp);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var Ur=(()=>((Ur=Ur||{})[Ur.Interceptors=0]="Interceptors",Ur[Ur.LegacyInterceptors=1]="LegacyInterceptors",Ur[Ur.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",Ur[Ur.NoXsrfProtection=3]="NoXsrfProtection",Ur[Ur.JsonpSupport=4]="JsonpSupport",Ur[Ur.RequestsMadeViaParent=5]="RequestsMadeViaParent",Ur))();function Dl(n,e){return{\u0275kind:n,\u0275providers:e}}function xu(...n){const e=[Cy,w0,m0,{provide:Hd,useExisting:m0},{provide:Cc,useExisting:w0},{provide:Dc,useValue:E0,multi:!0},{provide:qd,useValue:!0},{provide:eD,useClass:b0}];for(const t of n)e.push(...t.\u0275providers);return(0,d.MR2)(e)}const mf=new d.OlP("LEGACY_INTERCEPTOR_FN");let vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[xu(Dl(Ur.LegacyInterceptors,[{provide:mf,useFactory:YC},{provide:Dc,useExisting:mf,multi:!0}]))]}),n})(),iD=(()=>{class n{constructor(t){this.http=t,this.urlApi="https://api.github.com/users/Celescis"}ngOnInit(){this.http.get(this.urlApi).subscribe(t=>this.perfil=t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Cy))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-bienvenido"]],decls:20,vars:6,consts:[[1,"background-image"],[1,"box"],[1,"glass"],[1,"content"],[1,"profile-cover"],[1,"profile-avatar"],["target","_blank",3,"href"],[3,"src"],[1,"profile-details"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"div",1),d._UZ(2,"div",2),d.TgZ(3,"div",3)(4,"div",4)(5,"h2"),d._uU(6,"BIENVENIDO"),d.qZA(),d.TgZ(7,"div",5)(8,"a",6),d._uU(9,"GitHub> "),d._UZ(10,"img",7),d.qZA()(),d.TgZ(11,"div",8)(12,"h1"),d._uU(13),d.qZA(),d.TgZ(14,"h2"),d._uU(15),d.qZA(),d.TgZ(16,"h4"),d._uU(17),d.qZA(),d.TgZ(18,"h6"),d._uU(19),d.qZA()()()()()()),2&t&&(d.xp6(8),d.s9C("href",null==r.perfil?null:r.perfil.html_url,d.LSH),d.xp6(2),d.Q6J("src",null==r.perfil?null:r.perfil.avatar_url,d.LSH),d.xp6(3),d.Oqu(null==r.perfil?null:r.perfil.name),d.xp6(2),d.hij("@",null==r.perfil?null:r.perfil.login,""),d.xp6(2),d.Oqu(null==r.perfil?null:r.perfil.location),d.xp6(2),d.Oqu(null==r.perfil?null:r.perfil.bio))},styles:['.background-image[_ngcontent-%COMP%]{position:fixed;z-index:-1;width:100%;height:100%;background-color:#000;background-position:center;background-repeat:no-repeat;background-size:cover}.divbody[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;min-height:100vh;flex-wrap:wrap;border-radius:15px}.box[_ngcontent-%COMP%]{position:relative;z-index:1;width:50%;height:70%;background:rgba(21,21,21,.09);margin:2% auto 0;padding:20px;color:#fcfffd85;text-align:center;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);border-style:outset;border-radius:15px}.box[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:-2px;background:#ffffffa5;z-index:-1;border-radius:15px}.box[_ngcontent-%COMP%]:after{content:"";position:absolute;inset:-2px;background:#ffffff86;z-index:-1;filter:blur(40px);border-radius:15px}.box[_ngcontent-%COMP%]:nth-child(1):before, .box[_ngcontent-%COMP%]:nth-child(1):after{background:linear-gradient(235deg,#7b00ff62,#01061595,#2195f390)}.box[_ngcontent-%COMP%]   .glass[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:50%;height:100%;display:block;pointer-events:none;z-index:-1}.box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{z-index:4;color:#f5f5f569;display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;position:relative}.box[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;height:auto;border-radius:50%;margin-bottom:20px}.profile-details[_ngcontent-%COMP%]{margin-top:90%;position:relative;transform:translateY(-50%)}.profile-cover[_ngcontent-%COMP%]{position:relative;margin-top:0;color:#fff;font-family:Ruluko,sans-serif;text-shadow:2px 2px 10px rgba(0,0,0,.5);-webkit-border-top-left-radius:5px;-webkit-border-top-right-radius:5px;-moz-border-radius-topleft:5px;-moz-border-radius-topright:5px;border-top-left-radius:5px;border-top-right-radius:5px}.profile-avatar[_ngcontent-%COMP%]{background:#ffffff;border:1px solid #ffffff;width:200px;height:200px;position:absolute;margin:10px auto 0;overflow:hidden;left:0;right:0;border-radius:50%;transition:all .5s;-moz-transition:all .5s;-webkit-transition:all .5s;-o-transition:all .5s}.profile-avatar[_ngcontent-%COMP%]:hover{margin-top:23px}']}),n})();var Te=$(5861),Yp=$(9260),sD=$(5226),Sy=$.n(sD);let I0=(()=>{class n{constructor(){}crearSwal(t,r,i){return Sy().fire(r,t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ay=(()=>{class n{constructor(t,r){this.router=t,this.swalService=r,this.seLogueo=!1,this.esAdmin=!1}login(t,r){var i=this;Yp.Z.auth().signInWithEmailAndPassword(t,r).then(u=>{let c=u.user?.email?u.user?.email:"";this.seLogueo=!0,localStorage.setItem("correo",c),"admin"===this.getEmailUser()?.split("@")[0]&&(this.esAdmin=!0),this.router.navigate(["/bienvenido"])}).catch(function(){var u=(0,Te.Z)(function*(c){let g=c.message;g=g.includes("correo","password")||!t.valid&&!r.valid?"Debe ingresar un correo y contrase\xf1a correcta":g.includes("password")||!r.valid?"Por favor, ingrese una contrase\xf1a v\xe1lida.":"Usuario inexistente",i.swalService.crearSwal(g,"ERROR","error")});return function(c){return u.apply(this,arguments)}}())}logout(){Yp.Z.auth().signOut(),this.seLogueo=!1,this.esAdmin=!1,this.swalService.crearSwal("Sesi\xf3n cerrada","Hasta la pr\xf3xima","success"),this.router.navigate(["/login"])}getEmailUser(){return Yp.Z.auth().currentUser?.email||null}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Pi),d.LFG(I0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qp=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq))},n.\u0275dir=d.lG2({type:n}),n})(),Tc=(()=>{class n extends Qp{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,features:[d.qOj]}),n})();const To=new d.OlP("NgValueAccessor"),aD={provide:To,useExisting:(0,d.Gpc)(()=>_f),multi:!0},lD=new d.OlP("CompositionEventMode");let _f=(()=>{class n extends Qp{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function uD(){const n=L()?L().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.Qsj),d.Y36(d.SBq),d.Y36(lD,8))},n.\u0275dir=d.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[d._Bn([aD]),d.qOj]}),n})();const cD=!1;function Mu(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function xy(n){return null!=n&&"number"==typeof n.length}const Wi=new d.OlP("NgValidators"),Sc=new d.OlP("NgAsyncValidators"),T0=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Jp{static min(e){return function wf(n){return e=>{if(Mu(e.value)||Mu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function S0(n){return e=>{if(Mu(e.value)||Mu(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return A0(e)}static requiredTrue(e){return function Xp(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function x0(n){return Mu(n.value)||T0.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function ia(n){return e=>Mu(e.value)||!xy(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Wd(n){return e=>xy(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Ni(n){if(!n)return $a;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mu(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Mc(e)}static composeAsync(e){return Pc(e)}}function A0(n){return Mu(n.value)?{required:!0}:null}function $a(n){return null}function bf(n){return null!=n}function Ys(n){const e=(0,d.QGY)(n)?(0,bn.D)(n):n;if(cD&&!(0,d.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new d.vHH(-1101,t)}return e}function eg(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Ac(n,e){return e.map(t=>t(n))}function xc(n){return n.map(e=>function Zd(n){return!n.validate}(e)?e:t=>e.validate(t))}function Mc(n){if(!n)return null;const e=n.filter(bf);return 0==e.length?null:function(t){return eg(Ac(t,e))}}function Tl(n){return null!=n?Mc(xc(n)):null}function Pc(n){if(!n)return null;const e=n.filter(bf);return 0==e.length?null:function(t){return function C0(...n){const e=(0,ss.jO)(n),{args:t,keys:r}=uc(n),i=new oi.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let _=c,S=c;for(let A=0;A<c;A++){let F=!1;(0,wu.Xf)(t[A]).subscribe((0,Xr.x)(u,Z=>{F||(F=!0,S--),g[A]=Z},()=>_--,void 0,()=>{(!_||!F)&&(S||u.next(r?hl(r,g):g),u.complete())}))}});return e?i.pipe(Gi(e)):i}(Ac(t,e).map(Ys)).pipe((0,Tt.U)(eg))}}function Sl(n){return null!=n?Pc(xc(n)):null}function Rc(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Nc(n){return n._rawValidators}function My(n){return n._rawAsyncValidators}function tg(n){return n?Array.isArray(n)?n:[n]:[]}function Ef(n,e){return Array.isArray(n)?n.includes(e):n===e}function Py(n,e){const t=tg(e);return tg(n).forEach(i=>{Ef(t,i)||t.push(i)}),t}function Ry(n,e){return tg(e).filter(t=>!Ef(n,t))}class Ny{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Tl(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Sl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Zi extends Ny{get formDirective(){return null}get path(){return null}}class Pu extends Ny{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ky{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let ng=(()=>{class n extends ky{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Pu,2))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[d.qOj]}),n})(),M0=(()=>{class n extends ky{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,10))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&d.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[d.qOj]}),n})();function By(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const jy=!1,Yd="VALID",If="INVALID",kc="PENDING",Qd="DISABLED";function Hy(n){return(Oc(n)?n.validators:n)||null}function zy(n,e){return(Oc(e)?e.asyncValidators:n)||null}function Oc(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function qy(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new d.vHH(1e3,jy?function k0(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new d.vHH(1001,jy?function $y(n,e){return`Cannot find form control ${By(n,e)}`}(e,t):"")}function Wy(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new d.vHH(1002,jy?function O0(n,e){return`Must supply a value for form control ${By(n,e)}`}(e,i):"")})}class Cf{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Yd}get invalid(){return this.status===If}get pending(){return this.status==kc}get disabled(){return this.status===Qd}get enabled(){return this.status!==Qd}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Py(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Py(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Ry(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Ry(e,this._rawAsyncValidators))}hasValidator(e){return Ef(this._rawValidators,e)}hasAsyncValidator(e){return Ef(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=kc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Qd,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Yd,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yd||this.status===kc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Qd:Yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=kc,this._hasOwnPendingAsyncValidator=!0;const t=Ys(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new d.vpe,this.statusChanges=new d.vpe}_calculateStatus(){return this._allControlsDisabled()?Qd:this.errors?If:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(kc)?kc:this._anyControlsHaveStatus(If)?If:Yd}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Oc(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function fD(n){return Array.isArray(n)?Tl(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gy(n){return Array.isArray(n)?Sl(n):n||null}(this._rawAsyncValidators)}}class Jd extends Cf{constructor(e,t,r){super(Hy(t),zy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Wy(this,!0,e),Object.keys(e).forEach(r=>{qy(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Zy extends Jd{}const ja=new d.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>So}),So="always";function ig(n,e){return[...e.path,n]}function Df(n,e,t=So){Yy(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function f1(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&F0(n,e)})}(n,e),function yD(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function p1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&F0(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ky(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Xd(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),eh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ha(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Yy(n,e){const t=Nc(n);null!==e.validator?n.setValidators(Rc(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=My(n);null!==e.asyncValidator?n.setAsyncValidators(Rc(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ha(e._rawValidators,i),Ha(e._rawAsyncValidators,i)}function eh(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Nc(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=My(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Ha(e._rawValidators,r),Ha(e._rawAsyncValidators,r),t}function F0(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Xy(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function Al(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===_f?t=u:function V0(n){return Object.getPrototypeOf(n.constructor)===Tc}(u)?r=u:i=u}),i||r||t||null}function bD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tv(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Fc=class extends Cf{constructor(e=null,t,r){super(Hy(t),zy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Oc(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tv(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tv(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},CD={provide:Pu,useExisting:(0,d.Gpc)(()=>nv)},H0=(()=>Promise.resolve())();let nv=(()=>{class n extends Pu{constructor(t,r,i,u,c,g){super(),this._changeDetectorRef=c,this.callSetDisabledState=g,this.control=new Fc,this._registered=!1,this.update=new d.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Al(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),Xy(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Df(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){H0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,d.D6c)(r);H0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?ig(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,9),d.Y36(Wi,10),d.Y36(Sc,10),d.Y36(To,10),d.Y36(d.sBO,8),d.Y36(ja,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[d._Bn([CD]),d.qOj,d.TTD]}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Sf={provide:To,useExisting:(0,d.Gpc)(()=>rv),multi:!0};let rv=(()=>{class n extends Tc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[d._Bn([Sf]),d.qOj]}),n})(),G0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({}),n})();const ug=new d.OlP("NgModelWithFormControlWarning"),cg={provide:Zi,useExisting:(0,d.Gpc)(()=>th)};let th=(()=>{class n extends Zi{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new d.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(eh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Df(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Xd(t.control||null,t,!1),function wD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function ev(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Xd(r||null,t),(n=>n instanceof Fc)(i)&&(Df(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function Qy(n,e){Yy(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function vD(n,e){return eh(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Yy(this.form,this),this._oldForm&&eh(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Wi,10),d.Y36(Sc,10),d.Y36(ja,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&d.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[d._Bn([cg]),d.qOj,d.TTD]}),n})();const Q0={provide:Pu,useExisting:(0,d.Gpc)(()=>fg)};let fg=(()=>{class n extends Pu{set isDisabled(t){}constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new d.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Al(0,u)}ngOnChanges(t){this._added||this._setUpControl(),Xy(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return ig(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(d.Y36(Zi,13),d.Y36(Wi,10),d.Y36(Sc,10),d.Y36(To,10),d.Y36(ug,8))},n.\u0275dir=d.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[d._Bn([Q0]),d.qOj,d.TTD]}),n})();const DD={provide:To,useExisting:(0,d.Gpc)(()=>pg),multi:!0};function J0(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let pg=(()=>{class n extends Tc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const i=J0(this._getOptionId(t),t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function TD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([DD]),d.qOj]}),n})(),X0=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(J0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(pg,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const SD={provide:To,useExisting:(0,d.Gpc)(()=>ov),multi:!0};function eb(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let ov=(()=>{class n extends Tc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const i=t.map(u=>this._getOptionId(u));r=(u,c)=>{u._setSelected(i.indexOf(c.toString())>-1)}}else r=(i,u)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const i=[],u=r.selectedOptions;if(void 0!==u){const c=u;for(let g=0;g<c.length;g++){const S=this._getOptionValue(c[g].value);i.push(S)}}else{const c=r.options;for(let g=0;g<c.length;g++){const _=c[g];if(_.selected){const S=this._getOptionValue(_.value);i.push(S)}}}this.value=i,t(i)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function AD(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&d.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[d._Bn([SD]),d.qOj]}),n})(),tb=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(eb(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(eb(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(d.SBq),d.Y36(d.Qsj),d.Y36(ov,9))},n.\u0275dir=d.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Lc=(()=>{class n{constructor(){this._validator=$a}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):$a,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=d.lG2({type:n,features:[d.TTD]}),n})();const ob={provide:Wi,useExisting:(0,d.Gpc)(()=>nh),multi:!0};let nh=(()=>{class n extends Lc{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=d.D6c,this.createValidator=t=>A0}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=d.n5z(n)))(r||n)}}(),n.\u0275dir=d.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&d.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[d._Bn([ob]),d.qOj]}),n})(),PD=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[G0]}),n})();class gg extends Cf{constructor(e,t,r){super(Hy(t),zy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Wy(this,!1,e),e.forEach((r,i)=>{qy(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function dv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let b1=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return dv(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Jd(i,u)}record(t,r=null){const i=this._reduceControls(t);return new Zy(i,r)}control(t,r,i){let u={};return this.useNonNullable?(dv(r)?u=r:(u.validators=r,u.asyncValidators=i),new Fc(t,{...u,nonNullable:!0})):new Fc(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new gg(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Fc||t instanceof Cf?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ND=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ja,useValue:t.callSetDisabledState??So}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[PD]}),n})(),rh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ug,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ja,useValue:t.callSetDisabledState??So}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[PD]}),n})();function kD(n,e){1&n&&(d.TgZ(0,"div",17),d._uU(1," Ingrese un correo v\xe1lido "),d.qZA())}function mg(n,e){1&n&&(d.TgZ(0,"div",17),d._uU(1," Ingrese una contrase\xf1a v\xe1lida "),d.qZA())}const xf=function(n,e){return{"is-invalid":n,"is-valid":e}};let Br=(()=>{class n{constructor(t){this.userService=t,this.correo="",this.password="",this.correoValido=!1,this.passValido=!1}login(){this.userService.login(this.correo,this.password)}validarCorreo(){this.correoValido=!!this.correo.match(/^[\w-.]+@([\w-]+.)+[\w-]{2,4}$/)}validarPass(){this.passValido=!!this.password.match(/[0-9a-zA-Z]{6,}/)}seleccionarUsuario(t){1===t?(this.correo="admin@admin.com",this.password="111111"):2===t&&(this.correo="empleado@empleado.com",this.password="222222")}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ay))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-login"]],decls:28,vars:12,consts:[[1,"h-100","gradient-form",2,"background-color","black","width","100%","position","fixed"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100","mt-3"],[1,"col-lg-6",2,"background-color","#d3b6b6"],[1,"card-body","p-md-5","mx-md-4"],[1,"text-center",2,"font-size","30px"],[1,"form-outline","mb-4","user-box","group","log-input",2,"background-color","#d3b6b6"],["for","correo",1,"form-label"],["type","text","name","correo","placeholder","Ingresar correo","value","","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],["class","invalid-feedback",4,"ngIf"],[1,"valid-feedback"],["for","password",1,"form-label"],["type","password","name","password","placeholder","Ingresar contrase\xf1a","value","","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange","blur"],[1,"text-center","pt-1","mb-4","pb-1","botonIngresar"],["type","button",1,"btn","btn-primary","btn-block","fa-lg","gradient-custom-2","mb-3",3,"click"],["type","button",1,"btn","btn-danger","btn-block","fa-lg","gradient-custom-2","mb-3",3,"click"],["type","button",1,"btn","btn-success","btn-block","fa-lg","gradient-custom-2","mb-3",3,"click"],[1,"invalid-feedback"]],template:function(t,r){1&t&&(d.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h6",5),d._uU(6,"Ingrese sus datos"),d.qZA(),d.TgZ(7,"div",6)(8,"label",7),d._uU(9,"Correo"),d.qZA(),d.TgZ(10,"input",8),d.NdJ("ngModelChange",function(u){return r.correo=u})("blur",function(){return r.validarCorreo()}),d.qZA(),d.YNc(11,kD,2,0,"div",9),d.TgZ(12,"div",10),d._uU(13," Correo v\xe1lido "),d.qZA()(),d.TgZ(14,"div",6)(15,"label",11),d._uU(16,"Contrase\xf1a"),d.qZA(),d.TgZ(17,"input",12),d.NdJ("ngModelChange",function(u){return r.password=u})("blur",function(){return r.validarPass()}),d.qZA(),d.YNc(18,mg,2,0,"div",9),d.TgZ(19,"div",10),d._uU(20," Contrase\xf1a v\xe1lido "),d.qZA()(),d.TgZ(21,"div",13)(22,"button",14),d.NdJ("click",function(){return r.login()}),d._uU(23,"Ingresar"),d.qZA(),d.TgZ(24,"button",15),d.NdJ("click",function(){return r.seleccionarUsuario(1)}),d._uU(25,"Administrador"),d.qZA(),d.TgZ(26,"button",16),d.NdJ("click",function(){return r.seleccionarUsuario(2)}),d._uU(27,"Empleado"),d.qZA()()()()()()()),2&t&&(d.xp6(10),d.Q6J("ngModel",r.correo)("ngClass",d.WLB(6,xf,!r.correoValido,r.correoValido)),d.xp6(1),d.Q6J("ngIf",r.correo.length>0),d.xp6(6),d.Q6J("ngModel",r.password)("ngClass",d.WLB(9,xf,!r.passValido,r.passValido)),d.xp6(1),d.Q6J("ngIf",r.password.length>0))},dependencies:[Kt,Ci,_f,ng,nh,nv]}),n})(),C1=(()=>{class n{constructor(t){this.http=t,this.apiUrl="https://restcountries.com/v3.1/all"}getPaises(){return this.http.get(this.apiUrl).pipe((0,Tt.U)(t=>t.slice(0,50)))}getPais(t){return this.http.get(`${this.apiUrl}/${t}`)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Cy))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hb(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",4),d.NdJ("click",function(){d.CHM(t);const i=d.oxw().$implicit,u=d.oxw(2);return d.KtG(u.clickListado(i))}),d._UZ(1,"img",5),d._uU(2),d.qZA()}if(2&n){const t=d.oxw().$implicit;d.xp6(1),d.MGl("alt","Bandera de ",t.name.common,""),d.Q6J("src",t.flags.png,d.LSH),d.xp6(1),d.AsE(" ",t.name.common," (",t.cca2,") ")}}function fb(n,e){if(1&n&&(d.TgZ(0,"div",2),d.YNc(1,hb,3,4,"button",3),d.qZA()),2&n){const t=e.$implicit;d.xp6(1),d.Q6J("ngIf","Africa"==t.continents)}}function OD(n,e){if(1&n&&(d.TgZ(0,"div")(1,"ul"),d.YNc(2,fb,2,1,"div",1),d.qZA()()),2&n){const t=d.oxw();d.xp6(2),d.Q6J("ngForOf",t.paises)}}let pb=(()=>{class n{constructor(t){this.paisService=t,this.botonClickeado=new d.vpe,this.paises=[],this.listadoReducido=[]}ngOnInit(){this.paisService.getPaises().subscribe(t=>{this.paises=t})}clickListado(t){this.botonClickeado.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(C1))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-listado-paises"]],outputs:{botonClickeado:"botonClickeado"},decls:1,vars:1,consts:[[4,"ngIf"],["style","display: flex; flex-direction: column; align-items: flex-start;",4,"ngFor","ngForOf"],[2,"display","flex","flex-direction","column","align-items","flex-start"],["class","btn",3,"click",4,"ngIf"],[1,"btn",3,"click"],["width","50","height","50",3,"src","alt"]],template:function(t,r){1&t&&d.YNc(0,OD,3,1,"div",0),2&t&&d.Q6J("ngIf",r.paises.length>0)},dependencies:[gs,Ci]}),n})();class yg{constructor(e,t,r,i,u,c){this.codigo=e,this.descripcion=t,this.precio=r,this.stock=i,this.paisOrigen=u,this.comestible=c}}var Sn=$(4976),ku=$(259);class ih{constructor(e){return e}}class hv{constructor(){return(0,ku.C6)()}}const fv=new d.OlP("angularfire2._apps"),FD={provide:ih,useFactory:function Mf(n){return n&&1===n.length?n[0]:new ih((0,ku.Mq)())},deps:[[new d.FiY,fv]]},LD={provide:hv,deps:[[new d.FiY,fv]]};function vg(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new ih(r)}}let gb=(()=>{class n{constructor(t){(0,ku.KN)("angularfire",Sn.q4.full,"core"),(0,ku.KN)("angularfire",Sn.q4.full,"app"),(0,ku.KN)("angular",d.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(d.Lbi))},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[FD,LD]}),n})();function mb(n,...e){return{ngModule:gb,providers:[{provide:fv,useFactory:vg(n),multi:!0,deps:[d.R0b,d.zs3,Sn.HU,...e]}]}}const Pf=(0,Sn.u3)(ku.ZF,!0);var qa=$(6881),Rf=$(4859),In=$(2090),Ml=$(1877);const wg=new Map,yb={activated:!1,tokenObservers:[]},UD={initialized:!1,enabled:!1};function Kr(n){return wg.get(n)||Object.assign({},yb)}function pv(){return UD}const vb="https://content-firebaseappcheck.googleapis.com/v1",BD="exchangeDebugToken",wb={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class Nf{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Te.Z)(function*(){t.stop();try{t.pending=new In.BH,yield function $D(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new In.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ki=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ig(n,e){return mv.apply(this,arguments)}function mv(){return(mv=(0,Te.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const F=yield i.getHeartbeatsHeader();F&&(r["X-Firebase-Client"]=F)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,u)}catch(F){throw ki.create("fetch-network-error",{originalErrorMessage:F?.message})}if(200!==c.status)throw ki.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(F){throw ki.create("fetch-parse-error",{originalErrorMessage:F?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw ki.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const S=1e3*Number(_[1]),A=Date.now();return{token:g.token,expireTimeMillis:A+S,issuedAtTimeMillis:A}})).apply(this,arguments)}const zD="firebase-app-check-database",Ib=1,Ff="firebase-app-check-store";let Cg=null;function Tb(n,e){return _v.apply(this,arguments)}function _v(){return(_v=(0,Te.Z)(function*(n,e){const r=(yield function Dg(){return Cg||(Cg=new Promise((n,e)=>{try{const t=indexedDB.open(zD,Ib);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ki.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ff,{keyPath:"compositeKey"})}}catch(t){e(ki.create("storage-open",{originalErrorMessage:t?.message}))}}),Cg)}()).transaction(Ff,"readwrite"),u=r.objectStore(Ff).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var S;g(ki.create("storage-set",{originalErrorMessage:null===(S=_.target.error)||void 0===S?void 0:S.message}))}})})).apply(this,arguments)}const Lf=new Ml.Yd("@firebase/app-check");function Iv(n,e){return(0,In.hl)()?function Cb(n,e){return Tb(function bv(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Lf.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Tv(){return Sg.apply(this,arguments)}function Sg(){return(Sg=(0,Te.Z)(function*(){const n=pv();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const KD={error:"UNKNOWN_ERROR"};function YD(n){return In.US.encodeString(JSON.stringify(n),!1)}function Vf(n){return Sv.apply(this,arguments)}function Sv(){return(Sv=(0,Te.Z)(function*(n,e=!1){const t=n.app;!function Eb(n){if(!Kr(n).activated)throw ki.create("use-before-activation",{appName:n.name})}(t);const r=Kr(t);let u,i=r.token;if(i&&!sh(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(sh(_)?i=_:yield Iv(t,void 0))}if(!e&&i&&sh(i))return{token:i.token};let g,c=!1;if(function Dv(){return pv().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ig(function yv(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${vb}/projects/${t}/apps/${r}:${BD}?key=${i}`,body:{debug_token:e}}}(t,yield Tv()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield Iv(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Kr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Lf.warn(_.message):Lf.error(_),u=_}return i?u?g=sh(i)?{token:i.token,internalError:u}:Ag(u):(g={token:i.token},r.token=i,yield Iv(t,i)):g=Ag(u),c&&function Ab(n,e){const t=Kr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,g),g})).apply(this,arguments)}function Bf(n,e){const t=Kr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function xv(n){const{app:e}=n,t=Kr(e);let r=t.tokenRefresher;r||(r=function Mv(n){const{app:e}=n;return new Nf((0,Te.Z)(function*(){let r;if(r=Kr(e).token?yield Vf(n,!0):yield Vf(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Kr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},wb.RETRIAL_MIN_WAIT,wb.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function sh(n){return n.expireTimeMillis-Date.now()>0}function Ag(n){return{token:YD(KD),error:n}}class JD{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Kr(this.app);for(const t of e)Bf(this.app,t.next);return Promise.resolve()}}const Bb="app-check-internal";!function iT(){(0,qa._registerComponent)(new Rf.wA("app-check",n=>function xb(n,e){return new JD(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Bb).initialize()})),(0,qa._registerComponent)(new Rf.wA(Bb,n=>function oh(n){return{getToken:e=>Vf(n,e),addTokenListener:e=>function Uf(n,e,t,r){const{app:i}=n,u=Kr(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&sh(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),xv(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>xv(n))}(n,"INTERNAL",e),removeTokenListener:e=>Bf(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,qa.registerVersion)("@firebase/app-check","0.7.0")}();class jf{constructor(){return(0,Sn.vb)("app-check")}}typeof window<"u"&&window;var lT=$(1389);class Vv{constructor(e){return e}}class zb{constructor(){return(0,Sn.vb)("auth")}}const Uv=new d.OlP("angularfire2.auth-instances");function Wa(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Vv(r)}}const cT={provide:zb,deps:[[new d.FiY,Uv]]},$v={provide:Vv,useFactory:function Bv(n,e){const t=(0,Sn.JM)("auth",n,e);return t&&new Vv(t)},deps:[[new d.FiY,Uv],ih]};let zf=(()=>{class n{constructor(){(0,ku.KN)("angularfire",Sn.q4.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[$v,cT]}),n})();function dT(n,...e){return{ngModule:zf,providers:[{provide:Uv,useFactory:Wa(n),multi:!0,deps:[d.R0b,d.zs3,Sn.HU,hv,[new d.FiY,jf],...e]}]}}const Zb=(0,Sn.u3)(lT.o,!0);var ut,ST=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ao={},Gv=Gv||{},sn=ST||self;function uh(){}function qv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function qf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Wv="closure_uid_"+(1e9*Math.random()>>>0),AT=0;function xT(n,e,t){return n.call.apply(n.bind,arguments)}function nE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Oi(n,e,t){return(Oi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?xT:nE).apply(null,arguments)}function Pg(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ui(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function Ou(){this.s=this.s,this.o=this.o}Ou.prototype.s=!1,Ou.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function oM(n){Object.prototype.hasOwnProperty.call(n,Wv)&&n[Wv]||(n[Wv]=++AT)}(this)},Ou.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const rE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Rg(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function iE(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(qv(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function Fi(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Fi.prototype.h=function(){this.defaultPrevented=!0};var sE=function(){if(!sn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{sn.addEventListener("test",uh,e),sn.removeEventListener("test",uh,e)}catch{}return n}();function Wf(n){return/^[\s\xa0]*$/.test(n)}var Zv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Kv(n,e){return n<e?-1:n>e?1:0}function Ng(){var n=sn.navigator;return n&&(n=n.userAgent)?n:""}function Fu(n){return-1!=Ng().indexOf(n)}function kg(n){return kg[" "](n),n}function PT(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}kg[" "]=uh;var Vc,n,aM=Fu("Opera"),Zf=Fu("Trident")||Fu("MSIE"),RT=Fu("Edge"),oE=RT||Zf,NT=Fu("Gecko")&&!(-1!=Ng().toLowerCase().indexOf("webkit")&&!Fu("Edge"))&&!(Fu("Trident")||Fu("MSIE"))&&!Fu("Edge"),uM=-1!=Ng().toLowerCase().indexOf("webkit")&&!Fu("Edge");function kT(){var n=sn.document;return n?n.documentMode:void 0}e:{var aE="",Og=(n=Ng(),NT?/rv:([^\);]+)(\)|;)/.exec(n):RT?/Edge\/([\d\.]+)/.exec(n):Zf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):uM?/WebKit\/(\S+)/.exec(n):aM?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Og&&(aE=Og?Og[1]:""),Zf){var lh=kT();if(null!=lh&&lh>parseFloat(aE)){Vc=String(lh);break e}}Vc=aE}var uE={},dE=sn.document&&Zf&&(kT()||parseInt(Vc,10))||void 0;function Kf(n,e){if(Fi.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(NT){e:{try{kg(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:lM[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kf.$.h.call(this)}}ui(Kf,Fi);var lM={2:"touch",3:"pen",4:"mouse"};Kf.prototype.h=function(){Kf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Lg="closure_listenable_"+(1e6*Math.random()|0),OT=0;function FT(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++OT,this.fa=this.ia=!1}function Uc(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Yv(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function LT(n){const e={};for(const t in n)e[t]=n[t];return e}const VT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function UT(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<VT.length;u++)t=VT[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Vg(n){this.src=n,this.g={},this.h=0}function Qv(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=rE(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(Uc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Jv(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return i}return-1}Vg.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Jv(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new FT(e,this.src,u,!!r,i)).ia=t,n.push(e)),e};var hE="closure_lm_"+(1e6*Math.random()|0),Xv={};function e_(n,e,t,r,i){if(r&&r.once)return xo(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)e_(n,e[u],t,r,i);return null}return t=Qf(t),n&&n[Lg]?n.O(e,t,qf(r)?!!r.capture:!!r,i):t_(n,e,t,!1,r,i)}function t_(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=qf(i)?!!i.capture:!!i,g=xs(n);if(g||(n[hE]=g=new Vg(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function cM(){const e=dM;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)sE||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(pE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function xo(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)xo(n,e[u],t,r,i);return null}return t=Qf(t),n&&n[Lg]?n.P(e,t,qf(r)?!!r.capture:!!r,i):t_(n,e,t,!0,r,i)}function fE(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)fE(n,e[u],t,r,i);else r=qf(r)?!!r.capture:!!r,t=Qf(t),n&&n[Lg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Jv(u=n.g[e],t,r,i))&&(Uc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xs(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Jv(e,t,r,i)),(t=-1<n?e[n]:null)&&Yf(t))}function Yf(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Lg])Qv(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(pE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xs(e))?(Qv(t,n),0==t.h&&(t.src=null,e[hE]=null)):Uc(n)}}}function pE(n){return n in Xv?Xv[n]:Xv[n]="on"+n}function dM(n,e){if(n.fa)n=!0;else{e=new Kf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Yf(n),n=t.call(r,e)}return n}function xs(n){return(n=n[hE])instanceof Vg?n:null}var n_="__closure_events_fn_"+(1e9*Math.random()>>>0);function Qf(n){return"function"==typeof n?n:(n[n_]||(n[n_]=function(e){return n.handleEvent(e)}),n[n_])}function bi(){Ou.call(this),this.i=new Vg(this),this.S=this,this.J=null}function Li(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Fi(e,n);else if(e instanceof Fi)e.target=e.target||n;else{var i=e;UT(e=new Fi(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=ch(c,r,!0,e)&&i}if(i=ch(c=e.g=n,r,!0,e)&&i,i=ch(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=ch(c=e.g=t[u],r,!1,e)&&i}function ch(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var g=c.listener,_=c.la||c.src;c.ia&&Qv(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}ui(bi,Ou),bi.prototype[Lg]=!0,bi.prototype.removeEventListener=function(n,e,t,r){fE(this,n,e,t,r)},bi.prototype.N=function(){if(bi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Uc(t[r]);delete n.g[e],n.h--}}this.J=null},bi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},bi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ug=sn.JSON.stringify;function gE(){var n=Lu;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var s_,r_=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new mE,n=>n.reset());class mE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function $T(n){sn.setTimeout(()=>{throw n},0)}function i_(n,e){s_||function o_(){var n=sn.Promise.resolve(void 0);s_=function(){n.then(yE)}}(),sa||(s_(),sa=!0),Lu.add(n,e)}var sa=!1,Lu=new class BT{constructor(){this.h=this.g=null}add(e,t){const r=r_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function yE(){for(var n;n=gE();){try{n.h.call(n.g)}catch(t){$T(t)}var e=r_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}sa=!1}function dh(n,e){bi.call(this),this.h=n||1,this.g=e||sn,this.j=Oi(this.qb,this),this.l=Date.now()}function Bg(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function a_(n,e,t){if("function"==typeof n)t&&(n=Oi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Oi(n.handleEvent,n)}return 2147483647<Number(e)?-1:sn.setTimeout(n,e||0)}function jT(n){n.g=a_(()=>{n.g=null,n.i&&(n.i=!1,jT(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ui(dh,bi),(ut=dh.prototype).ga=!1,ut.T=null,ut.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Li(this,"tick"),this.ga&&(Bg(this),this.start()))}},ut.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ut.N=function(){dh.$.N.call(this),Bg(this),delete this.g};class HT extends Ou{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:jT(this)}N(){super.N(),this.g&&(sn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Jf(n){Ou.call(this),this.h=n,this.g={}}ui(Jf,Ou);var vE=[];function _E(n,e,t,r){Array.isArray(t)||(t&&(vE[0]=t.toString()),t=vE);for(var i=0;i<t.length;i++){var u=e_(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function u_(n){Yv(n.g,function(e,t){this.g.hasOwnProperty(t)&&Yf(e)},n),n.g={}}function l_(){this.g=!0}function Bc(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function c_(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return Ug(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Jf.prototype.N=function(){Jf.$.N.call(this),u_(this)},Jf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},l_.prototype.Ea=function(){this.g=!1},l_.prototype.info=function(){};var Pl={},d_=null;function Xf(){return d_=d_||new bi}function h_(n){Fi.call(this,Pl.Ta,n)}function hh(n){const e=Xf();Li(e,new h_(e))}function ep(n,e){Fi.call(this,Pl.STAT_EVENT,n),this.stat=e}function Ei(n){const e=Xf();Li(e,new ep(e,n))}function f_(n,e){Fi.call(this,Pl.Ua,n),this.size=e}function tp(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return sn.setTimeout(function(){n()},e)}Pl.Ta="serverreachability",ui(h_,Fi),Pl.STAT_EVENT="statevent",ui(ep,Fi),Pl.Ua="timingevent",ui(f_,Fi);var $g={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function bE(){}function p_(){}bE.prototype.h=null;var EE,np={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function g_(){Fi.call(this,"d")}function m_(){Fi.call(this,"c")}function y_(){}function jg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Jf(this),this.P=fM,this.V=new dh(n=oE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new WT}function WT(){this.i=null,this.g="",this.h=!1}ui(g_,Fi),ui(m_,Fi),ui(y_,bE),y_.prototype.g=function(){return new XMLHttpRequest},y_.prototype.i=function(){return{}},EE=new y_;var fM=45e3,v_={},$c={};function __(n,e,t){n.L=1,n.v=rp(Uu(e)),n.s=t,n.S=!0,IE(n,null)}function IE(n,e){n.G=Date.now(),jc(n),n.A=Uu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),xE(t.i,"t",r),n.C=0,t=n.l.I,n.h=new WT,n.g=MM(n.l,t?e:null,!n.s),0<n.O&&(n.M=new HT(Oi(n.Pa,n,n.g),n.O)),_E(n.U,n.g,"readystatechange",n.nb),e=n.I?LT(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),hh(),function wE(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),_=0;_<g.length;_++){var S=g[_].split("=");if(1<S.length){var A=S[0];S=S[1];var F=A.split("_");c=2<=F.length&&"type"==F[1]?c+(A+"=")+S+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function w_(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Rl(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=CE(n,t),i==$c){4==e&&(n.o=4,Ei(14),r=!1),Bc(n.j,n.m,null,"[Incomplete Response]");break}if(i==v_){n.o=4,Ei(15),Bc(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Bc(n.j,n.m,i,null),fh(n,i)}w_(n)&&i!=$c&&i!=v_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ei(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),oS(e),e.L=!0,Ei(11))):(Bc(n.j,n.m,t,"[Invalid Chunked Response]"),Vu(n),Hc(n))}function CE(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$c:(t=Number(e.substring(t,r)),isNaN(t)?v_:(r+=1)+t>e.length?$c:(e=e.substr(r,t),n.C=r+t,e))}function jc(n){n.Y=Date.now()+n.P,Hg(n,n.P)}function Hg(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=tp(Oi(n.lb,n),e)}function zg(n){n.B&&(sn.clearTimeout(n.B),n.B=null)}function Hc(n){0==n.l.H||n.J||TM(n.l,n)}function Vu(n){zg(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,Bg(n.V),u_(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function fh(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||PE(t.h,n)))if(!n.K&&PE(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;FE(t),kE(t)}sS(t),Ei(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=tp(Oi(t.ib,t),6e3));if(1>=XT(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else ap(t,11)}else if((n.K||t.g==n)&&FE(t),!Wf(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let S=i[e];if(t.V=S[0],S=S[1],2==t.H)if("c"==S[0]){t.J=S[1],t.oa=S[2];const A=S[3];null!=A&&(t.qa=A,t.j.info("VER="+t.qa));const F=S[4];null!=F&&(t.Ga=F,t.j.info("SVER="+t.Ga));const Z=S[5];null!=Z&&"number"==typeof Z&&0<Z&&(t.K=r=1.5*Z,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const ne=n.g;if(ne){const de=ne.g?ne.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(de){var u=r.h;u.g||-1==de.indexOf("spdy")&&-1==de.indexOf("quic")&&-1==de.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(RE(u,u.h),u.h=null))}if(r.F){const Ue=ne.g?ne.g.getResponseHeader("X-HTTP-Session-Id"):null;Ue&&(r.Da=Ue,ur(r.G,r.F,Ue))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=xM(r,r.I?r.oa:null,r.Y),c.K){eS(r.h,c);var g=c,_=r.K;_&&g.setTimeout(_),g.B&&(zg(g),jc(g)),r.g=c}else CM(r);0<t.i.length&&OE(t)}else"stop"!=S[0]&&"close"!=S[0]||ap(t,7);else 3==t.H&&("stop"==S[0]||"close"==S[0]?"stop"==S[0]?ap(t,7):iS(t):"noop"!=S[0]&&t.l&&t.l.Aa(S),t.A=0)}hh()}catch{}}function ZT(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(qv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function gM(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(qv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function pM(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(qv(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(ut=jg.prototype).setTimeout=function(n){this.P=n},ut.nb=function(n){n=n.target;const e=this.M;e&&3==Mn(n)?e.l():this.Pa(n)},ut.Pa=function(n){try{if(n==this.g)e:{const A=Mn(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||oE||this.g&&(this.h.h||this.g.ja()||$r(this.g)))){this.J||4!=A||7==e||hh(),zg(this);var t=this.g.da();this.aa=t;t:if(w_(this)){var r=$r(this.g);n="";var i=r.length,u=4==Mn(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Vu(this),Hc(this);var c="";break t}this.h.i=new sn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function zT(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wf(g)){var S=g;break t}}S=null}if(!(t=S)){this.i=!1,this.o=3,Ei(12),Vu(this),Hc(this);break e}Bc(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,t)}this.S?(Rl(this,A,c),oE&&this.i&&3==A&&(_E(this.U,this.V,"tick",this.mb),this.V.start())):(Bc(this.j,this.m,c,null),fh(this,c)),4==A&&Vu(this),this.i&&!this.J&&(4==A?TM(this.l,this):(this.i=!1,jc(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ei(12)):(this.o=0,Ei(13)),Vu(this),Hc(this)}}}catch{}},ut.mb=function(){if(this.g){var n=Mn(this.g),e=this.g.ja();this.C<e.length&&(zg(this),Rl(this,n,e),this.i&&4!=n&&jc(this))}},ut.cancel=function(){this.J=!0,Vu(this)},ut.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function hM(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(hh(),Ei(17)),Vu(this),this.o=2,Hc(this)):Hg(this,this.Y-n)};var KT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zc(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof zc){this.h=void 0!==e?e:n.h,Gg(this,n.j),this.s=n.s,this.g=n.g,qg(this,n.m),this.l=n.l,e=n.i;var t=new op;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),b_(this,t),this.o=n.o}else n&&(t=String(n).match(KT))?(this.h=!!e,Gg(this,t[1]||"",!0),this.s=ip(t[2]||""),this.g=ip(t[3]||"",!0),qg(this,t[4]),this.l=ip(t[5]||"",!0),b_(this,t[6]||"",!0),this.o=ip(t[7]||"")):(this.h=!!e,this.i=new op(null,this.h))}function Uu(n){return new zc(n)}function Gg(n,e,t){n.j=t?ip(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function qg(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function b_(n,e,t){e instanceof op?(n.i=e,function yM(n,e){e&&!n.j&&(Gc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(QT(this,r),xE(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=sp(e,E_)),n.i=new op(e,n.h))}function ur(n,e,t){n.i.set(e,t)}function rp(n){return ur(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function ip(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function sp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,TE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function TE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}zc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(sp(e,Wg,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(sp(e,Wg,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(sp(t,"/"==t.charAt(0)?SE:mM,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",sp(t,YT)),n.join("")};var Wg=/[#\/\?@]/g,mM=/[#\?:]/g,SE=/[#\?]/g,E_=/[#\?@]/g,YT=/#/g;function op(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Gc(n){n.g||(n.g=new Map,n.h=0,n.i&&function DE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function QT(n,e){Gc(n),e=ph(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function AE(n,e){return Gc(n),e=ph(n,e),n.g.has(e)}function xE(n,e,t){QT(n,e),0<t.length&&(n.i=null,n.g.set(ph(n,e),Rg(t)),n.h+=t.length)}function ph(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function JT(n){this.l=n||_M,n=sn.PerformanceNavigationTiming?0<(n=sn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(sn.g&&sn.g.Ka&&sn.g.Ka()&&sn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(ut=op.prototype).add=function(n,e){Gc(this),this.i=null,n=ph(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},ut.forEach=function(n,e){Gc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},ut.sa=function(){Gc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},ut.Z=function(n){Gc(this);let e=[];if("string"==typeof n)AE(this,n)&&(e=e.concat(this.g.get(ph(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},ut.set=function(n,e){return Gc(this),this.i=null,AE(this,n=ph(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},ut.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},ut.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var _M=10;function ME(n){return!!n.h||!!n.g&&n.g.size>=n.j}function XT(n){return n.h?1:n.g?n.g.size:0}function PE(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function RE(n,e){n.g?n.g.add(e):n.h=e}function eS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function tS(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Rg(n.i)}function NE(){}function s(){this.g=new NE}function o(n,e,t){const r=t||"";try{ZT(n,function(i,u){let c=i;qf(i)&&(c=Ug(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function l(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function h(n){this.l=n.fc||null,this.j=n.ob||!1}function p(n,e){bi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}JT.prototype.cancel=function(){if(this.i=tS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},NE.prototype.stringify=function(n){return sn.JSON.stringify(n,void 0)},NE.prototype.parse=function(n){return sn.JSON.parse(n,void 0)},ui(h,bE),h.prototype.g=function(){return new p(this.l,this.j)},h.prototype.i=function(n){return function(){return n}}({}),ui(p,bi);var y=0;function E(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function T(n){n.readyState=4,n.l=null,n.j=null,n.A=null,x(n)}function x(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(ut=p.prototype).open=function(n,e){if(this.readyState!=y)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,x(this)},ut.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||sn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},ut.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,T(this)),this.readyState=y},ut.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,x(this)),this.g&&(this.readyState=3,x(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof sn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;E(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},ut.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?T(this):x(this),3==this.readyState&&E(this)}},ut.Za=function(n){this.g&&(this.response=this.responseText=n,T(this))},ut.Ya=function(n){this.g&&(this.response=n,T(this))},ut.ka=function(){this.g&&T(this)},ut.setRequestHeader=function(n,e){this.v.append(n,e)},ut.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},ut.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(p.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var O=sn.JSON.parse;function j(n){bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=J,this.L=this.M=!1}ui(j,bi);var J="",se=/^https?$/i,Se=["POST","PUT"];function ot(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,bt(n),Le(n)}function bt(n){n.F||(n.F=!0,Li(n,"complete"),Li(n,"error"))}function jt(n){if(n.h&&typeof Gv<"u"&&(!n.C[1]||4!=Mn(n)||2!=n.da()))if(n.v&&4==Mn(n))a_(n.La,0,n);else if(Li(n,"readystatechange"),4==Mn(n)){n.h=!1;try{const g=n.da();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.I).match(KT)[1]||null;if(!i&&sn.self&&sn.self.location){var u=sn.self.location.protocol;i=u.substr(0,u.length-1)}r=!se.test(i?i.toLowerCase():"")}t=r}if(t)Li(n,"complete"),Li(n,"success");else{n.m=6;try{var c=2<Mn(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",bt(n)}}finally{Le(n)}}}function Le(n,e){if(n.g){on(n);const t=n.g,r=n.C[0]?uh:null;n.g=null,n.C=null,e||Li(n,"ready");try{t.onreadystatechange=r}catch{}}}function on(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(sn.clearTimeout(n.A),n.A=null)}function Mn(n){return n.g?n.g.readyState:0}function $r(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case J:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function nS(n){let e="";return Yv(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function rS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=nS(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):ur(n,e,t))}function I_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wM(n){this.Ga=0,this.i=[],this.j=new l_,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=I_("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=I_("baseRetryDelayMs",5e3,n),this.hb=I_("retryDelaySeedMs",1e4,n),this.eb=I_("forwardChannelMaxRetries",2,n),this.xa=I_("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new JT(n&&n.concurrentRequestLimit),this.Ja=new s,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function iS(n){if(bM(n),3==n.H){var e=n.W++,t=Uu(n.G);ur(t,"SID",n.J),ur(t,"RID",e),ur(t,"TYPE","terminate"),C_(n,t),(e=new jg(n,n.j,e,void 0)).L=2,e.v=rp(Uu(t)),t=!1,sn.navigator&&sn.navigator.sendBeacon&&(t=sn.navigator.sendBeacon(e.v.toString(),"")),!t&&sn.Image&&((new Image).src=e.v,t=!0),t||(e.g=MM(e.l,null),e.g.ha(e.v)),e.G=Date.now(),jc(e)}AM(n)}function kE(n){n.g&&(oS(n),n.g.cancel(),n.g=null)}function bM(n){kE(n),n.u&&(sn.clearTimeout(n.u),n.u=null),FE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&sn.clearTimeout(n.m),n.m=null)}function OE(n){ME(n.h)||n.m||(n.m=!0,i_(n.Na,n),n.C=0)}function EM(n,e){var t;t=e?e.m:n.W++;const r=Uu(n.G);ur(r,"SID",n.J),ur(r,"RID",t),ur(r,"AID",n.V),C_(n,r),n.o&&n.s&&rS(r,n.o,n.s),t=new jg(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=IM(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),RE(n.h,t),__(t,r,e)}function C_(n,e){n.ma&&Yv(n.ma,function(t,r){ur(e,r,t)}),n.l&&ZT({},function(t,r){ur(e,r,t)})}function IM(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Oi(n.l.Va,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let S=i[_].h;const A=i[_].g;if(S-=u,0>S)u=Math.max(0,i[_].h-100),g=!1;else try{o(A,c,"req"+S+"_")}catch{r&&r(A)}}if(g){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function CM(n){n.g||n.u||(n.ba=1,i_(n.Ma,n),n.A=0)}function sS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=tp(Oi(n.Ma,n),SM(n,n.A)),n.A++,0))}function oS(n){null!=n.B&&(sn.clearTimeout(n.B),n.B=null)}function DM(n){n.g=new jg(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Uu(n.wa);ur(e,"RID","rpc"),ur(e,"SID",n.J),ur(e,"CI",n.M?"0":"1"),ur(e,"AID",n.V),ur(e,"TYPE","xmlhttp"),C_(n,e),n.o&&n.s&&rS(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=rp(Uu(e)),t.s=null,t.S=!0,IE(t,n)}function FE(n){null!=n.v&&(sn.clearTimeout(n.v),n.v=null)}function TM(n,e){var t=null;if(n.g==e){FE(n),oS(n),n.g=null;var r=2}else{if(!PE(n.h,e))return;t=e.F,eS(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;Li(r=Xf(),new f_(r,t)),OE(n)}else CM(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function Lk(n,e){return!(XT(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=tp(Oi(n.Na,n,e),SM(n,n.C)),n.C++,0)))}(n,e)||2==r&&sS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:ap(n,5);break;case 4:ap(n,10);break;case 3:ap(n,6);break;default:ap(n,2)}}function SM(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function ap(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Oi(n.pb,n);t||(t=new zc("//www.google.com/images/cleardot.gif"),sn.location&&"http"==sn.location.protocol||Gg(t,"https"),rp(t)),function a(n,e){const t=new l_;if(sn.Image){const r=new Image;r.onload=Pg(l,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Pg(l,t,r,"TestLoadImage: error",!1,e),r.onabort=Pg(l,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Pg(l,t,r,"TestLoadImage: timeout",!1,e),sn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ei(2);n.H=0,n.l&&n.l.za(e),AM(n),bM(n)}function AM(n){if(n.H=0,n.pa=[],n.l){const e=tS(n.h);(0!=e.length||0!=n.i.length)&&(iE(n.pa,e),iE(n.pa,n.i),n.h.i.length=0,Rg(n.i),n.i.length=0),n.l.ya()}}function xM(n,e,t){var r=t instanceof zc?Uu(t):new zc(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),qg(r,r.m);else{var i=sn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new zc(null,void 0);r&&Gg(u,r),e&&(u.g=e),i&&qg(u,i),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&ur(r,t,e),ur(r,"VER",n.qa),C_(n,r),r}function MM(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new j(t&&n.Ha&&!n.va?new h({ob:!0}):n.va)).Oa(n.I),e}function PM(){}function LE(){if(Zf&&!(10<=Number(dE)))throw Error("Environmental error: no available transport.")}function oa(n,e){bi.call(this),this.g=new wM(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Wf(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wf(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zg(this)}function RM(n){g_.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function NM(){m_.call(this),this.status=1}function Zg(n){this.g=n}function Bu(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function aS(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((i=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=(t=(i=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(i^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^u&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^u&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(i^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(i^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=u+((c=i+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+u&4294967295}function tr(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var u=0|n[i];r&&u==e||(t[i]=u,r=!1)}this.g=t}(ut=j.prototype).Oa=function(n){this.M=n},ut.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():EE.g(),this.C=function qT(n){return n.h||(n.h=n.i())}(this.u?this.u:EE),this.g.onreadystatechange=Oi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void ot(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=sn.FormData&&n instanceof sn.FormData,!(0<=rE(Se,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{on(this),0<this.B&&((this.L=function Ze(n){return Zf&&function lE(){return PT(uE,9,function(){let n=0;const e=Zv(String(Vc)).split("."),t=Zv("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=Kv(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||Kv(0==i[2].length,0==u[2].length)||Kv(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Oi(this.ua,this)):this.A=a_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){ot(this,u)}},ut.ua=function(){typeof Gv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Li(this,"timeout"),this.abort(8))},ut.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Li(this,"complete"),Li(this,"abort"),Le(this))},ut.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Le(this,!0)),j.$.N.call(this)},ut.La=function(){this.s||(this.G||this.v||this.l?jt(this):this.kb())},ut.kb=function(){jt(this)},ut.da=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},ut.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},ut.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),O(e)}},ut.Ia=function(){return this.m},ut.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(ut=wM.prototype).qa=8,ut.H=1,ut.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new jg(this,this.j,n,void 0);let u=this.s;if(this.U&&(u?(u=LT(u),UT(u,this.U)):u=this.U),null!==this.o||this.O||(i.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=IM(this,i,e),ur(t=Uu(this.G),"RID",n),ur(t,"CVER",22),this.F&&ur(t,"X-HTTP-Session-Id",this.F),C_(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(nS(u)))+"&"+e:this.o&&rS(t,this.o,u)),RE(this.h,i),this.bb&&ur(t,"TYPE","init"),this.P?(ur(t,"$req",e),ur(t,"SID","null"),i.ba=!0,__(i,t,null)):__(i,t,e),this.H=2}}else 3==this.H&&(n?EM(this,n):0==this.i.length||ME(this.h)||EM(this))},ut.Ma=function(){if(this.u=null,DM(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=tp(Oi(this.jb,this),n)}},ut.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,Ei(10),kE(this),DM(this))},ut.ib=function(){null!=this.v&&(this.v=null,kE(this),sS(this),Ei(19))},ut.pb=function(n){n?(this.j.info("Successfully pinged google.com"),Ei(2)):(this.j.info("Failed to ping google.com"),Ei(1))},(ut=PM.prototype).Ba=function(){},ut.Aa=function(){},ut.za=function(){},ut.ya=function(){},ut.Va=function(){},LE.prototype.g=function(n,e){return new oa(n,e)},ui(oa,bi),oa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;Ei(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=xM(n,null,n.Y),OE(n)},oa.prototype.close=function(){iS(this.g)},oa.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Ug(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&OE(e)},oa.prototype.N=function(){this.g.l=null,delete this.j,iS(this.g),delete this.g,oa.$.N.call(this)},ui(RM,g_),ui(NM,m_),ui(Zg,PM),Zg.prototype.Ba=function(){Li(this.g,"a")},Zg.prototype.Aa=function(n){Li(this.g,new RM(n))},Zg.prototype.za=function(n){Li(this.g,new NM)},Zg.prototype.ya=function(){Li(this.g,"b")},ui(Bu,function Vk(){this.blockSize=-1}),Bu.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Bu.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,u=0;u<e;){if(0==i)for(;u<=t;)aS(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[i++]=n.charCodeAt(u++),i==this.blockSize){aS(this,r),i=0;break}}else for(;u<e;)if(r[i++]=n[u++],i==this.blockSize){aS(this,r),i=0;break}}this.h=i,this.i+=e},Bu.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var Uk={};function uS(n){return-128<=n&&128>n?PT(Uk,n,function(e){return new tr([0|e],0>e?-1:0)}):new tr([0|n],0>n?-1:0)}function Nl(n){if(isNaN(n)||!isFinite(n))return Kg;if(0>n)return cs(Nl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=lS;return new tr(e,0)}var lS=4294967296,Kg=uS(0),cS=uS(1),OM=uS(16777216);function qc(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Za(n){return-1==n.h}function cs(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new tr(t,~n.h).add(cS)}function VE(n,e){return n.add(cs(e))}function UE(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function D_(n,e){this.g=n,this.h=e}function BE(n,e){if(qc(e))throw Error("division by zero");if(qc(n))return new D_(Kg,Kg);if(Za(n))return e=BE(cs(n),e),new D_(cs(e.g),cs(e.h));if(Za(e))return e=BE(n,cs(e)),new D_(cs(e.g),e.h);if(30<n.g.length){if(Za(n)||Za(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cS,r=e;0>=r.X(n);)t=FM(t),r=FM(r);var i=Yg(t,1),u=Yg(r,1);for(r=Yg(r,2),t=Yg(t,2);!qc(r);){var c=u.add(r);0>=c.X(n)&&(i=i.add(t),u=c),r=Yg(r,1),t=Yg(t,1)}return e=VE(n,i.R(e)),new D_(i,e)}for(i=Kg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=Nl(t)).R(e);Za(c)||0<c.X(n);)c=(u=Nl(t-=r)).R(e);qc(u)&&(u=cS),i=i.add(u),n=VE(n,c)}return new D_(i,n)}function FM(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new tr(t,n.h)}function Yg(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],u=0;u<r;u++)i[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new tr(i,n.h)}(ut=tr.prototype).ea=function(){if(Za(this))return-cs(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:lS+r)*e,e*=lS}return n},ut.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(qc(this))return"0";if(Za(this))return"-"+cs(this).toString(n);for(var e=Nl(Math.pow(n,6)),t=this,r="";;){var i=BE(t,e).g,u=((0<(t=VE(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(qc(t=i))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},ut.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},ut.X=function(n){return Za(n=VE(this,n))?-1:qc(n)?0:1},ut.abs=function(){return Za(this)?cs(this):this},ut.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var u=r+(65535&this.D(i))+(65535&n.D(i)),c=(u>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(u&=65535)}return new tr(t,-2147483648&t[t.length-1]?-1:0)},ut.R=function(n){if(qc(this)||qc(n))return Kg;if(Za(this))return Za(n)?cs(this).R(cs(n)):cs(cs(this).R(n));if(Za(n))return cs(this.R(cs(n)));if(0>this.X(OM)&&0>n.X(OM))return Nl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var u=this.D(r)>>>16,c=65535&this.D(r),g=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,UE(t,2*r+2*i),t[2*r+2*i+1]+=u*_,UE(t,2*r+2*i+1),t[2*r+2*i+1]+=c*g,UE(t,2*r+2*i+1),t[2*r+2*i+2]+=u*g,UE(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new tr(t,0)},ut.gb=function(n){return BE(this,n).h},ut.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new tr(t,this.h&n.h)},ut.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new tr(t,this.h|n.h)},ut.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new tr(t,this.h^n.h)},LE.prototype.createWebChannel=LE.prototype.g,oa.prototype.send=oa.prototype.u,oa.prototype.open=oa.prototype.m,oa.prototype.close=oa.prototype.close,$g.NO_ERROR=0,$g.TIMEOUT=8,$g.HTTP_ERROR=6,GT.COMPLETE="complete",p_.EventType=np,np.OPEN="a",np.CLOSE="b",np.ERROR="c",np.MESSAGE="d",bi.prototype.listen=bi.prototype.O,j.prototype.listenOnce=j.prototype.P,j.prototype.getLastError=j.prototype.Sa,j.prototype.getLastErrorCode=j.prototype.Ia,j.prototype.getStatus=j.prototype.da,j.prototype.getResponseJson=j.prototype.Wa,j.prototype.getResponseText=j.prototype.ja,j.prototype.send=j.prototype.ha,j.prototype.setWithCredentials=j.prototype.Oa,Bu.prototype.digest=Bu.prototype.l,Bu.prototype.reset=Bu.prototype.reset,Bu.prototype.update=Bu.prototype.j,tr.prototype.add=tr.prototype.add,tr.prototype.multiply=tr.prototype.R,tr.prototype.modulo=tr.prototype.gb,tr.prototype.compare=tr.prototype.X,tr.prototype.toNumber=tr.prototype.ea,tr.prototype.toString=tr.prototype.toString,tr.prototype.getBits=tr.prototype.D,tr.fromNumber=Nl,tr.fromString=function kM(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return cs(kM(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Nl(Math.pow(e,8)),r=Kg,i=0;i<n.length;i+=8){var u=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+u),e);8>u?(u=Nl(Math.pow(e,u)),r=r.R(u).add(Nl(c))):r=(r=r.R(t)).add(Nl(c))}return r};var Bk=Ao.createWebChannelTransport=function(){return new LE},$k=Ao.getStatEventTarget=function(){return Xf()},dS=Ao.ErrorCode=$g,jk=Ao.EventType=GT,Hk=Ao.Event=Pl,LM=Ao.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zk=Ao.FetchXmlHttpFactory=h,$E=Ao.WebChannel=p_,Gk=Ao.XhrIo=j,qk=Ao.Md5=Bu,Qg=Ao.Integer=tr;const VM="@firebase/firestore";class Ki{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ki.UNAUTHENTICATED=new Ki(null),Ki.GOOGLE_CREDENTIALS=new Ki("google-credentials-uid"),Ki.FIRST_PARTY=new Ki("first-party-uid"),Ki.MOCK_USER=new Ki("mock-user");let Jg="9.22.0";const gh=new Ml.Yd("@firebase/firestore");function hS(){return gh.logLevel}function Ge(n,...e){if(gh.logLevel<=Ml.in.DEBUG){const t=e.map(fS);gh.debug(`Firestore (${Jg}): ${n}`,...t)}}function li(n,...e){if(gh.logLevel<=Ml.in.ERROR){const t=e.map(fS);gh.error(`Firestore (${Jg}): ${n}`,...t)}}function Ka(n,...e){if(gh.logLevel<=Ml.in.WARN){const t=e.map(fS);gh.warn(`Firestore (${Jg}): ${n}`,...t)}}function fS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function _t(n="Unexpected state"){const e=`FIRESTORE (${Jg}) INTERNAL ASSERTION FAILED: `+n;throw li(e),new Error(e)}function Mt(n,e){n||_t()}function dt(n,e){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Fe extends In.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class UM{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ki.UNAUTHENTICATED))}shutdown(){}}class Yk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Qk{constructor(e){this.t=e,this.currentUser=Ki.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=S=>this.i!==i?(i=this.i,t(S)):Promise.resolve();let c=new Vi;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Vi,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const S=c;e.enqueueRetryable((0,Te.Z)(function*(){yield S.promise,yield u(r.currentUser)}))},_=S=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=S,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(S=>_(S)),setTimeout(()=>{if(!this.auth){const S=this.t.getImmediate({optional:!0});S?_(S):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Vi)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt("string"==typeof r.accessToken),new UM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Mt(null===e||"string"==typeof e),new Ki(e)}}class Jk{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Ki.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xk{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new Jk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ki.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eO{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=u=>{null!=u.error&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.T;return this.T=u.token,Ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.I.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.I.getImmediate({optional:!0});u?i(u):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Mt("string"==typeof t.token),this.T=t.token,new BM(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function tO(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $M{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=tO(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function un(n,e){return n<e?-1:n>e?1:0}function Xg(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function jM(n){return n+"\0"}class jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Fe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jr.fromMillis(Date.now())}static fromDate(e){return jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new jr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Nt(e)}static min(){return new Nt(new jr(0,0))}static max(){return new Nt(new jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class T_{constructor(e,t,r){void 0===t?t=0:t>e.length&&_t(),void 0===r?r=e.length-t:r>e.length-t&&_t(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===T_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof T_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pn extends T_{construct(e,t,r){return new Pn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Pn(t)}static emptyPath(){return new Pn([])}}const nO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ni extends T_{construct(e,t,r){return new ni(e,t,r)}static isValidIdentifier(e){return nO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ni.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ni(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new Fe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Fe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(u(),i++)}if(u(),c)throw new Fe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ni(t)}static emptyPath(){return new ni([])}}class lt{constructor(e){this.path=e}static fromPath(e){return new lt(Pn.fromString(e))}static fromName(e){return new lt(Pn.fromString(e).popFirst(5))}static empty(){return new lt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new lt(new Pn(e.slice()))}}class jE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function pS(n){return n.fields.find(e=>2===e.kind)}function up(n){return n.fields.filter(e=>2!==e.kind)}jE.UNKNOWN_ID=-1;class HE{constructor(e,t){this.fieldPath=e,this.kind=t}}class S_{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new S_(0,aa.min())}}function HM(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Nt.fromTimestamp(1e9===r?new jr(t+1,0):new jr(t,r));return new aa(i,lt.empty(),e)}function zM(n){return new aa(n.readTime,n.key,-1)}class aa{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new aa(Nt.min(),lt.empty(),-1)}static max(){return new aa(Nt.max(),lt.empty(),-1)}}function gS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=lt.comparator(n.documentKey,e.documentKey),0!==t?t:un(n.largestBatchId,e.largestBatchId))}const GM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mh(n){return mS.apply(this,arguments)}function mS(){return mS=(0,Te.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==GM)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}),mS.apply(this,arguments)}class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_t(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ue((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ue?t:ue.resolve(t)}catch(t){return ue.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ue.reject(t)}static resolve(e){return new ue((t,r)=>{t(e)})}static reject(e){return new ue((t,r)=>{r(e)})}static waitFor(e){return new ue((t,r)=>{let i=0,u=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=ue.resolve(!1);for(const r of e)t=t.next(i=>i?ue.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new ue((r,i)=>{const u=e.length,c=new Array(u);let g=0;for(let _=0;_<u;_++){const S=_;t(e[S]).next(A=>{c[S]=A,++g,g===u&&r(c)},A=>i(A))}})}static doWhile(e,t){return new ue((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}class zE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Vi,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new A_(e,t.error)):this.v.resolve()},this.transaction.onerror=r=>{const i=yS(r.target.error);this.v.reject(new A_(e,i))}}static open(e,t,r,i){try{return new zE(t,e.transaction(i,r))}catch(u){throw new A_(t,u)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Ge("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new oO(t)}}class $u{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===$u.S((0,In.z$)())&&li("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ge("SimpleDb","Removing database:",e),lp(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,In.hl)())return!1;if($u.C())return!0;const e=(0,In.z$)(),t=$u.S(e),r=0<t&&t<10,i=$u.N(e),u=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}$(e){var t=this;return(0,Te.Z)(function*(){return t.db||(Ge("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=c=>{r(c.target.result)},u.onblocked=()=>{i(new A_(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=c=>{const g=c.target.error;i("VersionError"===g.name?new Fe(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===g.name?new Fe(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+g):new A_(e,g))},u.onupgradeneeded=c=>{Ge("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.O(c.target.result,u.transaction,c.oldVersion,t.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var u=this;return(0,Te.Z)(function*(){const c="readonly"===t;let g=0;for(;;){++g;try{u.db=yield u.$(e);const _=zE.open(u.db,e,c?"readonly":"readwrite",r),S=i(_).next(A=>(_.P(),A)).catch(A=>(_.abort(A),ue.reject(A))).toPromise();return S.catch(()=>{}),yield _.R,S}catch(_){const S=_,A="FirebaseError"!==S.name&&g<3;if(Ge("SimpleDb","Transaction failed with error:",S.message,"Retrying:",A),u.close(),!A)return Promise.reject(S)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sO{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return lp(this.L.delete())}}class A_ extends Fe{constructor(e,t){super(ge.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function yh(n){return"IndexedDbTransactionError"===n.name}class oO{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ge("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lp(r)}add(e){return Ge("SimpleDb","ADD",this.store.name,e,e),lp(this.store.add(e))}get(e){return lp(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ge("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ge("SimpleDb","DELETE",this.store.name,e),lp(this.store.delete(e))}count(){return Ge("SimpleDb","COUNT",this.store.name),lp(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),u=[];return this.W(i,(c,g)=>{u.push(g)}).next(()=>u)}{const i=this.store.getAll(r.range);return new ue((u,c)=>{i.onerror=g=>{c(g.target.error)},i.onsuccess=g=>{u(g.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new ue((i,u)=>{r.onerror=c=>{u(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Ge("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(u,c,g)=>g.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new ue((r,i)=>{t.onerror=u=>{const c=yS(u.target.error);i(c)},t.onsuccess=u=>{const c=u.target.result;c?e(c.primaryKey,c.value).next(g=>{g?c.continue():r()}):r()}})}W(e,t){const r=[];return new ue((i,u)=>{e.onerror=c=>{u(c.target.error)},e.onsuccess=c=>{const g=c.target.result;if(!g)return void i();const _=new sO(g),S=t(g.primaryKey,g.value,_);if(S instanceof ue){const A=S.catch(F=>(_.done(),ue.reject(F)));r.push(A)}_.isDone?i():null===_.K?g.continue():g.continue(_.K)}}).next(()=>ue.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function lp(n){return new ue((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=yS(r.target.error);t(i)}})}let WM=!1;function yS(n){const e=$u.S((0,In.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Fe("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return WM||(WM=!0,setTimeout(()=>{throw r},0)),r}}return n}class aO{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ge("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Te.Z)(function*(){t.task=null;try{Ge("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){yh(r)?Ge("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield mh(r)}yield t.et(6e4)}))}}class uO{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,Te.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,u=!0;return ue.doWhile(()=>!0===u&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ge("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(g=>{i-=g,r.add(c)});u=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(u=>{const c=u.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,u)).next(g=>(Ge("IndexBackiller",`Updating offset: ${g}`),this.localStore.indexManager.updateCollectionGroup(e,t,g))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,u)=>{const c=zM(u);gS(c,r)>0&&(r=c)}),new aa(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let ua=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function x_(n){return null==n}function M_(n){return 0===n&&1/n==-1/0}function ZM(n){return"number"==typeof n&&Number.isInteger(n)&&!M_(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Ms(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=KM(e)),e=lO(n.get(t),e);return KM(e)}function lO(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const u=n.charAt(i);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function KM(n){return n+"\x01\x01"}function kl(n){const e=n.length;if(Mt(e>=2),2===e)return Mt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pn.emptyPath();const t=e-2,r=[];let i="";for(let u=0;u<e;){const c=n.indexOf("\x01",u);switch((c<0||c>t)&&_t(),n.charAt(c+1)){case"\x01":const g=n.substring(u,c);let _;0===i.length?_=g:(i+=g,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(u,c),i+="\0";break;case"\x11":i+=n.substring(u,c+1);break;default:_t()}u=c+2}return new Pn(r)}const YM=["userId","batchId"];function GE(n,e){return[n,Ms(e)]}function QM(n,e,t){return[n,Ms(e),t]}const cO={},dO=["prefixPath","collectionGroup","readTime","documentId"],hO=["prefixPath","collectionGroup","documentId"],fO=["collectionGroup","readTime","prefixPath","documentId"],pO=["canonicalId","targetId"],gO=["targetId","path"],mO=["path","targetId"],yO=["collectionId","parent"],vO=["indexId","uid"],_O=["uid","sequenceNumber"],wO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],bO=["indexId","uid","orderedDocumentKey"],EO=["userId","collectionPath","documentId"],IO=["userId","collectionPath","largestBatchId"],CO=["userId","collectionGroup","largestBatchId"],JM=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DO=[...JM,"documentOverlays"],XM=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],eP=XM,TO=[...eP,"indexConfiguration","indexState","indexEntries"];class vS extends qM{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function Yi(n,e){const t=dt(n);return $u.M(t.ht,e)}function tP(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function vh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nP(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class gr{constructor(e,t){this.comparator=e,this.root=t||ds.EMPTY}insert(e,t){return new gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ds.BLACK,null,null))}remove(e){return new gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ds.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qE(this.root,e,this.comparator,!1)}getReverseIterator(){return new qE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qE(this.root,e,this.comparator,!0)}}class qE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ds{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??ds.RED,this.left=i??ds.EMPTY,this.right=u??ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new ds(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ds.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ds.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _t();const e=this.left.check();if(e!==this.right.check())throw _t();return e+(this.isRed()?0:1)}}ds.EMPTY=null,ds.RED=!0,ds.BLACK=!1,ds.EMPTY=new class{constructor(){this.size=0}get key(){throw _t()}get value(){throw _t()}get color(){throw _t()}get left(){throw _t()}get right(){throw _t()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ds(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new rP(this.data.getIterator())}getIteratorFrom(e){return new rP(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class rP{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function em(n){return n.hasNext()?n.getNext():void 0}class Mo{constructor(e){this.fields=e,e.sort(ni.comparator)}static empty(){return new Mo([])}unionWith(e){let t=new Ar(ni.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xg(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class iP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ui{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new iP("Invalid base64 string: "+i):i}}(e);return new Ui(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new Ui(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ui.EMPTY_BYTE_STRING=new Ui("");const AO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _h(n){if(Mt(!!n),"string"==typeof n){let e=0;const t=AO.exec(n);if(Mt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ri(n.seconds),nanos:ri(n.nanos)}}function ri(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Wc(n){return"string"==typeof n?Ui.fromBase64String(n):Ui.fromUint8Array(n)}function WE(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ZE(n){const e=n.mapValue.fields.__previous_value__;return WE(e)?ZE(e):e}function P_(n){const e=_h(n.mapValue.fields.__local_write_time__.timestampValue);return new jr(e.seconds,e.nanos)}class xO{constructor(e,t,r,i,u,c,g,_,S){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=S}}class wh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new wh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof wh&&e.projectId===this.projectId&&e.database===this.database}}const bh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},KE={nullValue:"NULL_VALUE"};function Eh(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?WE(n)?4:uP(n)?9007199254740991:10:_t()}function Ol(n,e){if(n===e)return!0;const t=Eh(n);if(t!==Eh(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return P_(n).isEqual(P_(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=_h(r.timestampValue),c=_h(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Wc(n.bytesValue).isEqual(Wc(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return ri(r.geoPointValue.latitude)===ri(i.geoPointValue.latitude)&&ri(r.geoPointValue.longitude)===ri(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ri(r.integerValue)===ri(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=ri(r.doubleValue),c=ri(i.doubleValue);return u===c?M_(u)===M_(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Xg(n.arrayValue.values||[],e.arrayValue.values||[],Ol);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(tP(u)!==tP(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!Ol(u[g],c[g])))return!1;return!0}(n,e);default:return _t()}var i}function R_(n,e){return void 0!==(n.values||[]).find(t=>Ol(t,e))}function Ih(n,e){if(n===e)return 0;const t=Eh(n),r=Eh(e);if(t!==r)return un(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return un(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=ri(i.integerValue||i.doubleValue),g=ri(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return sP(n.timestampValue,e.timestampValue);case 4:return sP(P_(n),P_(e));case 5:return un(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Wc(i),g=Wc(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),g=u.split("/");for(let _=0;_<c.length&&_<g.length;_++){const S=un(c[_],g[_]);if(0!==S)return S}return un(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=un(ri(i.latitude),ri(u.latitude));return 0!==c?c:un(ri(i.longitude),ri(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],g=u.values||[];for(let _=0;_<c.length&&_<g.length;++_){const S=Ih(c[_],g[_]);if(S)return S}return un(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===bh.mapValue&&u===bh.mapValue)return 0;if(i===bh.mapValue)return 1;if(u===bh.mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=u.fields||{},S=Object.keys(_);g.sort(),S.sort();for(let A=0;A<g.length&&A<S.length;++A){const F=un(g[A],S[A]);if(0!==F)return F;const Z=Ih(c[g[A]],_[S[A]]);if(0!==Z)return Z}return un(g.length,S.length)}(n.mapValue,e.mapValue);default:throw _t()}}function sP(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return un(n,e);const t=_h(n),r=_h(e),i=un(t.seconds,r.seconds);return 0!==i?i:un(t.nanos,r.nanos)}function tm(n){return _S(n)}function _S(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_h(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Wc(n.bytesValue).toBase64():"referenceValue"in n?lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=_S(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of i)c?c=!1:u+=",",u+=`${g}:${_S(r.fields[g])}`;return u+"}"}(n.mapValue):_t();var e}function cp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function wS(n){return!!n&&"integerValue"in n}function N_(n){return!!n&&"arrayValue"in n}function oP(n){return!!n&&"nullValue"in n}function aP(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function QE(n){return!!n&&"mapValue"in n}function k_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return vh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=k_(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=k_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function uP(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function MO(n){return"nullValue"in n?KE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?cp(wh.empty(),lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:_t()}function PO(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?cp(wh.empty(),lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?bh:_t()}function lP(n,e){const t=Ih(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function cP(n,e){const t=Ih(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class hs{constructor(e){this.value=e}static empty(){return new hs({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!QE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=k_(t)}setAll(e){let t=ni.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=k_(c):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());QE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ol(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];QE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){vh(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new hs(k_(this.value))}}function dP(n){const e=[];return vh(n.fields,(t,r)=>{const i=new ni([t]);if(QE(r)){const u=dP(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Mo(e)}class xr{constructor(e,t,r,i,u,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new xr(e,0,Nt.min(),Nt.min(),Nt.min(),hs.empty(),0)}static newFoundDocument(e,t,r,i){return new xr(e,1,t,Nt.min(),r,i,0)}static newNoDocument(e,t){return new xr(e,2,t,Nt.min(),Nt.min(),hs.empty(),0)}static newUnknownDocument(e,t){return new xr(e,3,t,Nt.min(),Nt.min(),hs.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Nt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hs.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hs.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof xr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ch{constructor(e,t){this.position=e,this.inclusive=t}}function hP(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?lt.comparator(lt.fromName(c.referenceValue),t.key):Ih(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function fP(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ol(n.position[t],e.position[t]))return!1;return!0}class nm{constructor(e,t="asc"){this.field=e,this.dir=t}}function RO(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class pP{}class Cn extends pP{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new NO(e,t,r):"array-contains"===t?new FO(e,r):"in"===t?new wP(e,r):"not-in"===t?new LO(e,r):"array-contains-any"===t?new VO(e,r):new Cn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new kO(e,r):new OO(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ih(t,this.value)):null!==t&&Eh(this.value)===Eh(t)&&this.matchesComparison(Ih(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _t()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class nr extends pP{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new nr(e,t)}matches(e){return rm(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function rm(n){return"and"===n.op}function bS(n){return"or"===n.op}function ES(n){return gP(n)&&rm(n)}function gP(n){for(const e of n.filters)if(e instanceof nr)return!1;return!0}function IS(n){if(n instanceof Cn)return n.field.canonicalString()+n.op.toString()+tm(n.value);if(ES(n))return n.filters.map(e=>IS(e)).join(",");{const e=n.filters.map(t=>IS(t)).join(",");return`${n.op}(${e})`}}function mP(n,e){return n instanceof Cn?(t=n,(r=e)instanceof Cn&&t.op===r.op&&t.field.isEqual(r.field)&&Ol(t.value,r.value)):n instanceof nr?function(t,r){return r instanceof nr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&mP(u,r.filters[c]),!0)}(n,e):void _t();var t,r}function yP(n,e){const t=n.filters.concat(e);return nr.create(t,n.op)}function vP(n){return n instanceof Cn?`${(e=n).field.canonicalString()} ${e.op} ${tm(e.value)}`:n instanceof nr?function(e){return e.op.toString()+" {"+e.getFilters().map(vP).join(" ,")+"}"}(n):"Filter";var e}class NO extends Cn{constructor(e,t,r){super(e,t,r),this.key=lt.fromName(r.referenceValue)}matches(e){const t=lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class kO extends Cn{constructor(e,t){super(e,"in",t),this.keys=_P(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class OO extends Cn{constructor(e,t){super(e,"not-in",t),this.keys=_P(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function _P(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>lt.fromName(r.referenceValue))}class FO extends Cn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return N_(t)&&R_(t.arrayValue,this.value)}}class wP extends Cn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&R_(this.value.arrayValue,t)}}class LO extends Cn{constructor(e,t){super(e,"not-in",t)}matches(e){if(R_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!R_(this.value.arrayValue,t)}}class VO extends Cn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!N_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>R_(this.value.arrayValue,r))}}class UO{constructor(e,t=null,r=[],i=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=g,this.dt=null}}function CS(n,e=null,t=[],r=[],i=null,u=null,c=null){return new UO(n,e,t,r,i,u,c)}function dp(n){const e=dt(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>IS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),x_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tm(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tm(r)).join(",")),e.dt=t}return e.dt}function O_(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!RO(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!mP(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!fP(n.startAt,e.startAt)&&fP(n.endAt,e.endAt)}function JE(n){return lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function XE(n,e){return n.filters.filter(t=>t instanceof Cn&&t.field.isEqual(e))}function bP(n,e,t){let r=KE,i=!0;for(const u of XE(n,e)){let c=KE,g=!0;switch(u.op){case"<":case"<=":c=MO(u.value);break;case"==":case"in":case">=":c=u.value;break;case">":c=u.value,g=!1;break;case"!=":case"not-in":c=KE}lP({value:r,inclusive:i},{value:c,inclusive:g})<0&&(r=c,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];lP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function EP(n,e,t){let r=bh,i=!0;for(const u of XE(n,e)){let c=bh,g=!0;switch(u.op){case">=":case">":c=PO(u.value),g=!1;break;case"==":case"in":case"<=":c=u.value;break;case"<":c=u.value,g=!1;break;case"!=":case"not-in":c=bh}cP({value:r,inclusive:i},{value:c,inclusive:g})>0&&(r=c,i=g)}if(null!==t)for(let u=0;u<n.orderBy.length;++u)if(n.orderBy[u].field.isEqual(e)){const c=t.position[u];cP({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class Zc{constructor(e,t=null,r=[],i=[],u=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=_,this.wt=null,this._t=null}}function IP(n,e,t,r,i,u,c,g){return new Zc(n,e,t,r,i,u,c,g)}function im(n){return new Zc(n)}function CP(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function DS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function eI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function TS(n){return null!==n.collectionGroup}function hp(n){const e=dt(n);if(null===e.wt){e.wt=[];const t=eI(e),r=DS(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new nm(t)),e.wt.push(new nm(ni.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new nm(ni.keyField(),u))}}}return e.wt}function Qs(n){const e=dt(n);if(!e._t)if("F"===e.limitType)e._t=CS(e.path,e.collectionGroup,hp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of hp(e))t.push(new nm(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Ch(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ch(e.startAt.position,e.startAt.inclusive):null;e._t=CS(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function SS(n,e){e.getFirstInequalityField(),eI(n);const t=n.filters.concat([e]);return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function tI(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function F_(n,e){return O_(Qs(n),Qs(e))&&n.limitType===e.limitType}function DP(n){return`${dp(Qs(n))}|lt:${n.limitType}`}function AS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>vP(r)).join(", ")}]`),x_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>tm(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>tm(r)).join(",")),`Target(${t})`}(Qs(n))}; limitType=${n.limitType})`}function L_(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):lt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of hp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const g=hP(i,u,c);return i.inclusive?g<=0:g<0}(t.startAt,hp(t),r)||t.endAt&&!function(i,u,c){const g=hP(i,u,c);return i.inclusive?g>=0:g>0}(t.endAt,hp(t),r)));var t,r}function TP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SP(n){return(e,t)=>{let r=!1;for(const i of hp(n)){const u=BO(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function BO(n,e,t){const r=n.field.isKeyField()?lt.comparator(e.key,t.key):function(i,u,c){const g=u.data.field(i),_=c.data.field(i);return null!==g&&null!==_?Ih(g,_):_t()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return _t()}}class Kc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vh(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return nP(this.inner)}size(){return this.innerSize}}const $O=new gr(lt.comparator);function Po(){return $O}const AP=new gr(lt.comparator);function V_(...n){let e=AP;for(const t of n)e=e.insert(t.key,t);return e}function xP(n){let e=AP;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fl(){return U_()}function MP(){return U_()}function U_(){return new Kc(n=>n.toString(),(n,e)=>n.isEqual(e))}const jO=new gr(lt.comparator),HO=new Ar(lt.comparator);function pn(...n){let e=HO;for(const t of n)e=e.add(t);return e}const zO=new Ar(un);function xS(){return zO}function PP(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:M_(e)?"-0":e}}function RP(n){return{integerValue:""+n}}function NP(n,e){return ZM(e)?RP(e):PP(n,e)}class nI{constructor(){this._=void 0}}function GO(n,e,t){return n instanceof sm?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&WE(i)&&(i=ZE(i)),i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof fp?OP(n,e):n instanceof pp?FP(n,e):function(r,i){const u=kP(r,i),c=LP(u)+LP(r.gt);return wS(u)&&wS(r.gt)?RP(c):PP(r.serializer,c)}(n,e)}function qO(n,e,t){return n instanceof fp?OP(n,e):n instanceof pp?FP(n,e):t}function kP(n,e){return n instanceof om?wS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class sm extends nI{}class fp extends nI{constructor(e){super(),this.elements=e}}function OP(n,e){const t=VP(e);for(const r of n.elements)t.some(i=>Ol(i,r))||t.push(r);return{arrayValue:{values:t}}}class pp extends nI{constructor(e){super(),this.elements=e}}function FP(n,e){let t=VP(e);for(const r of n.elements)t=t.filter(i=>!Ol(i,r));return{arrayValue:{values:t}}}class om extends nI{constructor(e,t){super(),this.serializer=e,this.gt=t}}function LP(n){return ri(n.integerValue||n.doubleValue)}function VP(n){return N_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class B_{constructor(e,t){this.field=e,this.transform=t}}class ZO{constructor(e,t){this.version=e,this.transformResults=t}}class Hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Hr}static exists(e){return new Hr(void 0,e)}static updateTime(e){return new Hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iI{}function UP(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new um(n.key,Hr.none()):new am(n.key,n.data,Hr.none());{const t=n.data,r=hs.empty();let i=new Ar(ni.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Yc(n.key,r,new Mo(i.toArray()),Hr.none())}}function KO(n,e,t){n instanceof am?function(r,i,u){const c=r.value.clone(),g=jP(r.fieldTransforms,i,u.transformResults);c.setAll(g),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Yc?function(r,i,u){if(!rI(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=jP(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll($P(r)),g.setAll(c),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function $_(n,e,t,r){return n instanceof am?function(i,u,c,g){if(!rI(i.precondition,u))return c;const _=i.value.clone(),S=HP(i.fieldTransforms,g,u);return _.setAll(S),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yc?function(i,u,c,g){if(!rI(i.precondition,u))return c;const _=HP(i.fieldTransforms,g,u),S=u.data;return S.setAll($P(i)),S.setAll(_),u.convertToFoundDocument(u.version,S).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,rI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function YO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=kP(r.transform,i||null);null!=u&&(null===t&&(t=hs.empty()),t.set(r.field,u))}return t||null}function BP(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Xg(t,r,(i,u)=>function WO(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof fp&&r instanceof fp||t instanceof pp&&r instanceof pp?Xg(t.elements,r.elements,Ol):t instanceof om&&r instanceof om?Ol(t.gt,r.gt):t instanceof sm&&r instanceof sm);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class am extends iI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yc extends iI{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $P(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function jP(n,e,t){const r=new Map;Mt(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,g=e.data.field(u.field);r.set(u.field,qO(c,g,t[i]))}return r}function HP(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,GO(u,c,e))}return r}class um extends iI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MS extends iI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class PS{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&KO(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$_(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$_(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=MP();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(i.key)?null:g;const _=UP(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Nt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Xg(this.mutations,e.mutations,(t,r)=>BP(t,r))&&Xg(this.baseMutations,e.baseMutations,(t,r)=>BP(t,r))}}class RS{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Mt(e.mutations.length===r.length);let i=jO;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new RS(e,t,r,i)}}class NS{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class JO{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ii,Rn;function zP(n){switch(n){default:return _t();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function GP(n){if(void 0===n)return li("GRPC error has no .code"),ge.UNKNOWN;switch(n){case Ii.OK:return ge.OK;case Ii.CANCELLED:return ge.CANCELLED;case Ii.UNKNOWN:return ge.UNKNOWN;case Ii.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case Ii.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case Ii.INTERNAL:return ge.INTERNAL;case Ii.UNAVAILABLE:return ge.UNAVAILABLE;case Ii.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case Ii.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case Ii.NOT_FOUND:return ge.NOT_FOUND;case Ii.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case Ii.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case Ii.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case Ii.ABORTED:return ge.ABORTED;case Ii.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case Ii.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case Ii.DATA_LOSS:return ge.DATA_LOSS;default:return _t()}}(Rn=Ii||(Ii={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class kS{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return sI}static getOrCreateInstance(){return null===sI&&(sI=new kS),sI}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let sI=null;function qP(){return new TextEncoder}const XO=new Qg([4294967295,4294967295],0);function WP(n){const e=qP().encode(n),t=new qk;return t.update(e),new Uint8Array(t.digest())}function ZP(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Qg([t,r],0),new Qg([i,u],0)]}class OS{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new j_(`Invalid padding: ${t}`);if(r<0)throw new j_(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new j_(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new j_(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Qg.fromNumber(this.It)}Et(e,t,r){let i=e.add(t.multiply(Qg.fromNumber(r)));return 1===i.compare(XO)&&(i=new Qg([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=WP(e),[r,i]=ZP(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new OS(u,i,t);return r.forEach(g=>c.insert(g)),c}insert(e){if(0===this.It)return;const t=WP(e),[r,i]=ZP(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,i,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class j_ extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class H_{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,z_.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new H_(Nt.min(),i,new gr(un),Po(),pn())}}class z_{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new z_(r,t,pn(),pn(),pn())}}class oI{constructor(e,t,r,i){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=i}}class KP{constructor(e,t){this.targetId=e,this.Vt=t}}class YP{constructor(e,t,r=Ui.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class QP{constructor(){this.St=0,this.Dt=XP(),this.Ct=Ui.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=pn(),t=pn(),r=pn();return this.Dt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:_t()}}),new z_(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=XP()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class eF{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Po(),this.zt=JP(),this.Wt=new gr(un)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:_t()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,i)=>{this.te(i)&&t(i)})}ne(e){var t;const r=e.targetId,i=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(JE(c))if(0===i){const g=new lt(c.path);this.Yt(r,g,xr.newNoDocument(g,Nt.min()))}else Mt(1===i);else{const g=this.ie(r);if(g!==i){const _=this.re(e,g);0!==_&&(this.ee(r),this.Wt=this.Wt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=kS.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(S,A,F){var Z,ne,de,Ue,je,ft;const kt={localCacheCount:A,existenceFilterCount:F.count},Pt=F.unchangedNames;return Pt&&(kt.bloomFilter={applied:0===S,hashCount:null!==(Z=Pt?.hashCount)&&void 0!==Z?Z:0,bitmapLength:null!==(Ue=null===(de=null===(ne=Pt?.bits)||void 0===ne?void 0:ne.bitmap)||void 0===de?void 0:de.length)&&void 0!==Ue?Ue:0,padding:null!==(ft=null===(je=Pt?.bits)||void 0===je?void 0:je.padding)&&void 0!==ft?ft:0}),kt}(_,g,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:g=0}=r;let _,S;try{_=Wc(u).toUint8Array()}catch(A){if(A instanceof iP)return Ka("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{S=new OS(_,c,g)}catch(A){return Ka(A instanceof j_?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===S.It?1:i!==t-this.oe(e.targetId,S)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(u=>{const c=this.Gt.ue(),g=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(g)||(this.Yt(e,u,null),i++)}),i}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const g=this.se(c);if(g){if(u.current&&JE(g.target)){const _=new lt(g.target.path);null!==this.jt.get(_)||this.ae(c,_)||this.Yt(c,_,xr.newNoDocument(_,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=pn();this.zt.forEach((u,c)=>{let g=!0;c.forEachWhile(_=>{const S=this.se(_);return!S||"TargetPurposeLimboResolution"===S.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const i=new H_(e,t,this.Wt,this.jt,r);return this.jt=Po(),this.zt=JP(),this.Wt=new gr(un),i}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,t)?i.Bt(t,1):i.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new QP,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Ar(un),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new QP),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function JP(){return new gr(lt.comparator)}function XP(){return new gr(lt.comparator)}const tF={asc:"ASCENDING",desc:"DESCENDING"},nF={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rF={and:"AND",or:"OR"};class iF{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function FS(n,e){return n.useProto3Json||x_(e)?e:{value:e}}function lm(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function sF(n,e){return lm(n,e.toTimestamp())}function ci(n){return Mt(!!n),Nt.fromTimestamp(function(e){const t=_h(e);return new jr(t.seconds,t.nanos)}(n))}function LS(n,e){return(t=n,new Pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function tR(n){const e=Pn.fromString(n);return Mt(cR(e)),e}function G_(n,e){return LS(n.databaseId,e.path)}function Ll(n,e){const t=tR(e);if(t.get(1)!==n.databaseId.projectId)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Fe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new lt(rR(t))}function VS(n,e){return LS(n.databaseId,e)}function nR(n){const e=tR(n);return 4===e.length?Pn.emptyPath():rR(e)}function q_(n){return new Pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rR(n){return Mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iR(n,e,t){return{name:G_(n,e),fields:t.value.mapValue.fields}}function sR(n,e,t){const r=Ll(n,e.name),i=ci(e.updateTime),u=e.createTime?ci(e.createTime):Nt.min(),c=new hs({mapValue:{fields:e.fields}}),g=xr.newFoundDocument(r,i,u,c);return t&&g.setHasCommittedMutations(),t?g.setHasCommittedMutations():g}function W_(n,e){let t;if(e instanceof am)t={update:iR(n,e.key,e.value)};else if(e instanceof um)t={delete:G_(n,e.key)};else if(e instanceof Yc)t={update:iR(n,e.key,e.data),updateMask:fF(e.fieldMask)};else{if(!(e instanceof MS))return _t();t={verify:G_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof sm)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof fp)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof pp)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof om)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw _t()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:sF(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:_t()),t;var i}function US(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Hr.updateTime(ci(i.updateTime)):void 0!==i.exists?Hr.exists(i.exists):Hr.none():Hr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(u,c){let g=null;"setToServerValue"in c?(Mt("REQUEST_TIME"===c.setToServerValue),g=new sm):"appendMissingElements"in c?g=new fp(c.appendMissingElements.values||[]):"removeAllFromArray"in c?g=new pp(c.removeAllFromArray.values||[]):"increment"in c?g=new om(u,c.increment):_t();const _=ni.fromServerFormat(c.fieldPath);return new B_(_,g)}(n,i)):[];var i;if(e.update){const i=Ll(n,e.update.name),u=new hs({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new Mo((e.updateMask.fieldPaths||[]).map(S=>ni.fromServerFormat(S)));return new Yc(i,u,c,t,r)}return new am(i,u,t,r)}if(e.delete){const i=Ll(n,e.delete);return new um(i,t)}if(e.verify){const i=Ll(n,e.verify);return new MS(i,t)}return _t()}function oR(n,e){return{documents:[VS(n,e.path)]}}function BS(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=VS(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=VS(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return lR(nr.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(S=>{return{field:Dh((A=S).field),direction:cF(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=FS(n,e.limit);var g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function aR(n){let e=nR(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Mt(1===r);const A=t.from[0];A.allDescendants?i=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const F=uR(A);return F instanceof nr&&ES(F)?F.getFilters():[F]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new nm(cm((F=A).field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction));var F}));let g=null;t.limit&&(g=function(A){let F;return F="object"==typeof A?A.value:A,x_(F)?null:F}(t.limit));let _=null;var A;t.startAt&&(_=new Ch((A=t.startAt).values||[],!!A.before));let S=null;return t.endAt&&(S=function(A){return new Ch(A.values||[],!A.before)}(t.endAt)),IP(e,i,c,u,g,"F",_,S)}function uR(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=cm(e.unaryFilter.field);return Cn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=cm(e.unaryFilter.field);return Cn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=cm(e.unaryFilter.field);return Cn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=cm(e.unaryFilter.field);return Cn.create(u,"!=",{nullValue:"NULL_VALUE"});default:return _t()}}(n):void 0!==n.fieldFilter?Cn.create(cm((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _t()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return nr.create(e.compositeFilter.filters.map(t=>uR(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return _t()}}(e.compositeFilter.op))}(n):_t();var e}function cF(n){return tF[n]}function dF(n){return nF[n]}function hF(n){return rF[n]}function Dh(n){return{fieldPath:n.canonicalString()}}function cm(n){return ni.fromServerFormat(n.fieldPath)}function lR(n){return n instanceof Cn?function(e){if("=="===e.op){if(aP(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NAN"}};if(oP(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(aP(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NOT_NAN"}};if(oP(e.value))return{unaryFilter:{field:Dh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dh(e.field),op:dF(e.op),value:e.value}}}(n):n instanceof nr?function(e){const t=e.getFilters().map(r=>lR(r));return 1===t.length?t[0]:{compositeFilter:{op:hF(e.op),filters:t}}}(n):_t()}function fF(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function cR(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Qc{constructor(e,t,r,i,u=Nt.min(),c=Nt.min(),g=Ui.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new Qc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class dR{constructor(e){this.fe=e}}function hR(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:aI(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:G_(i=n.fe,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:lm(i,u.version.toTimestamp()),createTime:lm(i,u.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:gp(e.version)};else{if(!e.isUnknownDocument())return _t();r.unknownDocument={path:t.path.toArray(),version:gp(e.version)}}var i,u;return r}function aI(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function gp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function mp(n){const e=new jr(n.seconds,n.nanoseconds);return Nt.fromTimestamp(e)}function yp(n,e){const t=(e.baseMutations||[]).map(u=>US(n.fe,u));for(let u=0;u<e.mutations.length-1;++u)u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(e.mutations[u].updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u);const r=e.mutations.map(u=>US(n.fe,u)),i=jr.fromMillis(e.localWriteTimeMs);return new PS(e.batchId,i,t,r)}function Z_(n){const e=mp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?mp(n.lastLimboFreeSnapshotVersion):Nt.min();let r;var i;return void 0!==n.query.documents?(Mt(1===(i=n.query).documents.length),r=Qs(im(nR(i.documents[0])))):r=Qs(aR(n.query)),new Qc(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Ui.fromBase64String(n.resumeToken))}function fR(n,e){const t=gp(e.snapshotVersion),r=gp(e.lastLimboFreeSnapshotVersion);let i;i=JE(e.target)?oR(n.fe,e.target):BS(n.fe,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:dp(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function $S(n){const e=aR({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tI(e,e.limit,"L"):e}function jS(n,e){return new NS(e.largestBatchId,US(n.fe,e.overlayMutation))}function pR(n,e){const t=e.path.lastSegment();return[n,Ms(e.path.popLast()),t]}function gR(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:gp(r.readTime),documentKey:Ms(r.documentKey.path),largestBatchId:r.largestBatchId}}class gF{getBundleMetadata(e,t){return mR(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:mp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return mR(e).put({bundleId:(r=t).id,createTime:gp(ci(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return yR(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:$S(i.bundledQuery),readTime:mp(i.readTime)};var i})}saveNamedQuery(e,t){return yR(e).put({name:(r=t).name,readTime:gp(ci(r.readTime)),bundledQuery:r.bundledQuery});var r}}function mR(n){return Yi(n,"bundles")}function yR(n){return Yi(n,"namedQueries")}class uI{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new uI(e,t.uid||"")}getOverlay(e,t){return K_(e).get(pR(this.userId,t)).next(r=>r?jS(this.serializer,r):null)}getOverlays(e,t){const r=Fl();return ue.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((u,c)=>{const g=new NS(t,c);i.push(this.we(e,g))}),ue.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(Ms(c.getCollectionPath())));const u=[];return i.forEach(c=>{const g=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);u.push(K_(e).J("collectionPathOverlayIndex",g))}),ue.waitFor(u)}getOverlaysForCollection(e,t,r){const i=Fl(),u=Ms(t),c=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return K_(e).j("collectionPathOverlayIndex",c).next(g=>{for(const _ of g){const S=jS(this.serializer,_);i.set(S.getKey(),S)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const u=Fl();let c;const g=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return K_(e).X({index:"collectionGroupOverlayIndex",range:g},(_,S,A)=>{const F=jS(this.serializer,S);u.size()<i||F.largestBatchId===c?(u.set(F.getKey(),F),c=F.largestBatchId):A.done()}).next(()=>u)}we(e,t){return K_(e).put(function(r,i,u){const[c,g,_]=pR(i,u.mutation.key);return{userId:i,collectionPath:g,documentId:_,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:W_(r.fe,u.mutation)}}(this.serializer,this.userId,t))}}function K_(n){return Yi(n,"documentOverlays")}class vp{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ri(e.integerValue));else if("doubleValue"in e){const r=ri(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),M_(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Wc(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?uP(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):_t()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),lt.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function mF(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function vR(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const u=mF(255&t[i]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}vp.Ve=new vp;class yF{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.De(r.value),r=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ne(r.value),r=t.next();this.ke()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.De(r);else if(r<2048)this.De(960|r>>>6),this.De(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.De(480|r>>>12),this.De(128|63&r>>>6),this.De(128|63&r);else{const i=t.codePointAt(0);this.De(240|i>>>18),this.De(128|63&i>>>12),this.De(128|63&i>>>6),this.De(128|63&i)}}this.Ce()}$e(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ne(r);else if(r<2048)this.Ne(960|r>>>6),this.Ne(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r);else{const i=t.codePointAt(0);this.Ne(240|i>>>18),this.Ne(128|63&i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i)}}this.ke()}Oe(e){const t=this.Fe(e),r=vR(t);this.Be(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Le(e){const t=this.Fe(e),r=vR(t);this.Be(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(i){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,i,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class vF{constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class _F{constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class Y_{constructor(){this.je=new yF,this.ze=new vF(this.je),this.We=new _F(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class _p{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new _p(this.indexId,this.documentKey,this.arrayValue,r)}}function Th(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=_R(n.arrayValue,e.arrayValue),0!==t?t:(t=_R(n.directionalValue,e.directionalValue),0!==t?t:lt.comparator(n.documentKey,e.documentKey)))}function _R(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class wF{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const r=t;r.isInequality()?this.Ze=r:this.Xe.push(r)}}tn(e){Mt(e.collectionGroup===this.collectionId);const t=pS(e);if(void 0!==t&&!this.en(t))return!1;const r=up(e);let i=0,u=0;for(;i<r.length&&this.en(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Ze){const c=r[i];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[u++],c))return!1;++i}for(;i<r.length;++i)if(u>=this.Ye.length||!this.sn(this.Ye[u++],r[i]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function wR(n){var e,t;if(Mt(n instanceof Cn||n instanceof nr),n instanceof Cn){if(n instanceof wP){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(u=>Cn.create(n.field,"==",u)))||[];return nr.create(i,"or")}return n}const r=n.filters.map(i=>wR(i));return nr.create(r,n.op)}function bF(n){if(0===n.getFilters().length)return[];const e=GS(wR(n));return Mt(bR(e)),HS(e)||zS(e)?[e]:e.getFilters()}function HS(n){return n instanceof Cn}function zS(n){return n instanceof nr&&ES(n)}function bR(n){return HS(n)||zS(n)||function(e){if(e instanceof nr&&bS(e)){for(const t of e.getFilters())if(!HS(t)&&!zS(t))return!1;return!0}return!1}(n)}function GS(n){if(Mt(n instanceof Cn||n instanceof nr),n instanceof Cn)return n;if(1===n.filters.length)return GS(n.filters[0]);const e=n.filters.map(r=>GS(r));let t=nr.create(e,n.op);return t=lI(t),bR(t)?t:(Mt(t instanceof nr),Mt(rm(t)),Mt(t.filters.length>1),t.filters.reduce((r,i)=>qS(r,i)))}function qS(n,e){let t;return Mt(n instanceof Cn||n instanceof nr),Mt(e instanceof Cn||e instanceof nr),t=n instanceof Cn?e instanceof Cn?nr.create([n,e],"and"):ER(n,e):e instanceof Cn?ER(e,n):function(r,i){if(Mt(r.filters.length>0&&i.filters.length>0),rm(r)&&rm(i))return yP(r,i.getFilters());const u=bS(r)?r:i,c=bS(r)?i:r,g=u.filters.map(_=>qS(_,c));return nr.create(g,"or")}(n,e),lI(t)}function ER(n,e){if(rm(e))return yP(e,n.getFilters());{const t=e.filters.map(r=>qS(n,r));return nr.create(t,"or")}}function lI(n){if(Mt(n instanceof Cn||n instanceof nr),n instanceof Cn)return n;const e=n.getFilters();if(1===e.length)return lI(e[0]);if(gP(n))return n;const t=e.map(i=>lI(i)),r=[];return t.forEach(i=>{i instanceof Cn?r.push(i):i instanceof nr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:nr.create(r,n.op)}class EF{constructor(){this.rn=new WS}addToCollectionParentIndex(e,t){return this.rn.add(t),ue.resolve()}getCollectionParents(e,t){return ue.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ue.resolve()}deleteFieldIndex(e,t){return ue.resolve()}getDocumentsMatchingTarget(e,t){return ue.resolve(null)}getIndexType(e,t){return ue.resolve(0)}getFieldIndexes(e,t){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,t){return ue.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,t){return ue.resolve(aa.min())}updateCollectionGroup(e,t,r){return ue.resolve()}updateIndexEntries(e,t){return ue.resolve()}}class WS{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ar(Pn.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ar(Pn.comparator)).toArray()}}const cI=new Uint8Array(0);class IF{constructor(e,t){this.user=e,this.databaseId=t,this.on=new WS,this.un=new Kc(r=>dp(r),(r,i)=>O_(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const u={collectionId:r,parent:Ms(i)};return IR(e).put(u)}return ue.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[jM(t),""],!1,!0);return IR(e).j(i).next(u=>{for(const c of u){if(c.collectionId!==t)break;r.push(kl(c.parent))}return r})}addFieldIndex(e,t){const r=dI(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(g=>[g.fieldPath.canonicalString(),g.kind])};var c;delete i.indexId;const u=r.add(i);if(t.indexState){const c=J_(e);return u.next(g=>{c.put(gR(g,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return u.next()}deleteFieldIndex(e,t){const r=dI(e),i=J_(e),u=Q_(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Q_(e);let i=!0;const u=new Map;return ue.forEach(this.cn(t),c=>this.an(e,c).next(g=>{i&&(i=!!g),u.set(c,g)})).next(()=>{if(i){let c=pn();const g=[];return ue.forEach(u,(_,S)=>{var A;Ge("IndexedDbIndexManager",`Using index ${A=_,`id=${A.indexId}|cg=${A.collectionGroup}|f=${A.fields.map(Pt=>`${Pt.fieldPath}:${Pt.kind}`).join(",")}`} to execute ${dp(t)}`);const F=function(Pt,qt){const fn=pS(qt);if(void 0===fn)return null;for(const An of XE(Pt,fn.fieldPath))switch(An.op){case"array-contains-any":return An.value.arrayValue.values||[];case"array-contains":return[An.value]}return null}(S,_),Z=function(Pt,qt){const fn=new Map;for(const An of up(qt))for(const Ns of XE(Pt,An.fieldPath))switch(Ns.op){case"==":case"in":fn.set(An.fieldPath.canonicalString(),Ns.value);break;case"not-in":case"!=":return fn.set(An.fieldPath.canonicalString(),Ns.value),Array.from(fn.values())}return null}(S,_),ne=function(Pt,qt){const fn=[];let An=!0;for(const Ns of up(qt)){const xp=0===Ns.kind?bP(Pt,Ns.fieldPath,Pt.startAt):EP(Pt,Ns.fieldPath,Pt.startAt);fn.push(xp.value),An&&(An=xp.inclusive)}return new Ch(fn,An)}(S,_),de=function(Pt,qt){const fn=[];let An=!0;for(const Ns of up(qt)){const xp=0===Ns.kind?EP(Pt,Ns.fieldPath,Pt.endAt):bP(Pt,Ns.fieldPath,Pt.endAt);fn.push(xp.value),An&&(An=xp.inclusive)}return new Ch(fn,An)}(S,_),Ue=this.hn(_,S,ne),je=this.hn(_,S,de),ft=this.ln(_,S,Z),kt=this.fn(_.indexId,F,Ue,ne.inclusive,je,de.inclusive,ft);return ue.forEach(kt,Pt=>r.H(Pt,t.limit).next(qt=>{qt.forEach(fn=>{const An=lt.fromSegments(fn.documentKey);c.has(An)||(c=c.add(An),g.push(An))})}))}).next(()=>g)}return ue.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:bF(nr.create(e.filters,"and")).map(r=>CS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,r,i,u,c,g){const _=(null!=t?t.length:1)*Math.max(r.length,u.length),S=_/(null!=t?t.length:1),A=[];for(let F=0;F<_;++F){const Z=t?this.dn(t[F/S]):cI,ne=this.wn(e,Z,r[F%S],i),de=this._n(e,Z,u[F%S],c),Ue=g.map(je=>this.wn(e,Z,je,!0));A.push(...this.createRange(ne,de,Ue))}return A}wn(e,t,r,i){const u=new _p(e,lt.empty(),t,r);return i?u:u.Je()}_n(e,t,r,i){const u=new _p(e,lt.empty(),t,r);return i?u.Je():u}an(e,t){const r=new wF(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(u=>{let c=null;for(const g of u)r.tn(g)&&(!c||g.fields.length>c.fields.length)&&(c=g);return c})}getIndexType(e,t){let r=2;const i=this.cn(t);return ue.forEach(i,u=>this.an(e,u).next(c=>{c?0!==r&&c.fields.length<function(g){let _=new Ar(ni.comparator),S=!1;for(const A of g.filters)for(const F of A.getFlattenedFilters())F.field.isKeyField()||("array-contains"===F.op||"array-contains-any"===F.op?S=!0:_=_.add(F.field));for(const A of g.orderBy)A.field.isKeyField()||(_=_.add(A.field));return _.size+(S?1:0)}(u)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}mn(e,t){const r=new Y_;for(const i of up(e)){const u=t.data.field(i.fieldPath);if(null==u)return null;const c=r.He(i.kind);vp.Ve._e(u,c)}return r.Qe()}dn(e){const t=new Y_;return vp.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const r=new Y_;return vp.Ve._e(cp(this.databaseId,t),r.He(function(i){const u=up(i);return 0===u.length?0:u[u.length-1].kind}(e))),r.Qe()}ln(e,t,r){if(null===r)return[];let i=[];i.push(new Y_);let u=0;for(const c of up(e)){const g=r[u++];for(const _ of i)if(this.yn(t,c.fieldPath)&&N_(g))i=this.pn(i,c,g);else{const S=_.He(c.kind);vp.Ve._e(g,S)}}return this.In(i)}hn(e,t,r){return this.ln(e,t,r.position)}In(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Qe();return t}pn(e,t,r){const i=[...e],u=[];for(const c of r.arrayValue.values||[])for(const g of i){const _=new Y_;_.seed(g.Qe()),vp.Ve._e(c,_.He(t.kind)),u.push(_)}return u}yn(e,t){return!!e.filters.find(r=>r instanceof Cn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=dI(e),i=J_(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(u=>{const c=[];return ue.forEach(u,g=>i.get([g.indexId,this.uid]).next(_=>{c.push(function(S,A){const F=A?new S_(A.sequenceNumber,new aa(mp(A.readTime),new lt(kl(A.documentKey)),A.largestBatchId)):S_.empty(),Z=S.fields.map(([ne,de])=>new HE(ni.fromServerFormat(ne),de));return new jE(S.indexId,S.collectionGroup,Z,F)}(g,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const u=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==u?u:un(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=dI(e),u=J_(e);return this.Tn(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(g=>ue.forEach(g,_=>u.put(gR(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return ue.forEach(t,(i,u)=>{const c=r.get(i.collectionGroup);return(c?ue.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(g=>(r.set(i.collectionGroup,g),ue.forEach(g,_=>this.En(e,i,_).next(S=>{const A=this.An(u,_);return S.isEqual(A)?ue.resolve():this.vn(e,u,_,S,A)}))))})}Rn(e,t,r,i){return Q_(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.gn(r,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,r,i){return Q_(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.gn(r,t.key),t.key.path.toArray()])}En(e,t,r){const i=Q_(e);let u=new Ar(Th);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.gn(r,t)])},(c,g)=>{u=u.add(new _p(r.indexId,t,g.arrayValue,g.directionalValue))}).next(()=>u)}An(e,t){let r=new Ar(Th);const i=this.mn(t,e);if(null==i)return r;const u=pS(t);if(null!=u){const c=e.data.field(u.fieldPath);if(N_(c))for(const g of c.arrayValue.values||[])r=r.add(new _p(t.indexId,e.key,this.dn(g),i))}else r=r.add(new _p(t.indexId,e.key,cI,i));return r}vn(e,t,r,i,u){Ge("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(g,_,S,A,F){const Z=g.getIterator(),ne=_.getIterator();let de=em(Z),Ue=em(ne);for(;de||Ue;){let je=!1,ft=!1;if(de&&Ue){const kt=S(de,Ue);kt<0?ft=!0:kt>0&&(je=!0)}else null!=de?ft=!0:je=!0;je?(A(Ue),Ue=em(ne)):ft?(F(de),de=em(Z)):(de=em(Z),Ue=em(ne))}}(i,u,Th,g=>{c.push(this.Rn(e,t,r,g))},g=>{c.push(this.Pn(e,t,r,g))}),ue.waitFor(c)}Tn(e){let t=1;return J_(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,u)=>{u.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,g)=>Th(c,g)).filter((c,g,_)=>!g||0!==Th(c,_[g-1]));const i=[];i.push(e);for(const c of r){const g=Th(c,e),_=Th(c,t);if(0===g)i[0]=e.Je();else if(g>0&&_<0)i.push(c),i.push(c.Je());else if(_>0)break}i.push(t);const u=[];for(let c=0;c<i.length;c+=2){if(this.bn(i[c],i[c+1]))return[];u.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,cI,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,cI,[]]))}return u}bn(e,t){return Th(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(CR)}getMinOffset(e,t){return ue.mapArray(this.cn(t),r=>this.an(e,r).next(i=>i||_t())).next(CR)}}function IR(n){return Yi(n,"collectionParents")}function Q_(n){return Yi(n,"indexEntries")}function dI(n){return Yi(n,"indexConfiguration")}function J_(n){return Yi(n,"indexState")}function CR(n){Mt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;gS(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new aa(e.readTime,e.documentKey,t)}const DR={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ps{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ps(e,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function TR(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),u=[],c=IDBKeyRange.only(t.batchId);let g=0;const _=r.X({range:c},(A,F,Z)=>(g++,Z.delete()));u.push(_.next(()=>{Mt(1===g)}));const S=[];for(const A of t.mutations){const F=QM(e,A.key.path,t.batchId);u.push(i.delete(F)),S.push(A.key)}return ue.waitFor(u).next(()=>S)}function hI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw _t();e=n.noDocument}return JSON.stringify(e).length}Ps.DEFAULT_COLLECTION_PERCENTILE=10,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ps.DEFAULT=new Ps(41943040,Ps.DEFAULT_COLLECTION_PERCENTILE,Ps.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ps.DISABLED=new Ps(-1,0,0);class fI{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.Vn={}}static de(e,t,r,i){Mt(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new fI(u,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sh(e).X({index:"userMutationsIndex",range:r},(i,u,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const u=dm(e),c=Sh(e);return c.add({}).next(g=>{Mt("number"==typeof g);const _=new PS(g,t,r,i),S=function(Z,ne,de){const Ue=de.baseMutations.map(ft=>W_(Z.fe,ft)),je=de.mutations.map(ft=>W_(Z.fe,ft));return{userId:ne,batchId:de.batchId,localWriteTimeMs:de.localWriteTime.toMillis(),baseMutations:Ue,mutations:je}}(this.serializer,this.userId,_),A=[];let F=new Ar((Z,ne)=>un(Z.canonicalString(),ne.canonicalString()));for(const Z of i){const ne=QM(this.userId,Z.key.path,g);F=F.add(Z.key.path.popLast()),A.push(c.put(S)),A.push(u.put(ne,cO))}return F.forEach(Z=>{A.push(this.indexManager.addToCollectionParentIndex(e,Z))}),e.addOnCommittedListener(()=>{this.Vn[g]=_.keys()}),ue.waitFor(A).next(()=>_)})}lookupMutationBatch(e,t){return Sh(e).get(t).next(r=>r?(Mt(r.userId===this.userId),yp(this.serializer,r)):null)}Sn(e,t){return this.Vn[t]?ue.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.Vn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return Sh(e).X({index:"userMutationsIndex",range:i},(c,g,_)=>{g.userId===this.userId&&(Mt(g.batchId>=r),u=yp(this.serializer,g)),_.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Sh(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,u,c)=>{r=u.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sh(e).j("userMutationsIndex",t).next(r=>r.map(i=>yp(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=GE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),u=[];return dm(e).X({range:i},(c,g,_)=>{const[S,A,F]=c,Z=kl(A);if(S===this.userId&&t.path.isEqual(Z))return Sh(e).get(F).next(ne=>{if(!ne)throw _t();Mt(ne.userId===this.userId),u.push(yp(this.serializer,ne))});_.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(un);const i=[];return t.forEach(u=>{const c=GE(this.userId,u.path),g=IDBKeyRange.lowerBound(c),_=dm(e).X({range:g},(S,A,F)=>{const[Z,ne,de]=S,Ue=kl(ne);Z===this.userId&&u.path.isEqual(Ue)?r=r.add(de):F.done()});i.push(_)}),ue.waitFor(i).next(()=>this.Dn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,u=GE(this.userId,r),c=IDBKeyRange.lowerBound(u);let g=new Ar(un);return dm(e).X({range:c},(_,S,A)=>{const[F,Z,ne]=_,de=kl(Z);F===this.userId&&r.isPrefixOf(de)?de.length===i&&(g=g.add(ne)):A.done()}).next(()=>this.Dn(e,g))}Dn(e,t){const r=[],i=[];return t.forEach(u=>{i.push(Sh(e).get(u).next(c=>{if(null===c)throw _t();Mt(c.userId===this.userId),r.push(yp(this.serializer,c))}))}),ue.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return TR(e.ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ue.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ue.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return dm(e).X({range:r},(u,c,g)=>{if(u[0]===this.userId){const _=kl(u[1]);i.push(_)}else g.done()}).next(()=>{Mt(0===i.length)})})}containsKey(e,t){return SR(e,this.userId,t)}xn(e){return AR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function SR(n,e,t){const r=GE(e,t.path),i=r[1],u=IDBKeyRange.lowerBound(r);let c=!1;return dm(n).X({range:u,Y:!0},(g,_,S)=>{const[A,F,Z]=g;A===e&&F===i&&(c=!0),S.done()}).next(()=>c)}function Sh(n){return Yi(n,"mutations")}function dm(n){return Yi(n,"documentMutations")}function AR(n){return Yi(n,"mutationQueues")}class wp{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new wp(0)}static Mn(){return new wp(-1)}}class CF{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const r=new wp(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>Nt.fromTimestamp(new jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.$n(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(r=>(r.targetCount+=1,this.Bn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>hm(e).delete(t.targetId)).next(()=>this.$n(e)).next(r=>(Mt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const u=[];return hm(e).X((c,g)=>{const _=Z_(g);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,u.push(this.removeTargetData(e,_)))}).next(()=>ue.waitFor(u)).next(()=>i)}forEachTarget(e,t){return hm(e).X((r,i)=>{const u=Z_(i);t(u)})}$n(e){return xR(e).get("targetGlobalKey").next(t=>(Mt(null!==t),t))}On(e,t){return xR(e).put("targetGlobalKey",t)}Fn(e,t){return hm(e).put(fR(this.serializer,t))}Bn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const r=dp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return hm(e).X({range:i,index:"queryTargetsIndex"},(c,g,_)=>{const S=Z_(g);O_(t,S.target)&&(u=S,_.done())}).next(()=>u)}addMatchingKeys(e,t,r){const i=[],u=Ah(e);return t.forEach(c=>{const g=Ms(c.path);i.push(u.put({targetId:r,path:g})),i.push(this.referenceDelegate.addReference(e,r,c))}),ue.waitFor(i)}removeMatchingKeys(e,t,r){const i=Ah(e);return ue.forEach(t,u=>{const c=Ms(u.path);return ue.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ah(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Ah(e);let u=pn();return i.X({range:r,Y:!0},(c,g,_)=>{const S=kl(c[1]),A=new lt(S);u=u.add(A)}).next(()=>u)}containsKey(e,t){const r=Ms(t.path),i=IDBKeyRange.bound([r],[jM(r)],!1,!0);let u=0;return Ah(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,g],_,S)=>{0!==c&&(u++,S.done())}).next(()=>u>0)}le(e,t){return hm(e).get(t).next(r=>r?Z_(r):null)}}function hm(n){return Yi(n,"targets")}function xR(n){return Yi(n,"targetGlobal")}function Ah(n){return Yi(n,"targetDocuments")}function MR([n,e],[t,r]){const i=un(n,t);return 0===i?un(e,r):i}class DF{constructor(e){this.Ln=e,this.buffer=new Ar(MR),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();MR(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class PR{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Te.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){yh(r)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield mh(r)}yield t.Qn(3e5)}))}}class TF{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return ue.resolve(ua.ct);const r=new DF(t);return this.jn.forEachTarget(e,i=>r.Kn(i.sequenceNumber)).next(()=>this.jn.Wn(e,i=>r.Kn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.jn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),ue.resolve(DR)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),DR):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let r,i,u,c,g,_,S;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(F=>(F>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${F}`),i=this.params.maximumSequenceNumbersToCollect):i=F,c=Date.now(),this.nthSequenceNumber(e,i))).next(F=>(r=F,g=Date.now(),this.removeTargets(e,r,t))).next(F=>(u=F,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(F=>(S=Date.now(),hS()<=Ml.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-A}ms\n\tDetermined least recently used ${i} in `+(g-c)+`ms\n\tRemoved ${u} targets in `+(_-g)+`ms\n\tRemoved ${F} documents in `+(S-_)+`ms\nTotal Duration: ${S-A}ms`),ue.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:u,documentsRemoved:F})))}}class SF{constructor(e,t){this.db=e,this.garbageCollector=function RR(n,e){return new TF(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Jn(e){let t=0;return this.Wn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(r,i)=>t(i))}addReference(e,t,r){return pI(e,r)}removeReference(e,t,r){return pI(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return pI(e,t)}Xn(e,t){return function(r,i){let u=!1;return AR(r).Z(c=>SR(r,c,i).next(g=>(g&&(u=!0),ue.resolve(!g)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let u=0;return this.Yn(e,(c,g)=>{if(g<=t){const _=this.Xn(e,c).next(S=>{if(!S)return u++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Nt.min()),Ah(e).delete([0,Ms(c.path)])))});i.push(_)}}).next(()=>ue.waitFor(i)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return pI(e,t)}Yn(e,t){const r=Ah(e);let i,u=ua.ct;return r.X({index:"documentTargetsIndex"},([c,g],{path:_,sequenceNumber:S})=>{0===c?(u!==ua.ct&&t(new lt(kl(i)),u),u=S,i=_):u=ua.ct}).next(()=>{u!==ua.ct&&t(new lt(kl(i)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pI(n,e){return Ah(n).put((r=n.currentSequenceNumber,{targetId:0,path:Ms(e.path),sequenceNumber:r}));var r}class NR{constructor(){this.changes=new Kc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,xr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ue.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class AF{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return bp(e).put(r)}removeEntry(e,t,r){return bp(e).delete(function(i,u){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],aI(u),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Zn(e,r)))}getEntry(e,t){let r=xr.newInvalidDocument(t);return bp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(X_(t))},(i,u)=>{r=this.ts(t,u)}).next(()=>r)}es(e,t){let r={size:0,document:xr.newInvalidDocument(t)};return bp(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(X_(t))},(i,u)=>{r={document:this.ts(t,u),size:hI(u)}}).next(()=>r)}getEntries(e,t){let r=Po();return this.ns(e,t,(i,u)=>{const c=this.ts(i,u);r=r.insert(i,c)}).next(()=>r)}ss(e,t){let r=Po(),i=new gr(lt.comparator);return this.ns(e,t,(u,c)=>{const g=this.ts(u,c);r=r.insert(u,g),i=i.insert(u,hI(c))}).next(()=>({documents:r,rs:i}))}ns(e,t,r){if(t.isEmpty())return ue.resolve();let i=new Ar(LR);t.forEach(_=>i=i.add(_));const u=IDBKeyRange.bound(X_(i.first()),X_(i.last())),c=i.getIterator();let g=c.getNext();return bp(e).X({index:"documentKeyIndex",range:u},(_,S,A)=>{const F=lt.fromSegments([...S.prefixPath,S.collectionGroup,S.documentId]);for(;g&&LR(g,F)<0;)r(g,null),g=c.getNext();g&&g.isEqual(F)&&(r(g,S),g=c.hasNext()?c.getNext():null),g?A.G(X_(g)):A.done()}).next(()=>{for(;g;)r(g,null),g=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const u=t.path,c=[u.popLast().toArray(),u.lastSegment(),aI(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[u.popLast().toArray(),u.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return bp(e).j(IDBKeyRange.bound(c,g,!0)).next(_=>{let S=Po();for(const A of _){const F=this.ts(lt.fromSegments(A.prefixPath.concat(A.collectionGroup,A.documentId)),A);F.isFoundDocument()&&(L_(t,F)||i.has(F.key))&&(S=S.insert(F.key,F))}return S})}getAllFromCollectionGroup(e,t,r,i){let u=Po();const c=FR(t,r),g=FR(t,aa.max());return bp(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,g,!0)},(_,S,A)=>{const F=this.ts(lt.fromSegments(S.prefixPath.concat(S.collectionGroup,S.documentId)),S);u=u.insert(F.key,F),u.size===i&&A.done()}).next(()=>u)}newChangeBuffer(e){return new xF(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return OR(e).get("remoteDocumentGlobalKey").next(t=>(Mt(!!t),t))}Zn(e,t){return OR(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const r=function pF(n,e){let t;if(e.document)t=sR(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=lt.fromSegments(e.noDocument.path),i=mp(e.noDocument.readTime);t=xr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _t();{const r=lt.fromSegments(e.unknownDocument.path),i=mp(e.unknownDocument.version);t=xr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new jr(r[0],r[1]);return Nt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Nt.min()))return r}return xr.newInvalidDocument(e)}}function kR(n){return new AF(n)}class xF extends NR{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Kc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ar((u,c)=>un(u.canonicalString(),c.canonicalString()));return this.changes.forEach((u,c)=>{const g=this.us.get(u);if(t.push(this.os.removeEntry(e,u,g.readTime)),c.isValidDocument()){const _=hR(this.os.serializer,c);i=i.add(u.path.popLast());const S=hI(_);r+=S-g.size,t.push(this.os.addEntry(e,u,_))}else if(r-=g.size,this.trackRemovals){const _=hR(this.os.serializer,c.convertToNoDocument(Nt.min()));t.push(this.os.addEntry(e,u,_))}}),i.forEach(u=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.os.updateMetadata(e,r)),ue.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(r=>(this.us.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:r,rs:i})=>(i.forEach((u,c)=>{this.us.set(u,{size:c,readTime:r.get(u).readTime})}),r))}}function OR(n){return Yi(n,"remoteDocumentGlobal")}function bp(n){return Yi(n,"remoteDocumentsV14")}function X_(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function FR(n,e){const t=e.documentKey.path.toArray();return[n,aI(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function LR(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let u=0;u<t.length-2&&u<r.length-2;++u)if(i=un(t[u],r[u]),i)return i;return i=un(t.length,r.length),i||(i=un(t[t.length-2],r[r.length-2]),i||un(t[t.length-1],r[r.length-1]))}class MF{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class VR{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&$_(r.mutation,i,Mo.empty(),jr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=Fl();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=V_();return u.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Fl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let u=Po();const c=U_(),g=U_();return t.forEach((_,S)=>{const A=r.get(S.key);i.has(S.key)&&(void 0===A||A.mutation instanceof Yc)?u=u.insert(S.key,S):void 0!==A?(c.set(S.key,A.mutation.getFieldMask()),$_(A.mutation,S,A.mutation.getFieldMask(),jr.now())):c.set(S.key,Mo.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((S,A)=>c.set(S,A)),t.forEach((S,A)=>{var F;return g.set(S,new MF(A,null!==(F=c.get(S))&&void 0!==F?F:null))}),g))}recalculateAndSaveOverlays(e,t){const r=U_();let i=new gr((c,g)=>c-g),u=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const S=t.get(_);if(null===S)return;let A=r.get(_)||Mo.empty();A=g.applyToLocalView(S,A),r.set(_,A);const F=(i.get(g.batchId)||pn()).add(_);i=i.insert(g.batchId,F)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),S=_.key,A=_.value,F=MP();A.forEach(Z=>{if(!u.has(Z)){const ne=UP(t.get(Z),r.get(Z));null!==ne&&F.set(Z,ne),u=u.add(Z)}}),c.push(this.documentOverlayCache.saveOverlays(e,S,F))}return ue.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return lt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):TS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):ue.resolve(Fl());let g=-1,_=u;return c.next(S=>ue.forEach(S,(A,F)=>(g<F.largestBatchId&&(g=F.largestBatchId),u.get(A)?ue.resolve():this.remoteDocumentCache.getEntry(e,A).next(Z=>{_=_.insert(A,Z)}))).next(()=>this.populateOverlays(e,S,u)).next(()=>this.computeViews(e,_,S,pn())).next(A=>({batchId:g,changes:xP(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new lt(t)).next(r=>{let i=V_();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=V_();return this.indexManager.getCollectionParents(e,i).next(c=>ue.forEach(c,g=>{const _=(S=t,A=g.child(i),new Zc(A,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt));var S,A;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(S=>{S.forEach((A,F)=>{u=u.insert(A,F)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(i=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(u=>{i.forEach((g,_)=>{const S=_.getKey();null===u.get(S)&&(u=u.insert(S,xr.newInvalidDocument(S)))});let c=V_();return u.forEach((g,_)=>{const S=i.get(g);void 0!==S&&$_(S.mutation,_,Mo.empty(),jr.now()),L_(t,_)&&(c=c.insert(g,_))}),c})}}class PF{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ue.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:ci(r.createTime)}),ue.resolve()}getNamedQuery(e,t){return ue.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:$S(r.bundledQuery),readTime:ci(r.readTime)}),ue.resolve();var r}}class RF{constructor(){this.overlays=new gr(lt.comparator),this.ls=new Map}getOverlay(e,t){return ue.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Fl();return ue.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.we(e,t,u)}),ue.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ue.resolve()}getOverlaysForCollection(e,t,r){const i=Fl(),u=t.length+1,c=new lt(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,S=_.getKey();if(!t.isPrefixOf(S.path))break;S.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new gr((S,A)=>S-A);const c=this.overlays.getIterator();for(;c.hasNext();){const S=c.getNext().value;if(S.getKey().getCollectionGroup()===t&&S.largestBatchId>r){let A=u.get(S.largestBatchId);null===A&&(A=Fl(),u=u.insert(S.largestBatchId,A)),A.set(S.getKey(),S)}}const g=Fl(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((S,A)=>g.set(S,A)),!(g.size()>=i)););return ue.resolve(g)}we(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new NS(t,r));let u=this.ls.get(t);void 0===u&&(u=pn(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class ZS{constructor(){this.fs=new Ar(Qi.ds),this.ws=new Ar(Qi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new Qi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new Qi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new lt(new Pn([])),r=new Qi(t,e),i=new Qi(t,e+1),u=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new lt(new Pn([])),r=new Qi(t,e),i=new Qi(t,e+1);let u=pn();return this.ws.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Qi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Qi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return lt.comparator(e.key,t.key)||un(e.As,t.As)}static _s(e,t){return un(e.As,t.As)||lt.comparator(e.key,t.key)}}class NF{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Ar(Qi.ds)}checkEmpty(e){return ue.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.vs;this.vs++;const c=new PS(u,t,r,i);this.mutationQueue.push(c);for(const g of i)this.Rs=this.Rs.add(new Qi(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return ue.resolve(c)}lookupMutationBatch(e,t){return ue.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.bs(t+1),u=i<0?0:i;return ue.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qi(t,0),i=new Qi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,i],c=>{const g=this.Ps(c.As);u.push(g)}),ue.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(un);return t.forEach(i=>{const u=new Qi(i,0),c=new Qi(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],g=>{r=r.add(g.As)})}),ue.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;lt.isDocumentKey(u)||(u=u.child(""));const c=new Qi(new lt(u),0);let g=new Ar(un);return this.Rs.forEachWhile(_=>{const S=_.key.path;return!!r.isPrefixOf(S)&&(S.length===i&&(g=g.add(_.As)),!0)},c),ue.resolve(this.Vs(g))}Vs(e){const t=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ue.forEach(t.mutations,i=>{const u=new Qi(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new Qi(t,0),i=this.Rs.firstAfterOrEqual(r);return ue.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return ue.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kF{constructor(e){this.Ds=e,this.docs=new gr(lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ue.resolve(r?r.document.mutableCopy():xr.newInvalidDocument(t))}getEntries(e,t){let r=Po();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():xr.newInvalidDocument(i))}),ue.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let u=Po();const c=t.path,g=new lt(c.child("")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:S,value:{document:A}}=_.getNext();if(!c.isPrefixOf(S.path))break;S.path.length>c.length+1||gS(zM(A),r)<=0||(i.has(A.key)||L_(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return ue.resolve(u)}getAllFromCollectionGroup(e,t,r,i){_t()}Cs(e,t){return ue.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new OF(this)}getSize(e){return ue.resolve(this.size)}}class OF extends NR{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),ue.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class FF{constructor(e){this.persistence=e,this.xs=new Kc(t=>dp(t),O_),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ZS,this.targetCount=0,this.Ms=wp.kn()}forEachTarget(e,t){return this.xs.forEach((r,i)=>t(i)),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ue.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new wp(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ue.resolve()}updateTargetData(e,t){return this.Fn(t),ue.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.xs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),ue.waitFor(u).next(()=>i)}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ue.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ue.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),ue.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ue.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ue.resolve(r)}containsKey(e,t){return ue.resolve(this.ks.containsKey(t))}}class KS{constructor(e,t){this.$s={},this.overlays={},this.Os=new ua(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new FF(this),this.indexManager=new EF,this.remoteDocumentCache=new kF(r=>this.referenceDelegate.Ls(r)),this.serializer=new dR(t),this.qs=new PF(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RF,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new NF(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const i=new LF(this.Os.next());return this.referenceDelegate.Us(),r(i).next(u=>this.referenceDelegate.Ks(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Gs(e,t){return ue.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class LF extends qM{constructor(e){super(),this.currentSequenceNumber=e}}class gI{constructor(e){this.persistence=e,this.Qs=new ZS,this.js=null}static zs(e){return new gI(e)}get Ws(){if(this.js)return this.js;throw _t()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ue.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ue.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Ws,r=>{const i=lt.fromPath(r);return this.Hs(e,i).next(u=>{u||t.removeEntry(i,Nt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ue.or([()=>ue.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class VF{constructor(e){this.serializer=e}O(e,t,r,i){const u=new zE("createOrUpgrade",t);var g;r<1&&i>=1&&(e.createObjectStore("owner"),(g=e).createObjectStore("mutationQueues",{keyPath:"userId"}),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YM,{unique:!0}),g.createObjectStore("documentMutations"),UR(e),function(g){g.createObjectStore("remoteDocuments")}(e));let c=ue.resolve();return r<3&&i>=3&&(0!==r&&(function(g){g.deleteObjectStore("targetDocuments"),g.deleteObjectStore("targets"),g.deleteObjectStore("targetGlobal")}(e),UR(e)),c=c.next(()=>function(g){const _=g.store("targetGlobal"),S={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Nt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",S)}(u))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(g,_){return _.store("mutations").j().next(S=>{g.deleteObjectStore("mutations"),g.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",YM,{unique:!0});const A=_.store("mutations"),F=S.map(Z=>A.put(Z));return ue.waitFor(F)})}(e,u))),c=c.next(()=>{!function(g){g.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Ys(u))),r<6&&i>=6&&(c=c.next(()=>(function(g){g.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(u)))),r<7&&i>=7&&(c=c.next(()=>this.Zs(u))),r<8&&i>=8&&(c=c.next(()=>this.ti(e,u))),r<9&&i>=9&&(c=c.next(()=>{!function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ei(u))),r<11&&i>=11&&(c=c.next(()=>{(function(g){g.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(g){g.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(g){const _=g.createObjectStore("documentOverlays",{keyPath:EO});_.createIndex("collectionPathOverlayIndex",IO,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",CO,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(g){const _=g.createObjectStore("remoteDocumentsV14",{keyPath:dO});_.createIndex("documentKeyIndex",hO),_.createIndex("collectionGroupIndex",fO)}(e)).next(()=>this.ni(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.si(e,u))),r<15&&i>=15&&(c=c.next(()=>function(g){g.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),g.createObjectStore("indexState",{keyPath:vO}).createIndex("sequenceNumberIndex",_O,{unique:!1}),g.createObjectStore("indexEntries",{keyPath:wO}).createIndex("documentKeyIndex",bO,{unique:!1})}(e))),c}Xs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=hI(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Ys(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>ue.forEach(i,u=>{const c=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(g=>ue.forEach(g,_=>{Mt(_.userId===u.userId);const S=yp(this.serializer,_);return TR(e,u.userId,S).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const u=[];return r.X((c,g)=>{const _=new Pn(c),S=[0,Ms(_)];u.push(t.get(S).next(A=>A?ue.resolve():t.put({targetId:0,path:Ms(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>ue.waitFor(u))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:yO});const r=t.store("collectionParents"),i=new WS,u=c=>{if(i.add(c)){const g=c.lastSegment(),_=c.popLast();return r.put({collectionId:g,parent:Ms(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,g)=>{const _=new Pn(c);return u(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,g,_],S)=>{const A=kl(g);return u(A.popLast())}))}ei(e){const t=e.store("targets");return t.X((r,i)=>{const u=Z_(i),c=fR(this.serializer,u);return t.put(c)})}ni(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((u,c)=>{const g=t.store("remoteDocumentsV14"),_=(S=c,S.document?new lt(Pn.fromString(S.document.name).popFirst(5)):S.noDocument?lt.fromSegments(S.noDocument.path):S.unknownDocument?lt.fromSegments(S.unknownDocument.path):_t()).path.toArray();var S;const A={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(g.put(A))}).next(()=>ue.waitFor(i))}si(e,t){const r=t.store("mutations"),i=kR(this.serializer),u=new KS(gI.zs,this.serializer.fe);return r.j().next(c=>{const g=new Map;return c.forEach(_=>{var S;let A=null!==(S=g.get(_.userId))&&void 0!==S?S:pn();yp(this.serializer,_).keys().forEach(F=>A=A.add(F)),g.set(_.userId,A)}),ue.forEach(g,(_,S)=>{const A=new Ki(S),F=uI.de(this.serializer,A),Z=u.getIndexManager(A),ne=fI.de(A,this.serializer,Z,u.referenceDelegate);return new VR(i,ne,F,Z).recalculateAndSaveOverlaysForDocumentKeys(new vS(t,ua.ct),_).next()})})}}function UR(n){n.createObjectStore("targetDocuments",{keyPath:gO}).createIndex("documentTargetsIndex",mO,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",pO,{unique:!0}),n.createObjectStore("targetGlobal")}const YS="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class QS{constructor(e,t,r,i,u,c,g,_,S,A,F=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.ii=u,this.window=c,this.document=g,this.ri=S,this.oi=A,this.ui=F,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=Z=>Promise.resolve(),!QS.D())throw new Fe(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new SF(this,i),this.di=t+"main",this.serializer=new dR(_),this.wi=new $u(this.di,this.ui,new VF(this.serializer)),this.Bs=new CF(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kR(this.serializer),this.qs=new gF,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===A&&li("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,YS);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new ua(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var r=(0,Te.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,Te.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,Te.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>yI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(yh(e))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return ew(e).get("owner").next(t=>ue.resolve(this.Ri(t)))}Pi(e){return yI(e).delete(this.clientId)}bi(){var e=this;return(0,Te.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Yi(r,"clientMetadata");return i.j().next(u=>{const c=e.Si(u,18e5),g=u.filter(_=>-1===c.indexOf(_));return ue.forEach(g,_=>i.delete(_.clientId)).next(()=>g)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Di(r.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ue.resolve(!0):ew(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Fe(ge.FAILED_PRECONDITION,YS);return!1}}return!(!this.networkEnabled||!this.inForeground)||yI(e).j().next(r=>void 0===this.Si(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ge("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,Te.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new vS(t,ua.ct);return e.Ai(r).next(()=>e.Pi(r))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(r=>this.Vi(r.updateTimeMs,t)&&!this.Ci(r.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>yI(e).j().next(t=>this.Si(t,18e5).map(r=>r.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return fI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new IF(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return uI.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,r){Ge("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",u=15===(c=this.ui)?TO:14===c?eP:13===c?XM:12===c?DO:11===c?JM:void _t();var c;let g;return this.wi.runTransaction(e,i,u,_=>(g=new vS(_,this.Os?this.Os.next():ua.ct),"readwrite-primary"===t?this.Ti(g).next(S=>!!S||this.Ei(g)).next(S=>{if(!S)throw li(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Fe(ge.FAILED_PRECONDITION,GM);return r(g)}).next(S=>this.vi(g).next(()=>S)):this.Oi(g).next(()=>r(g)))).then(_=>(g.raiseOnCommittedEvent(),_))}Oi(e){return ew(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Fe(ge.FAILED_PRECONDITION,YS)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return ew(e).put("owner",t)}static D(){return $u.D()}Ai(e){const t=ew(e);return t.get("owner").next(r=>this.Ri(r)?(Ge("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ue.resolve())}Vi(e,t){const r=Date.now();return!(e<r-t||e>r&&(li(`Detected an update time that is in the future: ${e} > ${r}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,In.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Ge("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return li("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){li("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ew(n){return Yi(n,"owner")}function yI(n){return Yi(n,"clientMetadata")}function JS(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class XS{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=i}static Li(e,t){let r=pn(),i=pn();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new XS(e,t.fromCache,r,i)}}class BR{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ki(e,t).next(u=>u||this.Gi(e,t,i,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(CP(t))return ue.resolve(null);let r=Qs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=tI(t,null,"F"),r=Qs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=pn(...u);return this.Ui.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const S=this.ji(t,g);return this.zi(t,S,c,_.readTime)?this.Ki(e,tI(t,null,"F")):this.Wi(e,S,t,_)}))})))}Gi(e,t,r,i){return CP(t)||i.isEqual(Nt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,i)?this.Qi(e,t):(hS()<=Ml.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),AS(t)),this.Wi(e,c,t,HM(i,-1)))})}ji(e,t){let r=new Ar(SP(e));return t.forEach((i,u)=>{L_(e,u)&&(r=r.add(u))}),r}zi(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Qi(e,t){return hS()<=Ml.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",AS(t)),this.Ui.getDocumentsMatchingQuery(e,t,aa.min())}Wi(e,t,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class UF{constructor(e,t,r,i){this.persistence=e,this.Hi=t,this.serializer=i,this.Ji=new gr(un),this.Yi=new Kc(u=>dp(u),O_),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new VR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function $R(n,e,t,r){return new UF(n,e,t,r)}function jR(n,e){return eA.apply(this,arguments)}function eA(){return eA=(0,Te.Z)(function*(n,e){const t=dt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let _=pn();for(const S of i){c.push(S.batchId);for(const A of S.mutations)_=_.add(A.key)}for(const S of u){g.push(S.batchId);for(const A of S.mutations)_=_.add(A.key)}return t.localDocuments.getDocuments(r,_).next(S=>({er:S,removedBatchIds:c,addedBatchIds:g}))})})}),eA.apply(this,arguments)}function HR(n){const e=dt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function zR(n,e,t){let r=pn(),i=pn();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Po();return t.forEach((g,_)=>{const S=u.get(g);_.isFoundDocument()!==S.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Nt.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!S.isValidDocument()||_.version.compareTo(S.version)>0||0===_.version.compareTo(S.version)&&S.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):Ge("LocalStore","Ignoring outdated watch update for ",g,". Current version:",S.version," Watch version:",_.version)}),{nr:c,sr:i}})}function jF(n,e){const t=dt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fm(n,e){const t=dt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Bs.getTargetData(r,e).next(u=>u?(i=u,ue.resolve(i)):t.Bs.allocateTargetId(r).next(c=>(i=new Qc(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function pm(n,e,t){return tA.apply(this,arguments)}function tA(){return tA=(0,Te.Z)(function*(n,e,t){const r=dt(n),i=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!yh(c))throw c;Ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),tA.apply(this,arguments)}function vI(n,e,t){const r=dt(n);let i=Nt.min(),u=pn();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,S){const A=dt(g),F=A.Yi.get(S);return void 0!==F?ue.resolve(A.Ji.get(F)):A.Bs.getTargetData(_,S)}(r,c,Qs(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{u=_})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?i:Nt.min(),t?u:pn())).next(g=>(WR(r,TP(e),g),{documents:g,ir:u})))}function GR(n,e){const t=dt(n),r=dt(t.Bs),i=t.Ji.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",u=>r.le(u,e).next(c=>c?c.target:null))}function qR(n,e){const t=dt(n),r=t.Xi.get(e)||Nt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Zi.getAllFromCollectionGroup(i,e,HM(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(WR(t,e,i),i))}function WR(n,e,t){let r=n.Xi.get(e)||Nt.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}function nA(){return nA=(0,Te.Z)(function*(n,e,t,r){const i=dt(n);let u=pn(),c=Po();for(const S of t){const A=e.rr(S.metadata.name);S.document&&(u=u.add(A));const F=e.ur(S);F.setReadTime(e.cr(S.metadata.readTime)),c=c.insert(A,F)}const g=i.Zi.newChangeBuffer({trackRemovals:!0}),_=yield fm(i,(S=r,Qs(im(Pn.fromString(`__bundle__/docs/${S}`)))));var S;return i.persistence.runTransaction("Apply bundle documents","readwrite",S=>zR(S,g,c).next(A=>(g.apply(S),A)).next(A=>i.Bs.removeMatchingKeysForTargetId(S,_.targetId).next(()=>i.Bs.addMatchingKeys(S,u,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(S,A.nr,A.sr)).next(()=>A.nr)))}),nA.apply(this,arguments)}function zF(n,e){return rA.apply(this,arguments)}function rA(){return rA=(0,Te.Z)(function*(n,e,t=pn()){const r=yield fm(n,Qs($S(e.bundledQuery))),i=dt(n);return i.persistence.runTransaction("Save named query","readwrite",u=>{const c=ci(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.qs.saveNamedQuery(u,e);const g=r.withResumeToken(Ui.EMPTY_BYTE_STRING,c);return i.Ji=i.Ji.insert(g.targetId,g),i.Bs.updateTargetData(u,g).next(()=>i.Bs.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>i.Bs.addMatchingKeys(u,t,r.targetId)).next(()=>i.qs.saveNamedQuery(u,e))})}),rA.apply(this,arguments)}function ZR(n,e){return`firestore_clients_${n}_${e}`}function KR(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function iA(n,e){return`firestore_targets_${n}_${e}`}class _I{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static ar(e,t,r){const i=JSON.parse(r);let u,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(u=new Fe(i.error.code,i.error.message))),c?new _I(e,t,i.state,u):(li("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class tw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static ar(e,t){const r=JSON.parse(t);let i,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(i=new Fe(r.error.code,r.error.message))),u?new tw(e,r.state,i):(li("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,u=xS();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=ZM(r.activeTargetIds[c]),u=u.add(r.activeTargetIds[c]);return i?new wI(e,u):(li("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class sA{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new sA(t.clientId,t.onlineState):(li("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oA{constructor(){this.activeTargetIds=xS()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aA{constructor(e,t,r,i,u){this.window=e,this.ii=t,this.persistenceKey=r,this.wr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new gr(un),this.started=!1,this.yr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.pr=ZR(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new oA),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(g){return`firestore_bundle_loaded_v2_${g}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Te.Z)(function*(){const t=yield e.syncEngine.$i();for(const i of t){if(i===e.wr)continue;const u=e.getItem(ZR(e.persistenceKey,i));if(u){const c=wI.ar(i,u);c&&(e.gr=e.gr.insert(c.clientId,c))}}e.Pr();const r=e.storage.getItem(e.vr);if(r){const i=e.br(r);i&&e.Vr(i)}for(const i of e.yr)e.mr(i);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,r){this.Dr(e,t,r),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(iA(this.persistenceKey,e));if(r){const i=tw.ar(e,r);i&&(t=i.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(iA(this.persistenceKey,e))}updateQueryState(e,t,r){this.kr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Cr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ge("SharedClientState","READ",e,t),t}setItem(e,t){Ge("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ge("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ge("SharedClientState","EVENT",r.key,r.newValue),r.key===this.pr)return void li("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,Te.Z)(function*(){if(t.started){if(null!==r.key)if(t.Tr.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.Fr(i,null)}{const i=t.Br(r.key,r.newValue);if(i)return t.Fr(i.clientId,i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.Lr(r.key,r.newValue);if(i)return t.qr(i)}}else if(t.Ar.test(r.key)){if(null!==r.newValue){const i=t.Ur(r.key,r.newValue);if(i)return t.Kr(i)}}else if(r.key===t.vr){if(null!==r.newValue){const i=t.br(r.newValue);if(i)return t.Vr(i)}}else if(r.key===t.Ir){const i=function(u){let c=ua.ct;if(null!=u)try{const g=JSON.parse(u);Mt("number"==typeof g),c=g}catch(g){li("SharedClientState","Failed to read sequence number from WebStorage",g)}return c}(r.newValue);i!==ua.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Gr(r.newValue);yield Promise.all(i.map(u=>t.syncEngine.Qr(u)))}}else t.yr.push(r)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,r){const i=new _I(this.currentUser,e,t,r),u=KR(this.persistenceKey,this.currentUser,e);this.setItem(u,i.hr())}Cr(e){const t=KR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,r){const i=iA(this.persistenceKey,e),u=new tw(e,t,r);this.setItem(i,u.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const r=this.Or(e);return wI.ar(r,t)}Lr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return _I.ar(new Ki(void 0!==r[2]?r[2]:null),i,t)}Ur(e,t){const r=this.Ar.exec(e),i=Number(r[1]);return tw.ar(i,t)}br(e){return sA.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,Te.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const r=t?this.gr.insert(e,t):this.gr.remove(e),i=this.Sr(this.gr),u=this.Sr(r),c=[],g=[];return u.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{u.has(_)||g.push(_)}),this.syncEngine.Wr(c,g).then(()=>{this.gr=r})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=xS();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class YR{constructor(){this.Hr=new oA,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new oA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class GF{Yr(e){}shutdown(){}}class QR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let bI=null;function uA(){return null===bI?bI=268435456+Math.round(2147483648*Math.random()):bI++,"0x"+bI.toString(16)}const qF={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WF{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Rs="WebChannelConnection";class ZF extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,i,u){const c=uA(),g=this.To(e,t);Ge("RestConnection",`Sending RPC '${e}' ${c}:`,g,r);const _={};return this.Eo(_,i,u),this.Ao(e,g,_,r).then(S=>(Ge("RestConnection",`Received RPC '${e}' ${c}: `,S),S),S=>{throw Ka("RestConnection",`RPC '${e}' ${c} failed with error: `,S,"url: ",g,"request:",r),S})}vo(e,t,r,i,u,c){return this.Io(e,t,r,i,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Jg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}To(e,t){return`${this.mo}/v1/${t}:${qF[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,i){const u=uA();return new Promise((c,g)=>{const _=new Gk;_.setWithCredentials(!0),_.listenOnce(jk.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case dS.NO_ERROR:const A=_.getResponseJson();Ge(Rs,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),c(A);break;case dS.TIMEOUT:Ge(Rs,`RPC '${e}' ${u} timed out`),g(new Fe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case dS.HTTP_ERROR:const F=_.getStatus();if(Ge(Rs,`RPC '${e}' ${u} failed with status:`,F,"response text:",_.getResponseText()),F>0){let Z=_.getResponseJson();Array.isArray(Z)&&(Z=Z[0]);const ne=Z?.error;if(ne&&ne.status&&ne.message){const de=function(Ue){const je=Ue.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(je)>=0?je:ge.UNKNOWN}(ne.status);g(new Fe(de,ne.message))}else g(new Fe(ge.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new Fe(ge.UNAVAILABLE,"Connection failed."));break;default:_t()}}finally{Ge(Rs,`RPC '${e}' ${u} completed.`)}});const S=JSON.stringify(i);Ge(Rs,`RPC '${e}' ${u} sending request:`,i),_.send(t,"POST",S,r,15)})}Ro(e,t,r){const i=uA(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Bk(),g=$k(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},S=this.longPollingOptions.timeoutSeconds;void 0!==S&&(_.longPollingTimeout=Math.round(1e3*S)),this.useFetchStreams&&(_.xmlHttpFactory=new zk({})),this.Eo(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const A=u.join("");Ge(Rs,`Creating RPC '${e}' stream ${i}: ${A}`,_);const F=c.createWebChannel(A,_);let Z=!1,ne=!1;const de=new WF({ro:je=>{ne?Ge(Rs,`Not sending because RPC '${e}' stream ${i} is closed:`,je):(Z||(Ge(Rs,`Opening RPC '${e}' stream ${i} transport.`),F.open(),Z=!0),Ge(Rs,`RPC '${e}' stream ${i} sending:`,je),F.send(je))},oo:()=>F.close()}),Ue=(je,ft,kt)=>{je.listen(ft,Pt=>{try{kt(Pt)}catch(qt){setTimeout(()=>{throw qt},0)}})};return Ue(F,$E.EventType.OPEN,()=>{ne||Ge(Rs,`RPC '${e}' stream ${i} transport opened.`)}),Ue(F,$E.EventType.CLOSE,()=>{ne||(ne=!0,Ge(Rs,`RPC '${e}' stream ${i} transport closed`),de.wo())}),Ue(F,$E.EventType.ERROR,je=>{ne||(ne=!0,Ka(Rs,`RPC '${e}' stream ${i} transport errored:`,je),de.wo(new Fe(ge.UNAVAILABLE,"The operation could not be completed")))}),Ue(F,$E.EventType.MESSAGE,je=>{var ft;if(!ne){const kt=je.data[0];Mt(!!kt);const qt=kt.error||(null===(ft=kt[0])||void 0===ft?void 0:ft.error);if(qt){Ge(Rs,`RPC '${e}' stream ${i} received error:`,qt);const fn=qt.status;let An=function(xp){const xk=Ii[xp];if(void 0!==xk)return GP(xk)}(fn),Ns=qt.message;void 0===An&&(An=ge.INTERNAL,Ns="Unknown error status: "+fn+" with message "+qt.message),ne=!0,de.wo(new Fe(An,Ns)),F.close()}else Ge(Rs,`RPC '${e}' stream ${i} received:`,kt),de._o(kt)}}),Ue(g,Hk.STAT_EVENT,je=>{je.stat===LM.PROXY?Ge(Rs,`RPC '${e}' stream ${i} detected buffering proxy`):je.stat===LM.NOPROXY&&Ge(Rs,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{de.fo()},0),de}}function JR(){return typeof window<"u"?window:null}function EI(){return typeof document<"u"?document:null}function nw(n){return new iF(n,!0)}class lA{constructor(e,t,r=1e3,i=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ge("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class XR{constructor(e,t,r,i,u,c,g,_){this.ii=e,this.$o=r,this.Oo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new lA(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Te.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Te.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,Te.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ge.RESOURCE_EXHAUSTED?(li(t.toString()),li("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===t&&this.Zo(r,i)},r=>{e(()=>{const i=new Fe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Te.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KF extends XR{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function aF(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:_t(),i=e.targetChange.targetIds||[],u=function(_,S){return _.useProto3Json?(Mt(void 0===S||"string"==typeof S),Ui.fromBase64String(S||"")):(Mt(void 0===S||S instanceof Uint8Array),Ui.fromUint8Array(S||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const S=void 0===_.code?ge.UNKNOWN:GP(_.code);return new Fe(S,_.message||"")}(c);t=new YP(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=Ll(n,r.document.name),u=ci(r.document.updateTime),c=r.document.createTime?ci(r.document.createTime):Nt.min(),g=new hs({mapValue:{fields:r.document.fields}}),_=xr.newFoundDocument(i,u,c,g);t=new oI(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=Ll(n,r.document),u=r.readTime?ci(r.readTime):Nt.min(),c=xr.newNoDocument(i,u);t=new oI([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=Ll(n,r.document);t=new oI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return _t();{const r=e.filter,{count:i=0,unchangedNames:u}=r,c=new JO(i,u);t=new KP(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Nt.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Nt.min():u.readTime?ci(u.readTime):Nt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=q_(this.serializer),t.addTarget=function(i,u){let c;const g=u.target;if(c=JE(g)?{documents:oR(i,g)}:{query:BS(i,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=eR(i,u.resumeToken);const _=FS(i,u.expectedCount);null!==_&&(c.expectedCount=_)}else if(u.snapshotVersion.compareTo(Nt.min())>0){c.readTime=lm(i,u.snapshotVersion.toTimestamp());const _=FS(i,u.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function lF(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=q_(this.serializer),t.removeTarget=e,this.Wo(t)}}class YF extends XR{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function uF(n,e){return n&&n.length>0?(Mt(void 0!==e),n.map(t=>function(r,i){let u=ci(r.updateTime?r.updateTime:i);return u.isEqual(Nt.min())&&(u=ci(i)),new ZO(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.cu(r,t)}return Mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=q_(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>W_(this.serializer,r))};this.Wo(t)}}class QF extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.Io(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Fe(ge.UNKNOWN,i.toString())})}vo(e,t,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Fe(ge.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class XF{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(li(t),this.mu=!1):Ge("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class e2{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(g=>{r.enqueueAndForget((0,Te.Z)(function*(){var _;xh(c)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,Te.Z)(function*(S){const A=dt(S);A.vu.add(4),yield gm(A),A.bu.set("Unknown"),A.vu.delete(4),yield rw(A)}),function(S){return _.apply(this,arguments)})(c))}))}),this.bu=new XF(r,i)}}function rw(n){return dA.apply(this,arguments)}function dA(){return dA=(0,Te.Z)(function*(n){if(xh(n))for(const e of n.Ru)yield e(!0)}),dA.apply(this,arguments)}function gm(n){return hA.apply(this,arguments)}function hA(){return hA=(0,Te.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),hA.apply(this,arguments)}function II(n,e){const t=dt(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),gA(t)?pA(t):ym(t).Ko()&&fA(t,e))}function iw(n,e){const t=dt(n),r=ym(t);t.Au.delete(e),r.Ko()&&eN(t,e),0===t.Au.size&&(r.Ko()?r.jo():xh(t)&&t.bu.set("Unknown"))}function fA(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Nt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ym(n).su(e)}function eN(n,e){n.Vu.qt(e),ym(n).iu(e)}function pA(n){n.Vu=new eF({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ym(n).start(),n.bu.gu()}function gA(n){return xh(n)&&!ym(n).Uo()&&n.Au.size>0}function xh(n){return 0===dt(n).vu.size}function tN(n){n.Vu=void 0}function t2(n){return mA.apply(this,arguments)}function mA(){return mA=(0,Te.Z)(function*(n){n.Au.forEach((e,t)=>{fA(n,e)})}),mA.apply(this,arguments)}function n2(n,e){return yA.apply(this,arguments)}function yA(){return yA=(0,Te.Z)(function*(n,e){tN(n),gA(n)?(n.bu.Iu(e),pA(n)):n.bu.set("Unknown")}),yA.apply(this,arguments)}function r2(n,e,t){return vA.apply(this,arguments)}function vA(){return vA=(0,Te.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof YP&&2===e.state&&e.cause)try{yield(r=(0,Te.Z)(function*(i,u){const c=u.cause;for(const g of u.targetIds)i.Au.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.Au.delete(g),i.Vu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){Ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield CI(n,r)}else if(e instanceof oI?n.Vu.Ht(e):e instanceof KP?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(Nt.min()))try{const r=yield HR(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.Vu.ce(u);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const S=i.Au.get(_);S&&i.Au.set(_,S.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach((g,_)=>{const S=i.Au.get(g);if(!S)return;i.Au.set(g,S.withResumeToken(Ui.EMPTY_BYTE_STRING,S.snapshotVersion)),eN(i,g);const A=new Qc(S.target,g,_,S.sequenceNumber);fA(i,A)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ge("RemoteStore","Failed to raise snapshot:",r),yield CI(n,r)}var r}),vA.apply(this,arguments)}function CI(n,e,t){return _A.apply(this,arguments)}function _A(){return _A=(0,Te.Z)(function*(n,e,t){if(!yh(e))throw e;n.vu.add(1),yield gm(n),n.bu.set("Offline"),t||(t=()=>HR(n.localStore)),n.asyncQueue.enqueueRetryable((0,Te.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield rw(n)}))}),_A.apply(this,arguments)}function nN(n,e){return e().catch(t=>CI(n,t,e))}function mm(n){return wA.apply(this,arguments)}function wA(){return wA=(0,Te.Z)(function*(n){const e=dt(n),t=Mh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;i2(e);)try{const i=yield jF(e.localStore,r);if(null===i){0===e.Eu.length&&t.jo();break}r=i.batchId,s2(e,i)}catch(i){yield CI(e,i)}rN(e)&&iN(e)}),wA.apply(this,arguments)}function i2(n){return xh(n)&&n.Eu.length<10}function s2(n,e){n.Eu.push(e);const t=Mh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function rN(n){return xh(n)&&!Mh(n).Uo()&&n.Eu.length>0}function iN(n){Mh(n).start()}function o2(n){return bA.apply(this,arguments)}function bA(){return bA=(0,Te.Z)(function*(n){Mh(n).hu()}),bA.apply(this,arguments)}function a2(n){return EA.apply(this,arguments)}function EA(){return EA=(0,Te.Z)(function*(n){const e=Mh(n);for(const t of n.Eu)e.uu(t.mutations)}),EA.apply(this,arguments)}function u2(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,Te.Z)(function*(n,e,t){const r=n.Eu.shift(),i=RS.from(r,e,t);yield nN(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield mm(n)}),IA.apply(this,arguments)}function l2(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,Te.Z)(function*(n,e){var t;e&&Mh(n).ou&&(yield(t=(0,Te.Z)(function*(r,i){if(zP(u=i.code)&&u!==ge.ABORTED){const c=r.Eu.shift();Mh(r).Qo(),yield nN(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield mm(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),rN(n)&&iN(n)}),CA.apply(this,arguments)}function sN(n,e){return DA.apply(this,arguments)}function DA(){return DA=(0,Te.Z)(function*(n,e){const t=dt(n);t.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const r=xh(t);t.vu.add(3),yield gm(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield rw(t)}),DA.apply(this,arguments)}function TA(n,e){return SA.apply(this,arguments)}function SA(){return SA=(0,Te.Z)(function*(n,e){const t=dt(n);e?(t.vu.delete(2),yield rw(t)):e||(t.vu.add(2),yield gm(t),t.bu.set("Unknown"))}),SA.apply(this,arguments)}function ym(n){return n.Su||(n.Su=function(e,t,r){const i=dt(e);return i.fu(),new KF(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:t2.bind(null,n),ao:n2.bind(null,n),nu:r2.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Su.Qo(),gA(n)?pA(n):n.bu.set("Unknown")):(yield n.Su.stop(),tN(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Mh(n){return n.Du||(n.Du=function(e,t,r){const i=dt(e);return i.fu(),new YF(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{uo:o2.bind(null,n),ao:l2.bind(null,n),au:a2.bind(null,n),cu:u2.bind(null,n)}),n.Ru.push(function(){var e=(0,Te.Z)(function*(t){t?(n.Du.Qo(),yield mm(n)):(yield n.Du.stop(),n.Eu.length>0&&(Ge("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class AA{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new Vi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,g=new AA(e,t,c,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Fe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vm(n,e){if(li("AsyncQueue",`${e}: ${n}`),yh(n))return new Fe(ge.UNAVAILABLE,`${e}: ${n}`);throw n}class _m{constructor(e){this.comparator=e?(t,r)=>e(t,r)||lt.comparator(t.key,r.key):(t,r)=>lt.comparator(t.key,r.key),this.keyedMap=V_(),this.sortedSet=new gr(this.comparator)}static emptySet(e){return new _m(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof _m)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new _m;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class oN{constructor(){this.Cu=new gr(lt.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):_t():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class wm{constructor(e,t,r,i,u,c,g,_,S){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=S}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new wm(e,t,_m.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&F_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class c2{constructor(){this.Nu=void 0,this.listeners=[]}}class d2{constructor(){this.queries=new Kc(e=>DP(e),F_),this.onlineState="Unknown",this.ku=new Set}}function xA(n,e){return MA.apply(this,arguments)}function MA(){return MA=(0,Te.Z)(function*(n,e){const t=dt(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new c2),i)try{u.Nu=yield t.onListen(r)}catch(c){const g=vm(c,`Initialization of query '${AS(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&NA(t)}),MA.apply(this,arguments)}function PA(n,e){return RA.apply(this,arguments)}function RA(){return RA=(0,Te.Z)(function*(n,e){const t=dt(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),RA.apply(this,arguments)}function h2(n,e){const t=dt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.$u(i)&&(r=!0);c.Nu=i}}r&&NA(t)}function f2(n,e,t){const r=dt(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function NA(n){n.ku.forEach(e=>{e.next()})}class kA{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wm(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=wm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class p2{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class aN{constructor(e){this.serializer=e}rr(e){return Ll(this.serializer,e)}ur(e){return e.metadata.exists?sR(this.serializer,e.document,!1):xr.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return ci(e)}}class g2{constructor(e,t,r){this.ju=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=uN(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const r=Pn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,r=new aN(this.serializer);for(const i of e)if(i.metadata.queries){const u=r.rr(i.metadata.name);for(const c of i.metadata.queries){const g=(t.get(c)||pn()).add(u);t.set(c,g)}}return t}complete(){var e=this;return(0,Te.Z)(function*(){const t=yield function HF(n,e,t,r){return nA.apply(this,arguments)}(e.localStore,new aN(e.serializer),e.documents,e.ju.id),r=e.Wu(e.documents);for(const i of e.queries)yield zF(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function uN(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class lN{constructor(e){this.key=e}}class cN{constructor(e){this.key=e}}class dN{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=pn(),this.mutatedKeys=pn(),this.tc=SP(e),this.ec=new _m(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new oN,i=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,S="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((A,F)=>{const Z=i.get(A),ne=L_(this.query,F)?F:null,de=!!Z&&this.mutatedKeys.has(Z.key),Ue=!!ne&&(ne.hasLocalMutations||this.mutatedKeys.has(ne.key)&&ne.hasCommittedMutations);let je=!1;Z&&ne?Z.data.isEqual(ne.data)?de!==Ue&&(r.track({type:3,doc:ne}),je=!0):this.rc(Z,ne)||(r.track({type:2,doc:ne}),je=!0,(_&&this.tc(ne,_)>0||S&&this.tc(ne,S)<0)&&(g=!0)):!Z&&ne?(r.track({type:0,doc:ne}),je=!0):Z&&!ne&&(r.track({type:1,doc:Z}),je=!0,(_||S)&&(g=!0)),je&&(ne?(c=c.add(ne),u=Ue?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:c,ic:r,zi:g,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((S,A)=>function(F,Z){const ne=de=>{switch(de){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t()}};return ne(F)-ne(Z)}(S.type,A.type)||this.tc(S.doc,A.doc)),this.oc(r);const c=t?this.uc():[],g=0===this.Zu.size&&this.current?1:0,_=g!==this.Xu;return this.Xu=g,0!==u.length||_?{snapshot:new wm(this.query,e.ec,i,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new oN,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=pn(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new cN(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new lN(r))}),t}hc(e){this.Yu=e.ir,this.Zu=pn();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return wm.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class m2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class y2{constructor(e){this.key=e,this.fc=!1}}class v2{constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Kc(g=>DP(g),F_),this._c=new Map,this.mc=new Set,this.gc=new gr(lt.comparator),this.yc=new Map,this.Ic=new ZS,this.Tc={},this.Ec=new Map,this.Ac=wp.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function _2(n,e){return OA.apply(this,arguments)}function OA(){return OA=(0,Te.Z)(function*(n,e){const t=ix(n);let r,i;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.lc();else{const c=yield fm(t.localStore,Qs(e)),g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield FA(t,e,r,"current"===g,c.resumeToken),t.isPrimaryClient&&II(t.remoteStore,c)}return i}),OA.apply(this,arguments)}function FA(n,e,t,r,i){return LA.apply(this,arguments)}function LA(){return LA=(0,Te.Z)(function*(n,e,t,r,i){n.Rc=(F,Z,ne)=>{return(de=(0,Te.Z)(function*(Ue,je,ft,kt){let Pt=je.view.sc(ft);Pt.zi&&(Pt=yield vI(Ue.localStore,je.query,!1).then(({documents:An})=>je.view.sc(An,Pt)));const qt=kt&&kt.targetChanges.get(je.targetId),fn=je.view.applyChanges(Pt,Ue.isPrimaryClient,qt);return WA(Ue,je.targetId,fn.cc),fn.snapshot}),function(Ue,je,ft,kt){return de.apply(this,arguments)})(n,F,Z,ne);var de};const u=yield vI(n.localStore,e,!0),c=new dN(e,u.ir),g=c.sc(u.documents),_=z_.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),S=c.applyChanges(g,n.isPrimaryClient,_);WA(n,t,S.cc);const A=new m2(e,t,c);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),S.snapshot}),LA.apply(this,arguments)}function w2(n,e){return VA.apply(this,arguments)}function VA(){return VA=(0,Te.Z)(function*(n,e){const t=dt(n),r=t.wc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(u=>!F_(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield pm(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),iw(t.remoteStore,r.targetId),bm(t,r.targetId)}).catch(mh))):(bm(t,r.targetId),yield pm(t.localStore,r.targetId,!0))}),VA.apply(this,arguments)}function UA(){return UA=(0,Te.Z)(function*(n,e,t){const r=sx(n);try{const i=yield function(u,c){const g=dt(u),_=jr.now(),S=c.reduce((Z,ne)=>Z.add(ne.key),pn());let A,F;return g.persistence.runTransaction("Locally write mutations","readwrite",Z=>{let ne=Po(),de=pn();return g.Zi.getEntries(Z,S).next(Ue=>{ne=Ue,ne.forEach((je,ft)=>{ft.isValidDocument()||(de=de.add(je))})}).next(()=>g.localDocuments.getOverlayedDocuments(Z,ne)).next(Ue=>{A=Ue;const je=[];for(const ft of c){const kt=YO(ft,A.get(ft.key).overlayedDocument);null!=kt&&je.push(new Yc(ft.key,kt,dP(kt.value.mapValue),Hr.exists(!0)))}return g.mutationQueue.addMutationBatch(Z,_,je,c)}).next(Ue=>{F=Ue;const je=Ue.applyToLocalDocumentSet(A,de);return g.documentOverlayCache.saveOverlays(Z,Ue.batchId,je)})}).then(()=>({batchId:F.batchId,changes:xP(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,g){let _=u.Tc[u.currentUser.toKey()];_||(_=new gr(un)),_=_.insert(c,g),u.Tc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield Jc(r,i.changes),yield mm(r.remoteStore)}catch(i){const u=vm(i,"Failed to persist write");t.reject(u)}}),UA.apply(this,arguments)}function hN(n,e){return BA.apply(this,arguments)}function BA(){return BA=(0,Te.Z)(function*(n,e){const t=dt(n);try{const r=yield function $F(n,e){const t=dt(n),r=e.snapshotVersion;let i=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});i=t.Ji;const g=[];e.targetChanges.forEach((A,F)=>{const Z=i.get(F);if(!Z)return;g.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,F).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,F)));let ne=Z.withSequenceNumber(u.currentSequenceNumber);var de,Ue,je;null!==e.targetMismatches.get(F)?ne=ne.withResumeToken(Ui.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):A.resumeToken.approximateByteSize()>0&&(ne=ne.withResumeToken(A.resumeToken,r)),i=i.insert(F,ne),Ue=ne,je=A,(0===(de=Z).resumeToken.approximateByteSize()||Ue.snapshotVersion.toMicroseconds()-de.snapshotVersion.toMicroseconds()>=3e8||je.addedDocuments.size+je.modifiedDocuments.size+je.removedDocuments.size>0)&&g.push(t.Bs.updateTargetData(u,ne))});let _=Po(),S=pn();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),g.push(zR(u,c,e.documentUpdates).next(A=>{_=A.nr,S=A.sr})),!r.isEqual(Nt.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(F=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(A)}return ue.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,S)).next(()=>_)}).then(u=>(t.Ji=i,u))}(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.yc.get(u);c&&(Mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?Mt(c.fc):i.removedDocuments.size>0&&(Mt(c.fc),c.fc=!1))}),yield Jc(t,r,e)}catch(r){yield mh(r)}}),BA.apply(this,arguments)}function fN(n,e,t){const r=dt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.wc.forEach((u,c)=>{const g=c.view.Mu(e);g.snapshot&&i.push(g.snapshot)}),function(u,c){const g=dt(u);g.onlineState=c;let _=!1;g.queries.forEach((S,A)=>{for(const F of A.listeners)F.Mu(c)&&(_=!0)}),_&&NA(g)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function E2(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,Te.Z)(function*(n,e,t){const r=dt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.yc.get(e),u=i&&i.key;if(u){let c=new gr(lt.comparator);c=c.insert(u,xr.newNoDocument(u,Nt.min()));const g=pn().add(u),_=new H_(Nt.min(),new Map,new gr(un),c,g);yield hN(r,_),r.gc=r.gc.remove(u),r.yc.delete(e),ZA(r)}else yield pm(r.localStore,e,!1).then(()=>bm(r,e,t)).catch(mh)}),$A.apply(this,arguments)}function I2(n,e){return jA.apply(this,arguments)}function jA(){return jA=(0,Te.Z)(function*(n,e){const t=dt(n),r=e.batch.batchId;try{const i=yield function BF(n,e){const t=dt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,S){const A=_.batch,F=A.keys();let Z=ue.resolve();return F.forEach(ne=>{Z=Z.next(()=>S.getEntry(g,ne)).next(de=>{const Ue=_.docVersions.get(ne);Mt(null!==Ue),de.version.compareTo(Ue)<0&&(A.applyToRemoteDocument(de,_),de.isValidDocument()&&(de.setReadTime(_.commitVersion),S.addEntry(de)))})}),Z.next(()=>c.mutationQueue.removeMutationBatch(g,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=pn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);qA(t,r,null),GA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Jc(t,i)}catch(i){yield mh(i)}}),jA.apply(this,arguments)}function C2(n,e,t){return HA.apply(this,arguments)}function HA(){return HA=(0,Te.Z)(function*(n,e,t){const r=dt(n);try{const i=yield function(u,c){const g=dt(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let S;return g.mutationQueue.lookupMutationBatch(_,c).next(A=>(Mt(null!==A),S=A.keys(),g.mutationQueue.removeMutationBatch(_,A))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,S,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S)).next(()=>g.localDocuments.getDocuments(_,S))})}(r.localStore,e);qA(r,e,t),GA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Jc(r,i)}catch(i){yield mh(i)}}),HA.apply(this,arguments)}function zA(){return zA=(0,Te.Z)(function*(n,e){const t=dt(n);xh(t.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const c=dt(u);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",g=>c.mutationQueue.getHighestUnacknowledgedBatchId(g))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Ec.get(r)||[];i.push(e),t.Ec.set(r,i)}catch(r){const i=vm(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),zA.apply(this,arguments)}function GA(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function qA(n,e,t){const r=dt(n);let i=r.Tc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function bm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||pN(n,r)})}function pN(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(iw(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),ZA(n))}function WA(n,e,t){for(const r of t)r instanceof lN?(n.Ic.addReference(r.key,e),T2(n,r)):r instanceof cN?(Ge("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||pN(n,r.key)):_t()}function T2(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Ge("SyncEngine","New document in limbo: "+t),n.mc.add(r),ZA(n))}function ZA(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new lt(Pn.fromString(e)),r=n.Ac.next();n.yc.set(r,new y2(t)),n.gc=n.gc.insert(t,r),II(n.remoteStore,new Qc(Qs(im(t.path)),r,"TargetPurposeLimboResolution",ua.ct))}}function Jc(n,e,t){return KA.apply(this,arguments)}function KA(){return KA=(0,Te.Z)(function*(n,e,t){const r=dt(n),i=[],u=[],c=[];var g;r.wc.isEmpty()||(r.wc.forEach((g,_)=>{c.push(r.Rc(_,e,t).then(S=>{if((S||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,S?.fromCache?"not-current":"current"),S){i.push(S);const A=XS.Li(_.targetId,S);u.push(A)}}))}),yield Promise.all(c),r.dc.nu(i),yield(g=(0,Te.Z)(function*(_,S){const A=dt(_);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",F=>ue.forEach(S,Z=>ue.forEach(Z.Fi,ne=>A.persistence.referenceDelegate.addReference(F,Z.targetId,ne)).next(()=>ue.forEach(Z.Bi,ne=>A.persistence.referenceDelegate.removeReference(F,Z.targetId,ne)))))}catch(F){if(!yh(F))throw F;Ge("LocalStore","Failed to update sequence numbers: "+F)}for(const F of S){const Z=F.targetId;if(!F.fromCache){const ne=A.Ji.get(Z),Ue=ne.withLastLimboFreeSnapshotVersion(ne.snapshotVersion);A.Ji=A.Ji.insert(Z,Ue)}}}),function(_,S){return g.apply(this,arguments)})(r.localStore,u))}),KA.apply(this,arguments)}function S2(n,e){return YA.apply(this,arguments)}function YA(){return YA=(0,Te.Z)(function*(n,e){const t=dt(n);if(!t.currentUser.isEqual(e)){Ge("SyncEngine","User change. New user:",e.toKey());const r=yield jR(t.localStore,e);t.currentUser=e,(i=t).Ec.forEach(c=>{c.forEach(g=>{g.reject(new Fe(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Jc(t,r.er)}var i}),YA.apply(this,arguments)}function A2(n,e){const t=dt(n),r=t.yc.get(e);if(r&&r.fc)return pn().add(r.key);{let i=pn();const u=t._c.get(e);if(!u)return i;for(const c of u){const g=t.wc.get(c);i=i.unionWith(g.view.nc)}return i}}function x2(n,e){return QA.apply(this,arguments)}function QA(){return QA=(0,Te.Z)(function*(n,e){const t=dt(n),r=yield vI(t.localStore,e.query,!0),i=e.view.hc(r);return t.isPrimaryClient&&WA(t,e.targetId,i.cc),i}),QA.apply(this,arguments)}function M2(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,Te.Z)(function*(n,e){const t=dt(n);return qR(t.localStore,e).then(r=>Jc(t,r))}),JA.apply(this,arguments)}function P2(n,e,t,r){return XA.apply(this,arguments)}function XA(){return XA=(0,Te.Z)(function*(n,e,t,r){const i=dt(n),u=yield function(c,g){const _=dt(c),S=dt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",A=>S.Sn(A,g).next(F=>F?_.localDocuments.getDocuments(A,F):ue.resolve(null)))}(i.localStore,e);var g;null!==u?("pending"===t?yield mm(i.remoteStore):"acknowledged"===t||"rejected"===t?(qA(i,e,r||null),GA(i,e),g=e,dt(dt(i.localStore).mutationQueue).Cn(g)):_t(),yield Jc(i,u)):Ge("SyncEngine","Cannot apply mutation batch with id: "+e)}),XA.apply(this,arguments)}function ex(){return ex=(0,Te.Z)(function*(n,e){const t=dt(n);if(ix(t),sx(t),!0===e&&!0!==t.vc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield gN(t,r.toArray());t.vc=!0,yield TA(t.remoteStore,!0);for(const u of i)II(t.remoteStore,u)}else if(!1===e&&!1!==t.vc){const r=[];let i=Promise.resolve();t._c.forEach((u,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(bm(t,c),pm(t.localStore,c,!0))),iw(t.remoteStore,c)}),yield i,yield gN(t,r),function(u){const c=dt(u);c.yc.forEach((g,_)=>{iw(c.remoteStore,_)}),c.Ic.Ts(),c.yc=new Map,c.gc=new gr(lt.comparator)}(t),t.vc=!1,yield TA(t.remoteStore,!1)}}),ex.apply(this,arguments)}function gN(n,e,t){return tx.apply(this,arguments)}function tx(){return tx=(0,Te.Z)(function*(n,e,t){const r=dt(n),i=[],u=[];for(const c of e){let g;const _=r._c.get(c);if(_&&0!==_.length){g=yield fm(r.localStore,Qs(_[0]));for(const S of _){const A=r.wc.get(S),F=yield x2(r,A);F.snapshot&&u.push(F.snapshot)}}else{const S=yield GR(r.localStore,c);g=yield fm(r.localStore,S),yield FA(r,mN(S),c,!1,g.resumeToken)}i.push(g)}return r.dc.nu(u),i}),tx.apply(this,arguments)}function mN(n){return IP(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function N2(n){const e=dt(n);return dt(dt(e.localStore).persistence).$i()}function k2(n,e,t,r){return nx.apply(this,arguments)}function nx(){return nx=(0,Te.Z)(function*(n,e,t,r){const i=dt(n);if(i.vc)return void Ge("SyncEngine","Ignoring unexpected query state notification.");const u=i._c.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const c=yield qR(i.localStore,TP(u[0])),g=H_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Ui.EMPTY_BYTE_STRING);yield Jc(i,c,g);break}case"rejected":yield pm(i.localStore,e,!0),bm(i,e,r);break;default:_t()}}),nx.apply(this,arguments)}function O2(n,e,t){return rx.apply(this,arguments)}function rx(){return rx=(0,Te.Z)(function*(n,e,t){const r=ix(n);if(r.vc){for(const i of e){if(r._c.has(i)){Ge("SyncEngine","Adding an already active target "+i);continue}const u=yield GR(r.localStore,i),c=yield fm(r.localStore,u);yield FA(r,mN(u),c.targetId,!1,c.resumeToken),II(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield pm(r.localStore,i,!1).then(()=>{iw(r.remoteStore,i),bm(r,i)}).catch(mh))}}),rx.apply(this,arguments)}function ix(n){const e=dt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=hN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=A2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=E2.bind(null,e),e.dc.nu=h2.bind(null,e.eventManager),e.dc.Pc=f2.bind(null,e.eventManager),e}function sx(n){const e=dt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=I2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,e),e}class sw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Te.Z)(function*(){t.serializer=nw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return $R(this.persistence,new BR,e.initialUser,this.serializer)}createPersistence(e){return new KS(gI.zs,this.serializer)}createSharedClientState(e){return new YR}terminate(){var e=this;return(0,Te.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ox extends sw{constructor(e,t,r){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e),yield r.Vc.initialize(r,e),yield sx(r.Vc.syncEngine),yield mm(r.Vc.remoteStore),yield r.persistence.Ii(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return $R(this.persistence,new BR,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new PR(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new uO(t,this.persistence);return new aO(e.asyncQueue,r)}createPersistence(e){const t=JS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Ps.withCacheSize(this.cacheSizeBytes):Ps.DEFAULT;return new QS(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,JR(),EI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new YR}}class yN extends ox{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,Te.Z)(function*(){yield t().call(r,e);const i=r.Vc.syncEngine;r.sharedClientState instanceof aA&&(r.sharedClientState.syncEngine={jr:P2.bind(null,i),zr:k2.bind(null,i),Wr:O2.bind(null,i),$i:N2.bind(null,i),Qr:M2.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.Ii(function(){var u=(0,Te.Z)(function*(c){yield function R2(n,e){return ex.apply(this,arguments)}(r.Vc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return u.apply(this,arguments)}}())})()}createSharedClientState(e){const t=JR();if(!aA.D(t))throw new Fe(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=JS(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new aA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Em{initialize(e,t){var r=this;return(0,Te.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>fN(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,r.syncEngine),yield TA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new d2}createDatastore(e){const t=nw(e.databaseInfo.databaseId),r=new ZF(e.databaseInfo);return new QF(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>fN(this.syncEngine,g,0),c=QR.D()?new QR:new GF,new e2(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,g,_,S){const A=new v2(r,i,u,c,g,_);return S&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Te.Z)(function*(t){const r=dt(t);Ge("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield gm(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function vN(n,e=10240){let t=0;return{read:()=>(0,Te.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,Te.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class DI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):li("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class V2{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Vi,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(r=>{r&&r.Qu()?this.metadata.resolve(r.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Gu)}`))},r=>this.metadata.reject(r))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,Te.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,Te.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.kc();if(null===t)return null;const r=e.xc.decode(t),i=Number(r);isNaN(i)&&e.Mc(`length string (${r}) is not valid number`);const u=yield e.$c(i);return new p2(JSON.parse(u),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,Te.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}$c(e){var t=this;return(0,Te.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const r=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,Te.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class U2{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Te.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Fe(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,Te.Z)(function*(u,c){const g=dt(u),_=q_(g.serializer)+"/documents",S={documents:c.map(ne=>G_(g.serializer,ne))},A=yield g.vo("BatchGetDocuments",_,S,c.length),F=new Map;A.forEach(ne=>{const de=function oF(n,e){return"found"in e?function(t,r){Mt(!!r.found);const i=Ll(t,r.found.name),u=ci(r.found.updateTime),c=r.found.createTime?ci(r.found.createTime):Nt.min(),g=new hs({mapValue:{fields:r.found.fields}});return xr.newFoundDocument(i,u,c,g)}(n,e):"missing"in e?function(t,r){Mt(!!r.missing),Mt(!!r.readTime);const i=Ll(t,r.missing),u=ci(r.readTime);return xr.newNoDocument(i,u)}(n,e):_t()}(g.serializer,ne);F.set(de.key.toString(),de)});const Z=[];return c.forEach(ne=>{const de=F.get(ne.toString());Mt(!!de),Z.push(de)}),Z}),function(u,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new um(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Te.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const u=lt.fromPath(i);e.mutations.push(new MS(u,e.precondition(u)))}),yield(r=(0,Te.Z)(function*(i,u){const c=dt(i),g=q_(c.serializer)+"/documents",_={writes:u.map(S=>W_(c.serializer,S))};yield c.Io("Commit",g,_)}),function(i,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _t();t=Nt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Fe(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Nt.min())?Hr.exists(!1):Hr.updateTime(t):Hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Nt.min()))throw new Fe(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hr.updateTime(t)}return Hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class B2{constructor(e,t,r,i,u){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=u,this.Bc=r.maxAttempts,this.qo=new lA(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,Te.Z)(function*(){const t=new U2(e.datastore),r=e.qc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(u=>{e.Uc(u)}))}).catch(i=>{e.Uc(i)})}))}qc(e){try{const t=this.updateFunction(e);return!x_(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!zP(t)}return!1}}class $2{constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ki.UNAUTHENTICATED,this.clientId=$M.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Te.Z)(function*(g){Ge("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ge("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Te.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Fe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=vm(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function TI(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,Te.Z)(function*(u){r.isEqual(u)||(yield jR(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ax.apply(this,arguments)}function ux(n,e){return lx.apply(this,arguments)}function lx(){return lx=(0,Te.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield cx(n);Ge("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>sN(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>sN(e.remoteStore,u)),n._onlineComponents=e}),lx.apply(this,arguments)}function _N(n){return"FirebaseError"===n.name?n.code===ge.FAILED_PRECONDITION||n.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function cx(n){return dx.apply(this,arguments)}function dx(){return dx=(0,Te.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge("FirestoreClient","Using user provided OfflineComponentProvider");try{yield TI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!_N(t))throw t;Ka("Error using user provided cache. Falling back to memory cache: "+t),yield TI(n,new sw)}}else Ge("FirestoreClient","Using default OfflineComponentProvider"),yield TI(n,new sw);return n._offlineComponents}),dx.apply(this,arguments)}function SI(n){return hx.apply(this,arguments)}function hx(){return hx=(0,Te.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge("FirestoreClient","Using user provided OnlineComponentProvider"),yield ux(n,n._uninitializedComponentsProvider._online)):(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield ux(n,new Em))),n._onlineComponents}),hx.apply(this,arguments)}function wN(n){return cx(n).then(e=>e.persistence)}function AI(n){return cx(n).then(e=>e.localStore)}function bN(n){return SI(n).then(e=>e.remoteStore)}function fx(n){return SI(n).then(e=>e.syncEngine)}function Im(n){return px.apply(this,arguments)}function px(){return px=(0,Te.Z)(function*(n){const e=yield SI(n),t=e.eventManager;return t.onListen=_2.bind(null,e.syncEngine),t.onUnlisten=w2.bind(null,e.syncEngine),t}),px.apply(this,arguments)}function IN(n,e,t={}){const r=new Vi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,u,c,g,_){const S=new DI({next:F=>{u.enqueueAndForget(()=>PA(i,A));const Z=F.docs.has(c);!Z&&F.fromCache?_.reject(new Fe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):Z&&F.fromCache&&g&&"server"===g.source?_.reject(new Fe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(F)},error:F=>_.reject(F)}),A=new kA(im(c.path),S,{includeMetadataChanges:!0,Ku:!0});return xA(i,A)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}function CN(n,e,t={}){const r=new Vi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function(i,u,c,g,_){const S=new DI({next:F=>{u.enqueueAndForget(()=>PA(i,A)),F.fromCache&&"server"===g.source?_.reject(new Fe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(F)},error:F=>_.reject(F)}),A=new kA(c,S,{includeMetadataChanges:!0,Ku:!0});return xA(i,A)}(yield Im(n),n.asyncQueue,e,t,r)})),r.promise}function DN(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const TN=new Map;function gx(n,e,t){if(!t)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function SN(n,e,t,r){if(!0===e&&!0===r)throw new Fe(ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function AN(n){if(!lt.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xN(n){if(lt.isDocumentKey(n))throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xI(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":_t()}function Dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Fe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=xI(n);throw new Fe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function MN(n,e){if(e<=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class PN{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Fe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Fe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}SN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=DN(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new Fe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Fe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Fe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ow{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PN({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Fe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PN(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Kk;switch(t.type){case"firstParty":return new Xk(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Fe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TN.get(e);t&&(Ge("ComponentProvider","Removing Datastore"),TN.delete(e),t.terminate())}(this),Promise.resolve()}}function RN(n,e,t,r={}){var i;const u=(n=Dn(n,ow))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Ka("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=Ki.MOCK_USER;else{c=(0,In.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new Fe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ki(_)}n._authCredentials=new Yk(new UM(c,g))}}class Mr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mr(this.firestore,e,this._key)}}class fs{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fs(this.firestore,e,this._query)}}class Vl extends fs{constructor(e,t,r){super(e,t,im(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mr(this.firestore,null,new lt(e))}withConverter(e){return new Vl(this.firestore,e,this._path)}}function mx(n,e,...t){if(n=(0,In.m9)(n),gx("collection","path",e),n instanceof ow){const r=Pn.fromString(e,...t);return xN(r),new Vl(n,null,r)}{if(!(n instanceof Mr||n instanceof Vl))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pn.fromString(e,...t));return xN(r),new Vl(n.firestore,null,r)}}function MI(n,e,...t){if(n=(0,In.m9)(n),1===arguments.length&&(e=$M.A()),gx("doc","path",e),n instanceof ow){const r=Pn.fromString(e,...t);return AN(r),new Mr(n,null,new lt(r))}{if(!(n instanceof Mr||n instanceof Vl))throw new Fe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Pn.fromString(e,...t));return AN(r),new Mr(n.firestore,n instanceof Vl?n.converter:null,new lt(r))}}function NN(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),(n instanceof Mr||n instanceof Vl)&&(e instanceof Mr||e instanceof Vl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function yx(n,e){return n=(0,In.m9)(n),e=(0,In.m9)(e),n instanceof fs&&e instanceof fs&&n.firestore===e.firestore&&F_(n._query,e._query)&&n.converter===e.converter}class Q2{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new lA(this,"async_queue_retry"),this.Xc=()=>{const t=EI();t&&Ge("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=EI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=EI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vi;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Te.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!yh(t))throw t;Ge("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,li("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=AA.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(i),i}Zc(){this.Wc&&_t()}verifyOperationInProgress(){}sa(){var e=this;return(0,Te.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function vx(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class J2{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vi,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pr extends ow{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Q2,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||kN(this),this._firestoreClient.terminate()}}function eL(n,e){const t="object"==typeof n?n:(0,qa.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,qa._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,In.P0)("firestore");u&&RN(i,...u)}return i}function di(n){return n._firestoreClient||kN(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function kN(n){var e,t,r;const i=n._freezeSettings(),u=(g=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new xO(n._databaseId,g,n._persistenceKey,(S=i).host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,DN(S.experimentalLongPollingOptions),S.useFetchStreams));var g,S;n._firestoreClient=new $2(n._authCredentials,n._appCheckCredentials,n._queue,u),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function ON(n,e,t){const r=new Vi;return n.asyncQueue.enqueue((0,Te.Z)(function*(){try{yield TI(n,t),yield ux(n,e),r.resolve()}catch(i){const u=i;if(!_N(u))throw u;Ka("Error enabling indexeddb cache. Falling back to memory cache: "+u),r.reject(u)}})).then(()=>r.promise)}function FN(n){if(n._initialized||n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ul{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ul(Ui.fromBase64String(e))}catch(t){throw new Fe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ul(Ui.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Xc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Fe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ni(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ep{constructor(e){this._methodName=e}}class PI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Fe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Fe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}const cL=/^__.*__$/;class dL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms):new am(e,this.data,t,this.fieldTransforms)}}class LN{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Yc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function VN(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t()}}class RI{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new RI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return OI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(VN(this.ca)&&cL.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class hL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||nw(e)}ya(e,t,r,i=!1){return new RI({ca:e,methodName:t,ga:r,path:ni.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ip(n){const e=n._freezeSettings(),t=nw(n._databaseId);return new hL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NI(n,e,t,r,i,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,i);Ex("Data must be an object, but it was:",c,r);const g=$N(r,c);let _,S;if(u.merge)_=new Mo(c.fieldMask),S=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const F of u.mergeFields){const Z=lw(e,F,t);if(!c.contains(Z))throw new Fe(ge.INVALID_ARGUMENT,`Field '${Z}' is specified in your field mask but missing from your input data.`);HN(A,Z)||A.push(Z)}_=new Mo(A),S=c.fieldTransforms.filter(F=>_.covers(F.field))}else _=null,S=c.fieldTransforms;return new dL(new hs(g),_,S)}class uw extends Ep{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof uw}}function UN(n,e,t){return new RI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class _x extends Ep{_toFieldTransform(e){return new B_(e.path,new sm)}isEqual(e){return e instanceof _x}}class fL extends Ep{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.pa.map(u=>Cp(u,t)),i=new fp(r);return new B_(e.path,i)}isEqual(e){return this===e}}class pL extends Ep{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=UN(this,e,!0),r=this.pa.map(u=>Cp(u,t)),i=new pp(r);return new B_(e.path,i)}isEqual(e){return this===e}}class gL extends Ep{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new om(e.serializer,NP(e.serializer,this.Ia));return new B_(e.path,t)}isEqual(e){return this===e}}function wx(n,e,t,r){const i=n.ya(1,e,t);Ex("Data must be an object, but it was:",i,r);const u=[],c=hs.empty();vh(r,(_,S)=>{const A=kI(e,_,t);S=(0,In.m9)(S);const F=i.da(A);if(S instanceof uw)u.push(A);else{const Z=Cp(S,F);null!=Z&&(u.push(A),c.set(A,Z))}});const g=new Mo(u);return new LN(c,g,i.fieldTransforms)}function bx(n,e,t,r,i,u){const c=n.ya(1,e,t),g=[lw(e,r,t)],_=[i];if(u.length%2!=0)throw new Fe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Z=0;Z<u.length;Z+=2)g.push(lw(e,u[Z])),_.push(u[Z+1]);const S=[],A=hs.empty();for(let Z=g.length-1;Z>=0;--Z)if(!HN(S,g[Z])){const ne=g[Z];let de=_[Z];de=(0,In.m9)(de);const Ue=c.da(ne);if(de instanceof uw)S.push(ne);else{const je=Cp(de,Ue);null!=je&&(S.push(ne),A.set(ne,je))}}const F=new Mo(S);return new LN(A,F,c.fieldTransforms)}function BN(n,e,t,r=!1){return Cp(t,n.ya(r?4:3,e))}function Cp(n,e){if(jN(n=(0,In.m9)(n)))return Ex("Unsupported field value:",e,n),$N(n,e);if(n instanceof Ep)return function(t,r){if(!VN(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let g=Cp(c,r.wa(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,In.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return NP(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=jr.fromDate(t);return{timestampValue:lm(r.serializer,i)}}if(t instanceof jr){const i=new jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:lm(r.serializer,i)}}if(t instanceof PI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ul)return{bytesValue:eR(r.serializer,t._byteString)};if(t instanceof Mr){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:LS(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${xI(t)}`)}(n,e)}function $N(n,e){const t={};return nP(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vh(n,(r,i)=>{const u=Cp(i,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function jN(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof jr||n instanceof PI||n instanceof Ul||n instanceof Mr||n instanceof Ep)}function Ex(n,e,t){if(!jN(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=xI(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function lw(n,e,t){if((e=(0,In.m9)(e))instanceof Xc)return e._internalPath;if("string"==typeof e)return kI(n,e);throw OI("Field path arguments must be of type string or ",n,!1,void 0,t)}const mL=new RegExp("[~\\*/\\[\\]]");function kI(n,e,t){if(e.search(mL)>=0)throw OI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xc(...e.split("."))._internalPath}catch{throw OI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function OI(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new Fe(ge.INVALID_ARGUMENT,g+n+_)}function HN(n,e){return n.some(t=>t.isEqual(e))}class cw{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Mr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(FI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class yL extends cw{data(){return super.data()}}function FI(n,e){return"string"==typeof e?kI(n,e):e instanceof Xc?e._internalPath:e._delegate._internalPath}function zN(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Fe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ix{}class dw extends Ix{}function Ph(n,e,...t){let r=[];e instanceof Ix&&r.push(e),r=r.concat(t),function(i){const u=i.filter(g=>g instanceof Cm).length,c=i.filter(g=>g instanceof hw).length;if(u>1||u>0&&c>0)throw new Fe(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class hw extends dw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new hw(e,t,r)}_apply(e){const t=this._parse(e);return ZN(e._query,t),new fs(e.firestore,e.converter,SS(e._query,t))}_parse(e){const t=Ip(e.firestore);return function(i,u,c,g,_,S,A){let F;if(_.isKeyField()){if("array-contains"===S||"array-contains-any"===S)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${S}' queries on documentId().`);if("in"===S||"not-in"===S){WN(A,S);const Z=[];for(const ne of A)Z.push(qN(g,i,ne));F={arrayValue:{values:Z}}}else F=qN(g,i,A)}else"in"!==S&&"not-in"!==S&&"array-contains-any"!==S||WN(A,S),F=BN(c,"where",A,"in"===S||"not-in"===S);return Cn.create(_,S,F)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Cm extends Ix{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Cm(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:nr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let u=r;const c=i.getFlattenedFilters();for(const g of c)ZN(u,g),u=SS(u,g)}(e._query,t),new fs(e.firestore,e.converter,SS(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Cx extends dw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Cx(e,t)}_apply(e){const t=function(r,i,u){if(null!==r.startAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new nm(i,u);return function(g,_){if(null===DS(g)){const S=eI(g);null!==S&&KN(0,S,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new fs(e.firestore,e.converter,function(r,i){const u=r.explicitOrderBy.concat([i]);return new Zc(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class LI extends dw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new LI(e,t,r)}_apply(e){return new fs(e.firestore,e.converter,tI(e._query,this._limit,this._limitType))}}class VI extends dw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new VI(e,t,r)}_apply(e){const t=GN(e,this.type,this._docOrFields,this._inclusive);return new fs(e.firestore,e.converter,(i=t,new Zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class UI extends dw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new UI(e,t,r)}_apply(e){const t=GN(e,this.type,this._docOrFields,this._inclusive);return new fs(e.firestore,e.converter,(i=t,new Zc((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function GN(n,e,t,r){if(t[0]=(0,In.m9)(t[0]),t[0]instanceof cw)return function(i,u,c,g,_){if(!g)throw new Fe(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const S=[];for(const A of hp(i))if(A.field.isKeyField())S.push(cp(u,g.key));else{const F=g.data.field(A.field);if(WE(F))throw new Fe(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===F){const Z=A.field.canonicalString();throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Z}' (used as the orderBy) does not exist.`)}S.push(F)}return new Ch(S,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=Ip(n.firestore);return function(u,c,g,_,S,A){const F=u.explicitOrderBy;if(S.length>F.length)throw new Fe(ge.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Z=[];for(let ne=0;ne<S.length;ne++){const de=S[ne];if(F[ne].field.isKeyField()){if("string"!=typeof de)throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof de}`);if(!TS(u)&&-1!==de.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${de}' contains a slash.`);const Ue=u.path.child(Pn.fromString(de));if(!lt.isDocumentKey(Ue))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${Ue}' is not because it contains an odd number of segments.`);const je=new lt(Ue);Z.push(cp(c,je))}else{const Ue=BN(g,_,de);Z.push(Ue)}}return new Ch(Z,A)}(n._query,n.firestore._databaseId,i,e,t,r)}}function qN(n,e,t){if("string"==typeof(t=(0,In.m9)(t))){if(""===t)throw new Fe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TS(e)&&-1!==t.indexOf("/"))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Pn.fromString(t));if(!lt.isDocumentKey(r))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return cp(n,new lt(r))}if(t instanceof Mr)return cp(n,t._key);throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xI(t)}.`)}function WN(n,e){if(!Array.isArray(n)||0===n.length)throw new Fe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZN(n,e){if(e.isInequality()){const r=eI(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const u=DS(n);null!==u&&KN(0,i,u)}const t=function(r,i){for(const u of r)for(const c of u.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Fe(ge.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function KN(n,e,t){if(!t.isEqual(e))throw new Fe(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Dx{convertValue(e,t="none"){switch(Eh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ri(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Wc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _t()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return vh(e,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new PI(ri(e.latitude),ri(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ZE(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(P_(e));default:return null}}convertTimestamp(e){const t=_h(e);return new jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Pn.fromString(e);Mt(cR(r));const i=new wh(r.get(1),r.get(3)),u=new lt(r.popFirst(5));return i.isEqual(t)||li(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function BI(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class TL extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}class Dp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ed extends cw{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new fw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(FI("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class fw extends ed{data(e={}){return super.data(e)}}class Rh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Dp(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new fw(this._firestore,this._userDataWriter,r.key,r,new Dp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Fe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new fw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new fw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Dp(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,S=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),S=u.indexOf(c.doc.key)),{type:AL(c.type),doc:g,oldIndex:_,newIndex:S}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function AL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t()}}function QN(n,e){return n instanceof ed&&e instanceof ed?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Rh&&e instanceof Rh&&n._firestore===e._firestore&&yx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Nh extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ul(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mr(this.firestore,null,t)}}function JN(n,e,t){n=Dn(n,Mr);const r=Dn(n.firestore,Pr),i=BI(n.converter,e,t);return Dm(r,[NI(Ip(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Hr.none())])}function XN(n,e,t,...r){n=Dn(n,Mr);const i=Dn(n.firestore,Pr),u=Ip(i);let c;return c="string"==typeof(e=(0,In.m9)(e))||e instanceof Xc?bx(u,"updateDoc",n._key,e,t,r):wx(u,"updateDoc",n._key,e),Dm(i,[c.toMutation(n._key,Hr.exists(!0))])}function ek(n,e){const t=Dn(n.firestore,Pr),r=MI(n),i=BI(n.converter,e);return Dm(t,[NI(Ip(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Hr.exists(!1))]).then(()=>r)}function tk(n,...e){var t,r,i;n=(0,In.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||vx(e[c])||(u=e[c],c++);const g={includeMetadataChanges:u.includeMetadataChanges};if(vx(e[c])){const F=e[c];e[c]=null===(t=F.next)||void 0===t?void 0:t.bind(F),e[c+1]=null===(r=F.error)||void 0===r?void 0:r.bind(F),e[c+2]=null===(i=F.complete)||void 0===i?void 0:i.bind(F)}let _,S,A;if(n instanceof Mr)S=Dn(n.firestore,Pr),A=im(n._key.path),_={next:F=>{e[c]&&e[c](Tx(S,n,F))},error:e[c+1],complete:e[c+2]};else{const F=Dn(n,fs);S=Dn(F.firestore,Pr),A=F._query;const Z=new Nh(S);_={next:ne=>{e[c]&&e[c](new Rh(S,Z,F,ne))},error:e[c+1],complete:e[c+2]},zN(n._query)}return function(F,Z,ne,de){const Ue=new DI(de),je=new kA(Z,Ue,ne);return F.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return xA(yield Im(F),je)})),()=>{Ue.Dc(),F.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return PA(yield Im(F),je)}))}}(di(S),A,g,_)}function Dm(n,e){return function(t,r){const i=new Vi;return t.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function b2(n,e,t){return UA.apply(this,arguments)}(yield fx(t),r,i)})),i.promise}(di(n),e)}function Tx(n,e,t){const r=t.docs.get(e._key),i=new Nh(n);return new ed(n,i,e._key,r,new Dp(t.hasPendingWrites,t.fromCache),e.converter)}const GL={maxAttempts:5};class nk{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Ip(e)}set(e,t,r){this._verifyNotCommitted();const i=kh(e,this._firestore),u=BI(i.converter,t,r),c=NI(this._dataReader,"WriteBatch.set",i._key,u,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Hr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const u=kh(e,this._firestore);let c;return c="string"==typeof(t=(0,In.m9)(t))||t instanceof Xc?bx(this._dataReader,"WriteBatch.update",u._key,t,r,i):wx(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,Hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=kh(e,this._firestore);return this._mutations=this._mutations.concat(new um(t._key,Hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Fe(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function kh(n,e){if((n=(0,In.m9)(n)).firestore!==e)throw new Fe(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class qL extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Ip(e)}get(e){const t=kh(e,this._firestore),r=new TL(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return _t();const u=i[0];if(u.isFoundDocument())return new cw(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new cw(this._firestore,r,t._key,null,t.converter);throw _t()})}set(e,t,r){const i=kh(e,this._firestore),u=BI(i.converter,t,r),c=NI(this._dataReader,"Transaction.set",i._key,u,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const u=kh(e,this._firestore);let c;return c="string"==typeof(t=(0,In.m9)(t))||t instanceof Xc?bx(this._dataReader,"Transaction.update",u._key,t,r,i):wx(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,c),this}delete(e){const t=kh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=kh(e,this._firestore),r=new Nh(this._firestore);return super.get(e).then(i=>new ed(this._firestore,r,t._key,i._document,new Dp(!1,!1),t.converter))}}!function(n,e=!0){Jg=qa.SDK_VERSION,(0,qa._registerComponent)(new Rf.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new Pr(new Qk(t.getProvider("auth-internal")),new eO(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Fe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wh(g.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,qa.registerVersion)(VM,"3.12.0",n),(0,qa.registerVersion)(VM,"3.12.0","esm2017")}();class $I{constructor(e){return e}}const ik="firestore",Sx=new d.OlP("angularfire2.firestore-instances");function tV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new $I(r)}}const nV={provide:class XL{constructor(){return(0,Sn.vb)(ik)}},deps:[[new d.FiY,Sx]]},rV={provide:$I,useFactory:function eV(n,e){const t=(0,Sn.JM)(ik,n,e);return t&&new $I(t)},deps:[[new d.FiY,Sx],ih]};let iV=(()=>{class n{constructor(){(0,ku.KN)("angularfire",Sn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({providers:[rV,nV]}),n})();function sV(n,...e){return{ngModule:iV,providers:[{provide:Sx,useFactory:tV(n),multi:!0,deps:[d.R0b,d.zs3,Sn.HU,hv,[new d.FiY,zb],[new d.FiY,jf],...e]}]}}const oV=(0,Sn.u3)(ek,!0),aV=(0,Sn.u3)(mx,!0),uV=(0,Sn.u3)(eL,!0);var lV=$(4986);function Ax(){return(0,ai.e)((n,e)=>{let t,r=!1;n.subscribe((0,Xr.x)(e,i=>{const u=t;t=i,r&&e.next([u,i]),r=!0}))})}function dV(n,e){return n===e}var ju=$(2011),hV=($(9568),$(3942));function xx(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Fe("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function sk(){if(typeof Uint8Array>"u")throw new Fe("unimplemented","Uint8Arrays are not available in this environment.")}function ok(){if(!function SO(){return typeof atob<"u"}())throw new Fe("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pw{constructor(e){this._delegate=e}static fromBase64String(e){return ok(),new pw(Ul.fromBase64String(e))}static fromUint8Array(e){return sk(),new pw(Ul.fromUint8Array(e))}toBase64(){return ok(),this._delegate.toBase64()}toUint8Array(){return sk(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Mx(n){return function gV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class mV{enableIndexedDbPersistence(e,t){return function tL(n,e){FN(n=Dn(n,Pr));const t=di(n);if(t._uninitializedComponentsProvider)throw new Fe(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Em;return ON(t,i,new ox(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function nL(n){FN(n=Dn(n,Pr));const e=di(n);if(e._uninitializedComponentsProvider)throw new Fe(ge.FAILED_PRECONDITION,"SDK cache is already specified.");Ka("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Em;return ON(e,r,new yN(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function rL(n){if(n._initialized&&!n._terminated)throw new Fe(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vi;return n._queue.enqueueAndForgetEvenWhileRestricted((0,Te.Z)(function*(){try{yield(t=(0,Te.Z)(function*(r){if(!$u.D())return Promise.resolve();const i=r+"main";yield $u.delete(i)}),function(r){return t.apply(this,arguments)})(JS(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class ak{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof wh||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){RN(this._delegate,e,t,r)}enableNetwork(){return function sL(n){return function j2(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield wN(n),t=yield bN(n);return e.setNetworkEnabled(!0),function(r){const i=dt(r);return i.vu.delete(0),rw(i)}(t)}))}(di(n=Dn(n,Pr)))}(this._delegate)}disableNetwork(){return function oL(n){return function H2(n){return n.asyncQueue.enqueue((0,Te.Z)(function*(){const e=yield wN(n),t=yield bN(n);return e.setNetworkEnabled(!1),(r=(0,Te.Z)(function*(i){const u=dt(i);u.vu.add(0),yield gm(u),u.bu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(di(n=Dn(n,Pr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,SN("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function iL(n){return function(e){const t=new Vi;return e.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return function D2(n,e){return zA.apply(this,arguments)}(yield fx(e),t)})),t.promise}(di(n=Dn(n,Pr)))}(this._delegate)}onSnapshotsInSync(e){return function FL(n,e){return function q2(n,e){const t=new DI(e);return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Im(n),i=t,dt(r).ku.add(i),void i.next();var r,i})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return r=yield Im(n),i=t,void dt(r).ku.delete(i);var r,i}))}}(di(n=Dn(n,Pr)),vx(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Fe("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Tm(this,mx(this._delegate,e))}catch(t){throw Js(t,"collection()","Firestore.collection()")}}doc(e){try{return new Ya(this,MI(this._delegate,e))}catch(t){throw Js(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Xs(this,function Y2(n,e){if(n=Dn(n,ow),gx("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Fe(ge.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fs(n,null,(t=e,new Zc(Pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Js(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function WL(n,e,t){n=Dn(n,Pr);const r=Object.assign(Object.assign({},GL),t);return function(i){if(i.maxAttempts<1)throw new Fe(ge.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,u,c){const g=new Vi;return i.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){const _=yield function EN(n){return SI(n).then(e=>e.datastore)}(i);new B2(i.asyncQueue,_,c,u,g).run()})),g.promise}(di(n),i=>e(new qL(n,i)),r)}(this._delegate,t=>e(new uk(this,t)))}batch(){return di(this._delegate),new lk(new nk(this._delegate,e=>Dm(this._delegate,e)))}loadBundle(e){return function aL(n,e){const t=di(n=Dn(n,Pr)),r=new J2;return function W2(n,e,t,r){const i=function(u,c){let g;return g="string"==typeof u?qP().encode(u):u,_=function(_,S){if(_ instanceof Uint8Array)return vN(_,S);if(_ instanceof ArrayBuffer)return vN(new Uint8Array(_),S);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(g),new V2(_,c);var _}(t,nw(e));n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){!function F2(n,e,t){const r=dt(n);var i;(i=(0,Te.Z)(function*(u,c,g){try{const _=yield c.getMetadata();if(yield function(Z,ne){const de=dt(Z),Ue=ci(ne.createTime);return de.persistence.runTransaction("hasNewerBundle","readonly",je=>de.qs.getBundleMetadata(je,ne.id)).then(je=>!!je&&je.createTime.compareTo(Ue)>=0)}(u.localStore,_))return yield c.close(),g._completeWith({taskState:"Success",documentsLoaded:(Z=_).totalDocuments,bytesLoaded:Z.totalBytes,totalDocuments:Z.totalDocuments,totalBytes:Z.totalBytes}),Promise.resolve(new Set);g._updateProgress(uN(_));const S=new g2(_,u.localStore,c.serializer);let A=yield c.bc();for(;A;){const Z=yield S.zu(A);Z&&g._updateProgress(Z),A=yield c.bc()}const F=yield S.complete();return yield Jc(u,F.Ju,void 0),yield function(Z,ne){const de=dt(Z);return de.persistence.runTransaction("Save bundle","readwrite",Ue=>de.qs.saveBundleMetadata(Ue,ne))}(u.localStore,_),g._completeWith(F.progress),Promise.resolve(F.Hu)}catch(_){return Ka("SyncEngine",`Loading bundle failed with ${_}`),g._failWith(_),Promise.resolve(new Set)}var Z}),function(u,c,g){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield fx(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function uL(n,e){return function Z2(n,e){return n.asyncQueue.enqueue((0,Te.Z)(function*(){return function(t,r){const i=dt(t);return i.persistence.runTransaction("Get named query","readonly",u=>i.qs.getNamedQuery(u,r))}(yield AI(n),e)}))}(di(n=Dn(n,Pr)),e).then(t=>t?new fs(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Xs(this,t):null)}}class jI extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new pw(new Ul(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Ya.forKey(t,this.firestore,null)}}class uk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new jI(e)}get(e){const t=Sp(e);return this._delegate.get(t).then(r=>new gw(this._firestore,new ed(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=Sp(e);return r?(xx("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Sp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}}class lk{constructor(e){this._delegate=e}set(e,t,r){const i=Sp(e);return r?(xx("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const u=Sp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...i),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Tp{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new fw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new mw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Tp.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let u=i.get(t);return u||(u=new Tp(e,new jI(e),t),i.set(t,u)),u}}Tp.INSTANCES=new WeakMap;class Ya{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jI(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Fe("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Ya(t,new Mr(t._delegate,r,new lt(e)))}static forKey(e,t,r){return new Ya(t,new Mr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Tm(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Tm(this.firestore,mx(this._delegate,e))}catch(t){throw Js(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,In.m9)(e))instanceof Mr&&NN(this._delegate,e)}set(e,t){t=xx("DocumentReference.set",t);try{return t?JN(this._delegate,e,t):JN(this._delegate,e)}catch(r){throw Js(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?XN(this._delegate,e):XN(this._delegate,e,t,...r)}catch(i){throw Js(i,"updateDoc()","DocumentReference.update()")}}delete(){return function OL(n){return Dm(Dn(n.firestore,Pr),[new um(n._key,Hr.none())])}(this._delegate)}onSnapshot(...e){const t=ck(e),r=dk(e,i=>new gw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return tk(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function ML(n){n=Dn(n,Mr);const e=Dn(n.firestore,Pr),t=di(e),r=new Nh(e);return function z2(n,e){const t=new Vi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,u,c){try{const g=yield function(_,S){const A=dt(_);return A.persistence.runTransaction("read document","readonly",F=>A.localDocuments.getDocument(F,S))}(i,u);g.isFoundDocument()?c.resolve(g):g.isNoDocument()?c.resolve(null):c.reject(new Fe(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(g){const _=vm(g,`Failed to get document '${u} from cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield AI(n),e,t);var r})),t.promise}(t,n._key).then(i=>new ed(e,r,n._key,i,new Dp(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function PL(n){n=Dn(n,Mr);const e=Dn(n.firestore,Pr);return IN(di(e),n._key,{source:"server"}).then(t=>Tx(e,n,t))}(this._delegate):function xL(n){n=Dn(n,Mr);const e=Dn(n.firestore,Pr);return IN(di(e),n._key).then(t=>Tx(e,n,t))}(this._delegate),t.then(r=>new gw(this.firestore,new ed(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Ya(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}function Js(n,e,t){return n.message=n.message.replace(e,t),n}function ck(n){for(const e of n)if("object"==typeof e&&!Mx(e))return e;return{}}function dk(n,e){var t,r;let i;return i=Mx(n[0])?n[0]:Mx(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{i.next&&i.next(e(u))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class gw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Ya(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return QN(this._delegate,e._delegate)}}class mw extends gw{data(e){const t=this._delegate.data(e);return function Zk(n,e){n||_t()}(void 0!==t),t}}class Xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new jI(e)}where(e,t,r){try{return new Xs(this.firestore,Ph(this._delegate,function vL(n,e,t){const r=e,i=FI("where",n);return hw._create(i,r,t)}(e,t,r)))}catch(i){throw Js(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Xs(this.firestore,Ph(this._delegate,function _L(n,e="asc"){const t=e,r=FI("orderBy",n);return Cx._create(r,t)}(e,t)))}catch(r){throw Js(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Xs(this.firestore,Ph(this._delegate,function wL(n){return MN("limit",n),LI._create("limit",n,"F")}(e)))}catch(t){throw Js(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Xs(this.firestore,Ph(this._delegate,function bL(n){return MN("limitToLast",n),LI._create("limitToLast",n,"L")}(e)))}catch(t){throw Js(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Xs(this.firestore,Ph(this._delegate,function EL(...n){return VI._create("startAt",n,!0)}(...e)))}catch(t){throw Js(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Xs(this.firestore,Ph(this._delegate,function IL(...n){return VI._create("startAfter",n,!1)}(...e)))}catch(t){throw Js(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Xs(this.firestore,Ph(this._delegate,function CL(...n){return UI._create("endBefore",n,!1)}(...e)))}catch(t){throw Js(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Xs(this.firestore,Ph(this._delegate,function DL(...n){return UI._create("endAt",n,!0)}(...e)))}catch(t){throw Js(t,"endAt()","Query.endAt()")}}isEqual(e){return yx(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function NL(n){n=Dn(n,fs);const e=Dn(n.firestore,Pr),t=di(e),r=new Nh(e);return function G2(n,e){const t=new Vi;return n.asyncQueue.enqueueAndForget((0,Te.Z)(function*(){return(r=(0,Te.Z)(function*(i,u,c){try{const g=yield vI(i,u,!0),_=new dN(u,g.ir),S=_.sc(g.documents),A=_.applyChanges(S,!1);c.resolve(A.snapshot)}catch(g){const _=vm(g,`Failed to execute query '${u} against cache`);c.reject(_)}}),function(i,u,c){return r.apply(this,arguments)})(yield AI(n),e,t);var r})),t.promise}(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate):"server"===e?.source?function kL(n){n=Dn(n,fs);const e=Dn(n.firestore,Pr),t=di(e),r=new Nh(e);return CN(t,n._query,{source:"server"}).then(i=>new Rh(e,r,n,i))}(this._delegate):function RL(n){n=Dn(n,fs);const e=Dn(n.firestore,Pr),t=di(e),r=new Nh(e);return zN(n._query),CN(t,n._query).then(i=>new Rh(e,r,n,i))}(this._delegate),t.then(r=>new Px(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=ck(e),r=dk(e,i=>new Px(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return tk(this._delegate,t,r)}withConverter(e){return new Xs(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}class vV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new mw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Px{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new mw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new vV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new mw(this._firestore,r))})}isEqual(e){return QN(this._delegate,e._delegate)}}class Tm extends Xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Ya(this.firestore,e):null}doc(e){try{return new Ya(this.firestore,void 0===e?MI(this._delegate):MI(this._delegate,e))}catch(t){throw Js(t,"doc()","CollectionReference.doc()")}}add(e){return ek(this._delegate,e).then(t=>new Ya(this.firestore,t))}isEqual(e){return NN(this._delegate,e._delegate)}withConverter(e){return new Tm(this.firestore,this._delegate.withConverter(e?Tp.getInstance(this.firestore,e):null))}}function Sp(n){return Dn(n,Mr)}class Rx{constructor(...e){this._delegate=new Xc(...e)}static documentId(){return new Rx(ni.keyField().canonicalString())}isEqual(e){return(e=(0,In.m9)(e))instanceof Xc&&this._delegate._internalPath.isEqual(e._internalPath)}}class Ap{constructor(e){this._delegate=e}static serverTimestamp(){const e=function KL(){return new _x("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Ap(e)}static delete(){const e=function ZL(){return new uw("deleteField")}();return e._methodName="FieldValue.delete",new Ap(e)}static arrayUnion(...e){const t=function YL(...n){return new fL("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new Ap(t)}static arrayRemove(...e){const t=function QL(...n){return new pL("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new Ap(t)}static increment(e){const t=function JL(n){return new gL("increment",n)}(e);return t._methodName="FieldValue.increment",new Ap(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _V={Firestore:ak,GeoPoint:PI,Timestamp:jr,Blob:pw,Transaction:uk,WriteBatch:lk,DocumentReference:Ya,DocumentSnapshot:gw,Query:Xs,QueryDocumentSnapshot:mw,QuerySnapshot:Px,CollectionReference:Tm,FieldPath:Rx,FieldValue:Ap,setLogLevel:function yV(n){!function Wk(n){gh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function bV(n){(function wV(n,e){n.INTERNAL.registerComponent(new Rf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},_V)))})(n,(e,t)=>new ak(e,t,new mV)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(hV.Z);var EV=$(6451),HI=$(5363),IV=$(6063);class CV extends os.x{constructor(e=1/0,t=1/0,r=IV.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var DV=$(3099);function hk(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,DV.B)({connector:()=>new CV(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function fk(n,e){return(0,hc.m)(e)?ir(()=>n,e):ir(()=>n)}var Nx=$(9468);const pk=new d.OlP("angularfire2.auth.use-emulator"),gk=new d.OlP("angularfire2.auth.settings"),mk=new d.OlP("angularfire2.auth.tenant-id"),yk=new d.OlP("angularfire2.auth.langugage-code"),vk=new d.OlP("angularfire2.auth.use-device-language"),_k=new d.OlP("angularfire.auth.persistence"),wk=(n,e,t,r,i,u,c,g)=>(0,ju.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[S,A]of Object.entries(c))_.settings[S]=A;return g&&_.setPersistence(g),_},[t,r,i,u,c,g]);let bk=(()=>{class n{constructor(t,r,i,u,c,g,_,S,A,F,Z,ne){const de=new os.x,Ue=mt(void 0).pipe((0,HI.Q)(c.outsideAngular),ir(()=>u.runOutsideAngular(()=>Promise.resolve().then($.bind($,9568)))),(0,Tt.U)(()=>(0,ju.on)(t,u,r)),(0,Tt.U)(je=>wk(je,u,g,S,A,F,_,Z)),hk({bufferSize:1,refCount:!1}));if(so(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=mt(null);else{Ue.pipe(as()).subscribe();const ft=Ue.pipe(ir(qt=>qt.getRedirectResult().then(fn=>fn,()=>null)),Sn.iC,hk({bufferSize:1,refCount:!1})),kt=Ue.pipe(ir(qt=>new oi.y(fn=>({unsubscribe:u.runOutsideAngular(()=>qt.onAuthStateChanged(An=>fn.next(An),An=>fn.error(An),()=>fn.complete()))})))),Pt=Ue.pipe(ir(qt=>new oi.y(fn=>({unsubscribe:u.runOutsideAngular(()=>qt.onIdTokenChanged(An=>fn.next(An),An=>fn.error(An),()=>fn.complete()))}))));this.authState=ft.pipe(fk(kt),(0,Nx.R)(c.outsideAngular),(0,HI.Q)(c.insideAngular)),this.user=ft.pipe(fk(Pt),(0,Nx.R)(c.outsideAngular),(0,HI.Q)(c.insideAngular)),this.idToken=this.user.pipe(ir(qt=>qt?(0,bn.D)(qt.getIdToken()):mt(null))),this.idTokenResult=this.user.pipe(ir(qt=>qt?(0,bn.D)(qt.getIdTokenResult()):mt(null))),this.credential=(0,EV.T)(ft,de,this.authState.pipe(vi(qt=>!qt))).pipe((0,Tt.U)(qt=>qt?.user?qt:null),(0,Nx.R)(c.outsideAngular),(0,HI.Q)(c.insideAngular))}return(0,ju.pX)(this,Ue,u,{spy:{apply:(je,ft,kt)=>{(je.startsWith("signIn")||je.startsWith("createUser"))&&kt.then(Pt=>de.next(Pt))}}})}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ju.Dh),d.LFG(ju.xv,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sn.HU),d.LFG(pk,8),d.LFG(gk,8),d.LFG(mk,8),d.LFG(yk,8),d.LFG(vk,8),d.LFG(_k,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Ek(n,e){return function SV(n,e=lV.z){return new oi.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function kx(n,e){return Ek(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function zI(n,e){return kx(n,e).pipe(Qo(void 0),Ax(),(0,Tt.U)(([t,r])=>{const i=r.payload.docChanges(),u=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,g)=>{const _=i.find(A=>A.doc.ref.isEqual(c.ref)),S=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&S&&JSON.stringify(S.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:g,newIndex:g,type:"modified",doc:c}})}),u}))}function Ik(n,e,t){return zI(n,t).pipe(gl((r,i)=>function xV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function MV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return Ox(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Ox(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Ox(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(u=>u.payload),e),[]),function cV(n,e=xa.y){return n=n??dV,(0,ai.e)((t,r)=>{let i,u=!0;t.subscribe((0,Xr.x)(r,c=>{const g=e(c);(u||!n(i,g))&&(u=!1,i=g,r.next(c))}))})}(),(0,Tt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function Ox(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function Ck(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class Dk{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(Qo(void 0),Ax(),vi(([r,i])=>i.length>0||!r),(0,Tt.U)(([r,i])=>i),Sn.iC)}auditTrail(e){return this.stateChanges(e).pipe(gl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Ck(e);return Ik(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(e={}){return kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Sn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Sn.iC)}add(e){return this.ref.add(e)}doc(e){return new Tk(this.ref.doc(e),this.afs)}}class Tk{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:u}=Sk(r,t);return new Dk(i,u,this.afs)}snapshotChanges(){return function AV(n,e){return Ek(n,e).pipe(Qo(void 0),Ax(),(0,Tt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,bn.D)(this.ref.get(e)).pipe(Sn.iC)}}class PV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zI(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),vi(t=>t.length>0),Sn.iC):zI(this.query,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}auditTrail(e){return this.stateChanges(e).pipe(gl((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=Ck(e);return Ik(this.query,t,this.afs.schedulers.outsideAngular).pipe(Sn.iC)}valueChanges(e={}){return kx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Sn.iC)}get(e){return(0,bn.D)(this.query.get(e)).pipe(Sn.iC)}}const RV=new d.OlP("angularfire2.enableFirestorePersistence"),NV=new d.OlP("angularfire2.firestore.persistenceSettings"),kV=new d.OlP("angularfire2.firestore.settings"),OV=new d.OlP("angularfire2.firestore.use-emulator");function Sk(n,e=(t=>t)){return{query:e(n),ref:n}}let FV=(()=>{class n{constructor(t,r,i,u,c,g,_,S,A,F,Z,ne,de,Ue,je,ft,kt){this.schedulers=_;const Pt=(0,ju.on)(t,g,r),qt=A;F&&wk(Pt,g,Z,de,Ue,je,ne,ft),[this.firestore,this.persistenceEnabled$]=(0,ju.cc)(`${Pt.name}.firestore`,"AngularFirestore",Pt.name,()=>{const fn=g.runOutsideAngular(()=>Pt.firestore());if(u&&fn.settings(u),qt&&fn.useEmulator(...qt),i&&!so(c)){const An=()=>{try{return(0,bn.D)(fn.enablePersistence(S||void 0).then(()=>!0,()=>!1))}catch(Ns){return typeof console<"u"&&console.warn(Ns),mt(!1)}};return[fn,g.runOutsideAngular(An)]}return[fn,mt(!1)]},[u,qt,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=Sk(i,r),g=this.schedulers.ngZone.run(()=>u);return new Dk(g,c,this)}collectionGroup(t,r){const i=r||(c=>c),u=this.firestore.collectionGroup(t);return new PV(i(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new Tk(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(ju.Dh),d.LFG(ju.xv,8),d.LFG(RV,8),d.LFG(kV,8),d.LFG(d.Lbi),d.LFG(d.R0b),d.LFG(Sn.HU),d.LFG(NV,8),d.LFG(OV,8),d.LFG(bk,8),d.LFG(pk,8),d.LFG(gk,8),d.LFG(mk,8),d.LFG(yk,8),d.LFG(vk,8),d.LFG(_k,8),d.LFG(jf,8))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Fx=(()=>{class n{constructor(t,r){this.angularFirestore=t,this.firestoreService=r}guardar(t){const r=aV(this.firestoreService,"productos");return oV(r,{codigo:t.codigo,comestible:t.comestible,descripcion:t.descripcion,paisOrigen:t.paisOrigen,precio:t.precio,stock:t.stock})}traer(){return this.angularFirestore.collection("productos").valueChanges()}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(FV),d.LFG($I))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function LV(n,e){1&n&&(d.TgZ(0,"small",23),d._uU(1," Ingrese un codigo "),d.qZA())}function VV(n,e){1&n&&(d.TgZ(0,"small",23),d._uU(1," Ingresar una descripcion "),d.qZA())}function UV(n,e){1&n&&(d.TgZ(0,"small",23),d._uU(1," Ingrese un precio "),d.qZA())}function BV(n,e){1&n&&(d.TgZ(0,"small",23),d._uU(1," Ingrese el stock "),d.qZA())}function $V(n,e){1&n&&(d.TgZ(0,"small",23),d._uU(1," Seleccionar si es comestible "),d.qZA())}let jV=(()=>{class n{constructor(t,r,i){this.firestoreService=t,this.formBuilder=r,this.router=i,this.producto=new yg(0,"",0,0,{},!1)}ngOnInit(){this.form=this.formBuilder.group({codigo:["",Jp.required],descripcion:["",Jp.required],precio:["",Jp.required],stock:["",Jp.required],comestible:["",Jp.required]})}guardar(){this.form.invalid?Sy().fire({icon:"error",title:"ERROR",text:"Por favor, complete todos los campos del formulario"}):(this.producto.codigo=this.form.value.codigo,this.producto.descripcion=this.form.value.descripcion,this.producto.precio=this.form.value.precio,this.producto.stock=this.form.value.stock,this.producto.comestible=this.form.value.comestible,this.producto.paisOrigen=this.paisRecibido,"si"==this.form.value.comestible?this.producto.comestible=!0:"no"==this.form.value.comestible&&(this.producto.comestible=!1),this.firestoreService.guardar(this.producto).then(()=>{Sy().fire({icon:"success",title:"Guardado correctamente",showConfirmButton:!1,timer:1500})}),this.limpiar())}limpiar(){this.producto=new yg(0,"",0,0,"",!1),this.form.reset(),this.paisRecibido=null}volver(){this.router.navigate(["/bienvenido"])}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fx),d.Y36(b1),d.Y36(Pi))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-form-alta-producto"]],inputs:{paisRecibido:"paisRecibido"},decls:48,vars:7,consts:[[1,"container"],[1,"col-md-7","col-lg-8"],[3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","codigo",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["type","number","formControlName","codigo","required","",1,"form-control"],["style","color: rgb(226, 53, 53);",4,"ngIf"],["for","descripcion",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["type","text","formControlName","descripcion","required","",1,"form-control"],["for","precio",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["type","number","formControlName","precio","required","",1,"form-control"],["for","stock",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["type","number","formControlName","stock","required","",1,"form-control"],["for","comestible",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["id","comestible","formControlName","comestible","required",""],["value",""],["value","si"],["value","no"],["for","paisOrigen",1,"form-label",2,"font-weight","bolder","color","#0e88b8"],["type","text","readonly","",1,"form-control",3,"value"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-lg",2,"color","#000000","background-color","#0e88b8","font-weight","bolder"],[2,"color","rgb(226, 53, 53)"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"main")(2,"div",1)(3,"form",2),d.NdJ("ngSubmit",function(){return r.guardar()}),d.TgZ(4,"div",3)(5,"div",4)(6,"div")(7,"label",5),d._uU(8,"C\xf3digo"),d.qZA(),d._UZ(9,"input",6),d.YNc(10,LV,2,0,"small",7),d.qZA(),d.TgZ(11,"div")(12,"label",8),d._uU(13,"Descripci\xf3n"),d.qZA(),d._UZ(14,"input",9),d.YNc(15,VV,2,0,"small",7),d.qZA()(),d.TgZ(16,"div",4)(17,"div")(18,"label",10),d._uU(19,"Precio"),d.qZA(),d._UZ(20,"input",11),d.YNc(21,UV,2,0,"small",7),d.qZA(),d.TgZ(22,"div")(23,"label",12),d._uU(24,"Stock"),d.qZA(),d._UZ(25,"input",13),d.YNc(26,BV,2,0,"small",7),d.qZA()(),d.TgZ(27,"div",4)(28,"label",14),d._uU(29,"\xbfEs comestible? "),d.qZA(),d._UZ(30,"br"),d.TgZ(31,"select",15)(32,"option",16),d._uU(33,"Seleccione uno"),d.qZA(),d.TgZ(34,"option",17),d._uU(35,"Si"),d.qZA(),d.TgZ(36,"option",18),d._uU(37,"No"),d.qZA()(),d._UZ(38,"br"),d.YNc(39,$V,2,0,"small",7),d.qZA(),d.TgZ(40,"div",4)(41,"label",19),d._uU(42,"Pa\xeds Origen"),d.qZA(),d._UZ(43,"input",20)(44,"br"),d.qZA(),d._UZ(45,"hr",21),d.TgZ(46,"button",22),d._uU(47," Guardar "),d.qZA()()()()()()),2&t&&(d.xp6(3),d.Q6J("formGroup",r.form),d.xp6(7),d.Q6J("ngIf",(null==r.form.controls.codigo.errors?null:r.form.controls.codigo.errors.required)&&r.form.controls.codigo.touched),d.xp6(5),d.Q6J("ngIf",(null==r.form.controls.descripcion.errors?null:r.form.controls.descripcion.errors.required)&&r.form.controls.descripcion.touched),d.xp6(6),d.Q6J("ngIf",(null==r.form.controls.precio.errors?null:r.form.controls.precio.errors.required)&&r.form.controls.precio.touched),d.xp6(5),d.Q6J("ngIf",(null==r.form.controls.stock.errors?null:r.form.controls.stock.errors.required)&&r.form.controls.stock.touched),d.xp6(13),d.Q6J("ngIf",(null==r.form.controls.comestible.errors?null:r.form.controls.comestible.errors.required)&&r.form.controls.comestible.touched),d.xp6(4),d.Q6J("value",null==r.paisRecibido?null:r.paisRecibido.name.common))},dependencies:[Ci,og,X0,tb,_f,rv,pg,ng,M0,nh,th,fg]}),n})(),HV=(()=>{class n{clickListado(t){this.paisSeleccionado=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-alta-producto"]],decls:15,vars:1,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[3,"botonClickeado"],[1,"col-md-7","col-lg-8"],[1,"mb-3"],[3,"paisRecibido"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),d._uU(4,"ALTA PRODUCTO"),d.qZA()(),d.TgZ(5,"div",2)(6,"div",3)(7,"h4",4)(8,"span",5),d._uU(9,"SELECCIONAR PAIS:"),d.qZA()(),d.TgZ(10,"app-listado-paises",6),d.NdJ("botonClickeado",function(u){return r.clickListado(u)}),d.qZA()(),d.TgZ(11,"div",7)(12,"h4",8),d._uU(13,"INGRESAR LOS DATOS:"),d.qZA(),d._UZ(14,"app-form-alta-producto",9),d.qZA()()()()),2&t&&(d.xp6(14),d.Q6J("paisRecibido",r.paisSeleccionado))},dependencies:[pb,jV]}),n})(),Ak=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.swalService=i}canActivate(t,r){return this.userService.seLogueo?(console.log("Usuario Logueado CanActivate"),!0):(console.log("Usuario No Logueado CanActivate"),this.swalService.crearSwal("DEBE LOGUEARSE PRIMERO","Inicie sesi\xf3n","warning"),this.router.navigate(["/login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(d.LFG(Ay),d.LFG(Pi),d.LFG(I0))},n.\u0275prov=d.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zV(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"tr")(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td")(8,"button",4),d.NdJ("click",function(){const u=d.CHM(t).$implicit,c=d.oxw();return d.KtG(c.pasarProducto(u))}),d._uU(9,"Detalles"),d.qZA()()()}if(2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.codigo),d.xp6(2),d.Oqu(t.descripcion),d.xp6(2),d.Oqu(t.precio)}}let GV=(()=>{class n{constructor(t){this.firestoreService=t,this.enviarProducto=new d.vpe,this.listadoProductos=[]}ngOnInit(){this.firestoreService.traer().subscribe(t=>{null!=t&&(this.listadoProductos=t)})}pasarProducto(t){this.enviarProducto.emit(t)}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-listado-producto"]],outputs:{enviarProducto:"enviarProducto"},decls:14,vars:1,consts:[[1,"tabla-container"],[1,"table","table-striped","centrado"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2),d._uU(5,"CODIGO"),d.qZA(),d.TgZ(6,"th",2),d._uU(7,"DESCRIPCI\xd3N"),d.qZA(),d.TgZ(8,"th",2),d._uU(9,"PRECIO"),d.qZA(),d.TgZ(10,"th",2),d._uU(11,"M\xc1S DETALLES"),d.qZA()()(),d.TgZ(12,"tbody"),d.YNc(13,zV,10,3,"tr",3),d.qZA()()()),2&t&&(d.xp6(13),d.Q6J("ngForOf",r.listadoProductos))},dependencies:[gs],styles:[".tabla-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin-top:20px}th[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{text-align:center}"]}),n})(),qV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-informacion-producto"]],inputs:{productoRecibido:"productoRecibido"},decls:13,vars:6,template:function(t,r){1&t&&(d.TgZ(0,"div")(1,"p"),d._uU(2),d.qZA(),d.TgZ(3,"p"),d._uU(4),d.qZA(),d.TgZ(5,"p"),d._uU(6),d.qZA(),d.TgZ(7,"p"),d._uU(8),d.qZA(),d.TgZ(9,"p"),d._uU(10),d.qZA(),d.TgZ(11,"p"),d._uU(12),d.qZA()()),2&t&&(d.xp6(2),d.hij("C\xd3DIGO: ",null==r.productoRecibido?null:r.productoRecibido.codigo,""),d.xp6(2),d.hij("DESCRIPCI\xd3N: ",null==r.productoRecibido?null:r.productoRecibido.descripcion,""),d.xp6(2),d.hij("PRECIO: ",null==r.productoRecibido?null:r.productoRecibido.precio,""),d.xp6(2),d.hij("STOCK: ",null==r.productoRecibido?null:r.productoRecibido.stock,""),d.xp6(2),d.hij("PAIS: ",null==r.productoRecibido?null:r.productoRecibido.paisOrigen.name.common,""),d.xp6(2),d.hij("COMESTIBLE: ",null!=r.productoRecibido&&r.productoRecibido.comestible?"SI":"NO",""))}}),n})(),WV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-informacion-pais"]],inputs:{paisRecibido:"paisRecibido"},decls:9,vars:5,consts:[["alt","",2,"width","100px","display","block","margin-right","auto","margin-left","auto","margin-top","1rem","margin-bottom","1rem",3,"src"]],template:function(t,r){1&t&&(d.TgZ(0,"p"),d._uU(1),d.qZA(),d.TgZ(2,"p"),d._uU(3),d.qZA(),d.TgZ(4,"p"),d._uU(5),d.qZA(),d.TgZ(6,"p"),d._uU(7),d.qZA(),d._UZ(8,"img",0)),2&t&&(d.xp6(1),d.hij("Pais: ",null==r.paisRecibido?null:r.paisRecibido.name.common,""),d.xp6(2),d.hij("Capital: ",null==r.paisRecibido?null:r.paisRecibido.capital,""),d.xp6(2),d.hij("Regi\xf3n: ",null==r.paisRecibido?null:r.paisRecibido.region,""),d.xp6(2),d.hij("Poblaci\xf3n: ",null==r.paisRecibido?null:r.paisRecibido.population,""),d.xp6(1),d.s9C("src",null==r.paisRecibido?null:r.paisRecibido.flags.png,d.LSH))}}),n})(),ZV=(()=>{class n{constructor(){this.productoActivo=new yg(0,"",0,0,{},!1)}productoSeleccionado(t){this.productoActivo=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-producto-detalle"]],decls:25,vars:2,consts:[[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],["href","/",1,"d-flex","align-items-center","text-dark","text-decoration-none"],["xmlns","http://www.w3.org/2000/svg","width","40","height","32","viewBox","0 0 118 94","role","img",1,"me-2"],["fill-rule","evenodd","clip-rule","evenodd","d","M24.509 0c-6.733 0-11.715 5.893-11.492 12.284.214 6.14-.064 14.092-2.066 20.577C8.943 39.365 5.547 43.485 0 44.014v5.972c5.547.529 8.943 4.649 10.951 11.153 2.002 6.485 2.28 14.437 2.066 20.577C12.794 88.106 17.776 94 24.51 94H93.5c6.733 0 11.714-5.893 11.491-12.284-.214-6.14.064-14.092 2.066-20.577 2.009-6.504 5.396-10.624 10.943-11.153v-5.972c-5.547-.529-8.934-4.649-10.943-11.153-2.002-6.484-2.28-14.437-2.066-20.577C105.214 5.894 100.233 0 93.5 0H24.508zM80 57.863C80 66.663 73.436 72 62.543 72H44a2 2 0 01-2-2V24a2 2 0 012-2h18.437c9.083 0 15.044 4.92 15.044 12.474 0 5.302-4.01 10.049-9.119 10.88v.277C75.317 46.394 80 51.21 80 57.863zM60.521 28.34H49.948v14.934h8.905c6.884 0 10.68-2.772 10.68-7.727 0-4.643-3.264-7.207-9.012-7.207zM49.948 49.2v16.458H60.91c7.167 0 10.964-2.876 10.964-8.281 0-5.406-3.903-8.178-11.425-8.178H49.948z","fill","currentColor"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[1,"display-5","fw-bold"],[3,"enviarProducto"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-bg-dark","rounded-3"],[3,"productoRecibido"],[1,"h-100","p-5","bg-light","border","rounded-3"],[3,"paisRecibido"]],template:function(t,r){1&t&&(d.TgZ(0,"div",0)(1,"header",1)(2,"a",2),d.O4$(),d.TgZ(3,"svg",3)(4,"title"),d._uU(5,"Bootstrap"),d.qZA(),d._UZ(6,"path",4),d.qZA(),d.kcU(),d.TgZ(7,"span",5),d._uU(8,"DETALLE DE PRODUCTOS"),d.qZA()()(),d.TgZ(9,"div",6)(10,"div",7)(11,"h1",8),d._uU(12,"LISTADO DE PRODUCTOS"),d.qZA(),d.TgZ(13,"app-listado-producto",9),d.NdJ("enviarProducto",function(u){return r.productoSeleccionado(u)}),d.qZA()()(),d.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"h2"),d._uU(18,"DETALLE PRODUCTO"),d.qZA(),d._UZ(19,"app-informacion-producto",13),d.qZA()(),d.TgZ(20,"div",11)(21,"div",14)(22,"h2"),d._uU(23,"DATOS PAIS PRODUCTO"),d.qZA(),d._UZ(24,"app-informacion-pais",15),d.qZA()()()()),2&t&&(d.xp6(19),d.Q6J("productoRecibido",r.productoActivo),d.xp6(5),d.Q6J("paisRecibido",r.productoActivo.paisOrigen))},dependencies:[GV,qV,WV]}),n})();function KV(n,e){if(1&n&&(d.TgZ(0,"tr",3)(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._uU(4),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA()()),2&n){const t=e.$implicit;d.xp6(2),d.Oqu(t.codigo),d.xp6(2),d.Oqu(t.descripcion),d.xp6(2),d.Oqu(t.precio),d.xp6(2),d.Oqu(t.stock)}}const YV=[{path:"listado-publico",component:(()=>{class n{constructor(t){this.firestoreService=t,this.listadoProductos=[],this.listadoPublico=[]}ngOnInit(){this.firestoreService.traer().subscribe(t=>{null!=t&&(this.listadoProductos=t,this.listadoPublico=this.listadoProductos.filter(r=>r.stock>0))})}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Fx))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-listado-publico"]],decls:13,vars:1,consts:[[1,"table","table-hover"],["scope","col"],["style","cursor: pointer",4,"ngFor","ngForOf"],[2,"cursor","pointer"]],template:function(t,r){1&t&&(d.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),d._uU(4,"C\xf3digo"),d.qZA(),d.TgZ(5,"th",1),d._uU(6,"Descripci\xf3n"),d.qZA(),d.TgZ(7,"th",1),d._uU(8,"Precio"),d.qZA(),d.TgZ(9,"th",1),d._uU(10,"Stock"),d.qZA()()(),d.TgZ(11,"tbody"),d.YNc(12,KV,9,4,"tr",2),d.qZA()()),2&t&&(d.xp6(12),d.Q6J("ngForOf",r.listadoPublico))},dependencies:[gs]}),n})()},{path:"producto-detalle",component:ZV,canActivate:[Ak]},{path:"alta-producto",component:HV,canActivate:[Ak]},{path:"bienvenido",component:iD},{path:"login",component:Br},{path:"",redirectTo:"/bienvenido",pathMatch:"full"}];let QV=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n}),n.\u0275inj=d.cJS({imports:[HC.forRoot(YV),HC]}),n})();const Lx_firebase={projectId:"pplab4-2a994",appId:"1:436684492245:web:15a389157e481cce28415c",storageBucket:"pplab4-2a994.appspot.com",apiKey:"AIzaSyA5SfBkDMXjaElgHQEoEVQ6i7Hqp4xB5Ng",authDomain:"pplab4-2a994.firebaseapp.com",messagingSenderId:"436684492245"};function JV(n,e){if(1&n){const t=d.EpF();d.TgZ(0,"button",16),d.NdJ("click",function(){d.CHM(t);const i=d.oxw();return d.KtG(i.cerrar())}),d._uU(1,"Cerrar Sesi\xf3n"),d.qZA()}}let XV=(()=>{class n{constructor(t){this.userService=t}cerrar(){this.userService.logout()}}return n.\u0275fac=function(t){return new(t||n)(d.Y36(Ay))},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-navbar"]],decls:31,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],["href","#",1,"navbar-brand"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],[1,"nav-item"],["routerLink","/bienvenido",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu"],["routerLink","/login",1,"dropdown-item"],["routerLink","/alta-producto",1,"dropdown-item"],["routerLink","/producto-detalle",1,"dropdown-item"],["routerLink","/listado-publico",1,"dropdown-item"],["class","btn btn-outline-danger",3,"click",4,"ngIf"],[1,"btn","btn-outline-danger",3,"click"]],template:function(t,r){1&t&&(d.TgZ(0,"nav",0)(1,"a",1),d._uU(2,"Celeste Cisternas 4to A"),d.qZA(),d.TgZ(3,"button",2),d._UZ(4,"span",3),d.qZA(),d.TgZ(5,"div",4)(6,"ul",5)(7,"li",6)(8,"a",7),d._uU(9,"Bienvenido"),d.qZA()(),d.TgZ(10,"li",8)(11,"a",9),d._uU(12," Usuario "),d.qZA(),d.TgZ(13,"ul",10)(14,"li")(15,"a",11),d._uU(16,"Ingresar"),d.qZA()()()(),d.TgZ(17,"li",8)(18,"a",9),d._uU(19," Productos "),d.qZA(),d.TgZ(20,"ul",10)(21,"li")(22,"a",12),d._uU(23,"Alta"),d.qZA()(),d.TgZ(24,"li")(25,"a",13),d._uU(26,"Listado"),d.qZA()(),d.TgZ(27,"li")(28,"a",14),d._uU(29,"Listado Publico"),d.qZA()()()()(),d.YNc(30,JV,2,0,"button",15),d.qZA()()),2&t&&(d.xp6(30),d.Q6J("ngIf",r.userService.seLogueo))},dependencies:[Ci,Gp],styles:[".navclass[_ngcontent-%COMP%]{font-family:Fruinky,sans-serif;font-size:25px;display:flex;align-items:center}.nav-icon[_ngcontent-%COMP%]{margin-right:10px}.navdiv[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}"]}),n})(),eU=(()=>{class n{constructor(){this.title="PP.LAB4.CisternasCeleste",Yp.Z.initializeApp(Lx_firebase)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=d.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&d._UZ(0,"app-navbar")(1,"router-outlet")},dependencies:[Bm,XV]}),n})(),tU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=d.oAB({type:n,bootstrap:[eU]}),n.\u0275inj=d.cJS({imports:[Sa,QV,vf,ND,rh,ju.hO.initializeApp(Lx_firebase),mb(()=>Pf(Lx_firebase)),dT(()=>Zb()),sV(()=>uV())]}),n})();Lh().bootstrapModule(tU).catch(n=>console.error(n))},9751:(Dt,ce,$)=>{"use strict";$.d(ce,{y:()=>ve});var d=$(2961),N=$(727),L=$(8822),ie=$(9635),le=$(2416),ae=$(576),me=$(2806);let ve=(()=>{class te{constructor(Pe){Pe&&(this._subscribe=Pe)}lift(Pe){const Ye=new te;return Ye.source=this,Ye.operator=Pe,Ye}subscribe(Pe,Ye,Qe){const we=function W(te){return te&&te instanceof d.Lv||function K(te){return te&&(0,ae.m)(te.next)&&(0,ae.m)(te.error)&&(0,ae.m)(te.complete)}(te)&&(0,N.Nn)(te)}(Pe)?Pe:new d.Hp(Pe,Ye,Qe);return(0,me.x)(()=>{const{operator:Ae,source:be}=this;we.add(Ae?Ae.call(we,be):be?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Pe){try{return this._subscribe(Pe)}catch(Ye){Pe.error(Ye)}}forEach(Pe,Ye){return new(Ye=Ce(Ye))((Qe,we)=>{const Ae=new d.Hp({next:be=>{try{Pe(be)}catch(He){we(He),Ae.unsubscribe()}},error:we,complete:Qe});this.subscribe(Ae)})}_subscribe(Pe){var Ye;return null===(Ye=this.source)||void 0===Ye?void 0:Ye.subscribe(Pe)}[L.L](){return this}pipe(...Pe){return(0,ie.U)(Pe)(this)}toPromise(Pe){return new(Pe=Ce(Pe))((Ye,Qe)=>{let we;this.subscribe(Ae=>we=Ae,Ae=>Qe(Ae),()=>Ye(we))})}}return te.create=ze=>new te(ze),te})();function Ce(te){var ze;return null!==(ze=te??le.v.Promise)&&void 0!==ze?ze:Promise}},7579:(Dt,ce,$)=>{"use strict";$.d(ce,{x:()=>me});var d=$(9751),N=$(727);const ie=(0,$(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=$(8737),ae=$(2806);let me=(()=>{class Ce extends d.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const te=new ve(this,this);return te.operator=W,te}_throwIfClosed(){if(this.closed)throw new ie}next(W){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(W)}})}error(W){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:te}=this;for(;te.length;)te.shift().error(W)}})}complete(){(0,ae.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:te,isStopped:ze,observers:Pe}=this;return te||ze?N.Lc:(this.currentObservers=null,Pe.push(W),new N.w0(()=>{this.currentObservers=null,(0,le.P)(Pe,W)}))}_checkFinalizedStatuses(W){const{hasError:te,thrownError:ze,isStopped:Pe}=this;te?W.error(ze):Pe&&W.complete()}asObservable(){const W=new d.y;return W.source=this,W}}return Ce.create=(K,W)=>new ve(K,W),Ce})();class ve extends me{constructor(K,W){super(),this.destination=K,this.source=W}next(K){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===te||te.call(W,K)}error(K){var W,te;null===(te=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===te||te.call(W,K)}complete(){var K,W;null===(W=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===W||W.call(K)}_subscribe(K){var W,te;return null!==(te=null===(W=this.source)||void 0===W?void 0:W.subscribe(K))&&void 0!==te?te:N.Lc}}},2961:(Dt,ce,$)=>{"use strict";$.d(ce,{Hp:()=>Qe,Lv:()=>te});var d=$(576),N=$(727),L=$(2416),ie=$(7849);function le(){}const ae=Ce("C",void 0,void 0);function Ce(Re,xe,Ne){return{kind:Re,value:xe,error:Ne}}var K=$(3410),W=$(2806);class te extends N.w0{constructor(xe){super(),this.isStopped=!1,xe?(this.destination=xe,(0,N.Nn)(xe)&&xe.add(this)):this.destination=He}static create(xe,Ne,qe){return new Qe(xe,Ne,qe)}next(xe){this.isStopped?be(function ve(Re){return Ce("N",Re,void 0)}(xe),this):this._next(xe)}error(xe){this.isStopped?be(function me(Re){return Ce("E",void 0,Re)}(xe),this):(this.isStopped=!0,this._error(xe))}complete(){this.isStopped?be(ae,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(xe){this.destination.next(xe)}_error(xe){try{this.destination.error(xe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Pe(Re,xe){return ze.call(Re,xe)}class Ye{constructor(xe){this.partialObserver=xe}next(xe){const{partialObserver:Ne}=this;if(Ne.next)try{Ne.next(xe)}catch(qe){we(qe)}}error(xe){const{partialObserver:Ne}=this;if(Ne.error)try{Ne.error(xe)}catch(qe){we(qe)}else we(xe)}complete(){const{partialObserver:xe}=this;if(xe.complete)try{xe.complete()}catch(Ne){we(Ne)}}}class Qe extends te{constructor(xe,Ne,qe){let Ve;if(super(),(0,d.m)(xe)||!xe)Ve={next:xe??void 0,error:Ne??void 0,complete:qe??void 0};else{let oe;this&&L.v.useDeprecatedNextContext?(oe=Object.create(xe),oe.unsubscribe=()=>this.unsubscribe(),Ve={next:xe.next&&Pe(xe.next,oe),error:xe.error&&Pe(xe.error,oe),complete:xe.complete&&Pe(xe.complete,oe)}):Ve=xe}this.destination=new Ye(Ve)}}function we(Re){L.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Re):(0,ie.h)(Re)}function be(Re,xe){const{onStoppedNotification:Ne}=L.v;Ne&&K.z.setTimeout(()=>Ne(Re,xe))}const He={closed:!0,next:le,error:function Ae(Re){throw Re},complete:le}},727:(Dt,ce,$)=>{"use strict";$.d(ce,{Lc:()=>ae,w0:()=>le,Nn:()=>me});var d=$(576);const L=(0,$(3888).d)(Ce=>function(W){Ce(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((te,ze)=>`${ze+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ie=$(8737);class le{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Pe of W)Pe.remove(this);else W.remove(this);const{initialTeardown:te}=this;if((0,d.m)(te))try{te()}catch(Pe){K=Pe instanceof L?Pe.errors:[Pe]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Pe of ze)try{ve(Pe)}catch(Ye){K=K??[],Ye instanceof L?K=[...K,...Ye.errors]:K.push(Ye)}}if(K)throw new L(K)}}add(K){var W;if(K&&K!==this)if(this.closed)ve(K);else{if(K instanceof le){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(K)}}_hasParent(K){const{_parentage:W}=this;return W===K||Array.isArray(W)&&W.includes(K)}_addParent(K){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(K),W):W?[W,K]:K}_removeParent(K){const{_parentage:W}=this;W===K?this._parentage=null:Array.isArray(W)&&(0,ie.P)(W,K)}remove(K){const{_finalizers:W}=this;W&&(0,ie.P)(W,K),K instanceof le&&K._removeParent(this)}}le.EMPTY=(()=>{const Ce=new le;return Ce.closed=!0,Ce})();const ae=le.EMPTY;function me(Ce){return Ce instanceof le||Ce&&"closed"in Ce&&(0,d.m)(Ce.remove)&&(0,d.m)(Ce.add)&&(0,d.m)(Ce.unsubscribe)}function ve(Ce){(0,d.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Dt,ce,$)=>{"use strict";$.d(ce,{v:()=>d});const d={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Dt,ce,$)=>{"use strict";$.d(ce,{E:()=>N});const N=new($(9751).y)(le=>le.complete())},8996:(Dt,ce,$)=>{"use strict";$.d(ce,{D:()=>xe});var d=$(8421),N=$(5363),L=$(9468),ae=$(9751),ve=$(2202),Ce=$(576),K=$(9672);function te(Ne,qe){if(!Ne)throw new Error("Iterable cannot be null");return new ae.y(Ve=>{(0,K.f)(Ve,qe,()=>{const oe=Ne[Symbol.asyncIterator]();(0,K.f)(Ve,qe,()=>{oe.next().then(et=>{et.done?Ve.complete():Ve.next(et.value)})},0,!0)})})}var ze=$(3670),Pe=$(8239),Ye=$(1144),Qe=$(6495),we=$(2206),Ae=$(4532),be=$(3260);function xe(Ne,qe){return qe?function Re(Ne,qe){if(null!=Ne){if((0,ze.c)(Ne))return function ie(Ne,qe){return(0,d.Xf)(Ne).pipe((0,L.R)(qe),(0,N.Q)(qe))}(Ne,qe);if((0,Ye.z)(Ne))return function me(Ne,qe){return new ae.y(Ve=>{let oe=0;return qe.schedule(function(){oe===Ne.length?Ve.complete():(Ve.next(Ne[oe++]),Ve.closed||this.schedule())})})}(Ne,qe);if((0,Pe.t)(Ne))return function le(Ne,qe){return(0,d.Xf)(Ne).pipe((0,L.R)(qe),(0,N.Q)(qe))}(Ne,qe);if((0,we.D)(Ne))return te(Ne,qe);if((0,Qe.T)(Ne))return function W(Ne,qe){return new ae.y(Ve=>{let oe;return(0,K.f)(Ve,qe,()=>{oe=Ne[ve.h](),(0,K.f)(Ve,qe,()=>{let et,Et;try{({value:et,done:Et}=oe.next())}catch(rt){return void Ve.error(rt)}Et?Ve.complete():Ve.next(et)},0,!0)}),()=>(0,Ce.m)(oe?.return)&&oe.return()})}(Ne,qe);if((0,be.L)(Ne))return function He(Ne,qe){return te((0,be.Q)(Ne),qe)}(Ne,qe)}throw(0,Ae.z)(Ne)}(Ne,qe):(0,d.Xf)(Ne)}},8421:(Dt,ce,$)=>{"use strict";$.d(ce,{Xf:()=>ze});var d=$(655),N=$(1144),L=$(8239),ie=$(9751),le=$(3670),ae=$(2206),me=$(4532),ve=$(6495),Ce=$(3260),K=$(576),W=$(7849),te=$(8822);function ze(Re){if(Re instanceof ie.y)return Re;if(null!=Re){if((0,le.c)(Re))return function Pe(Re){return new ie.y(xe=>{const Ne=Re[te.L]();if((0,K.m)(Ne.subscribe))return Ne.subscribe(xe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,N.z)(Re))return function Ye(Re){return new ie.y(xe=>{for(let Ne=0;Ne<Re.length&&!xe.closed;Ne++)xe.next(Re[Ne]);xe.complete()})}(Re);if((0,L.t)(Re))return function Qe(Re){return new ie.y(xe=>{Re.then(Ne=>{xe.closed||(xe.next(Ne),xe.complete())},Ne=>xe.error(Ne)).then(null,W.h)})}(Re);if((0,ae.D)(Re))return Ae(Re);if((0,ve.T)(Re))return function we(Re){return new ie.y(xe=>{for(const Ne of Re)if(xe.next(Ne),xe.closed)return;xe.complete()})}(Re);if((0,Ce.L)(Re))return function be(Re){return Ae((0,Ce.Q)(Re))}(Re)}throw(0,me.z)(Re)}function Ae(Re){return new ie.y(xe=>{(function He(Re,xe){var Ne,qe,Ve,oe;return(0,d.mG)(this,void 0,void 0,function*(){try{for(Ne=(0,d.KL)(Re);!(qe=yield Ne.next()).done;)if(xe.next(qe.value),xe.closed)return}catch(et){Ve={error:et}}finally{try{qe&&!qe.done&&(oe=Ne.return)&&(yield oe.call(Ne))}finally{if(Ve)throw Ve.error}}xe.complete()})})(Re,xe).catch(Ne=>xe.error(Ne))})}},6451:(Dt,ce,$)=>{"use strict";$.d(ce,{T:()=>ae});var d=$(8189),N=$(8421),L=$(515),ie=$(7669),le=$(8996);function ae(...me){const ve=(0,ie.yG)(me),Ce=(0,ie._6)(me,1/0),K=me;return K.length?1===K.length?(0,N.Xf)(K[0]):(0,d.J)(Ce)((0,le.D)(K,ve)):L.E}},5403:(Dt,ce,$)=>{"use strict";$.d(ce,{x:()=>N});var d=$(2961);function N(ie,le,ae,me,ve){return new L(ie,le,ae,me,ve)}class L extends d.Lv{constructor(le,ae,me,ve,Ce,K){super(le),this.onFinalize=Ce,this.shouldUnsubscribe=K,this._next=ae?function(W){try{ae(W)}catch(te){le.error(te)}}:super._next,this._error=ve?function(W){try{ve(W)}catch(te){le.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=me?function(){try{me()}catch(W){le.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ae}=this;super.unsubscribe(),!ae&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(Dt,ce,$)=>{"use strict";$.d(ce,{U:()=>L});var d=$(4482),N=$(5403);function L(ie,le){return(0,d.e)((ae,me)=>{let ve=0;ae.subscribe((0,N.x)(me,Ce=>{me.next(ie.call(le,Ce,ve++))}))})}},8189:(Dt,ce,$)=>{"use strict";$.d(ce,{J:()=>L});var d=$(5577),N=$(4671);function L(ie=1/0){return(0,d.z)(N.y,ie)}},5577:(Dt,ce,$)=>{"use strict";$.d(ce,{z:()=>ve});var d=$(4004),N=$(8421),L=$(4482),ie=$(9672),le=$(5403),me=$(576);function ve(Ce,K,W=1/0){return(0,me.m)(K)?ve((te,ze)=>(0,d.U)((Pe,Ye)=>K(te,Pe,ze,Ye))((0,N.Xf)(Ce(te,ze))),W):("number"==typeof K&&(W=K),(0,L.e)((te,ze)=>function ae(Ce,K,W,te,ze,Pe,Ye,Qe){const we=[];let Ae=0,be=0,He=!1;const Re=()=>{He&&!we.length&&!Ae&&K.complete()},xe=qe=>Ae<te?Ne(qe):we.push(qe),Ne=qe=>{Pe&&K.next(qe),Ae++;let Ve=!1;(0,N.Xf)(W(qe,be++)).subscribe((0,le.x)(K,oe=>{ze?.(oe),Pe?xe(oe):K.next(oe)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Ae--;we.length&&Ae<te;){const oe=we.shift();Ye?(0,ie.f)(K,Ye,()=>Ne(oe)):Ne(oe)}Re()}catch(oe){K.error(oe)}}))};return Ce.subscribe((0,le.x)(K,xe,()=>{He=!0,Re()})),()=>{Qe?.()}}(te,ze,Ce,W)))}},5363:(Dt,ce,$)=>{"use strict";$.d(ce,{Q:()=>ie});var d=$(9672),N=$(4482),L=$(5403);function ie(le,ae=0){return(0,N.e)((me,ve)=>{me.subscribe((0,L.x)(ve,Ce=>(0,d.f)(ve,le,()=>ve.next(Ce),ae),()=>(0,d.f)(ve,le,()=>ve.complete(),ae),Ce=>(0,d.f)(ve,le,()=>ve.error(Ce),ae)))})}},3099:(Dt,ce,$)=>{"use strict";$.d(ce,{B:()=>le});var d=$(8421),N=$(7579),L=$(2961),ie=$(4482);function le(me={}){const{connector:ve=(()=>new N.x),resetOnError:Ce=!0,resetOnComplete:K=!0,resetOnRefCountZero:W=!0}=me;return te=>{let ze,Pe,Ye,Qe=0,we=!1,Ae=!1;const be=()=>{Pe?.unsubscribe(),Pe=void 0},He=()=>{be(),ze=Ye=void 0,we=Ae=!1},Re=()=>{const xe=ze;He(),xe?.unsubscribe()};return(0,ie.e)((xe,Ne)=>{Qe++,!Ae&&!we&&be();const qe=Ye=Ye??ve();Ne.add(()=>{Qe--,0===Qe&&!Ae&&!we&&(Pe=ae(Re,W))}),qe.subscribe(Ne),!ze&&Qe>0&&(ze=new L.Hp({next:Ve=>qe.next(Ve),error:Ve=>{Ae=!0,be(),Pe=ae(He,Ce,Ve),qe.error(Ve)},complete:()=>{we=!0,be(),Pe=ae(He,K),qe.complete()}}),(0,d.Xf)(xe).subscribe(ze))})(te)}}function ae(me,ve,...Ce){if(!0===ve)return void me();if(!1===ve)return;const K=new L.Hp({next:()=>{K.unsubscribe(),me()}});return(0,d.Xf)(ve(...Ce)).subscribe(K)}},9468:(Dt,ce,$)=>{"use strict";$.d(ce,{R:()=>N});var d=$(4482);function N(L,ie=0){return(0,d.e)((le,ae)=>{ae.add(L.schedule(()=>le.subscribe(ae),ie))})}},8505:(Dt,ce,$)=>{"use strict";$.d(ce,{b:()=>le});var d=$(576),N=$(4482),L=$(5403),ie=$(4671);function le(ae,me,ve){const Ce=(0,d.m)(ae)||me||ve?{next:ae,error:me,complete:ve}:ae;return Ce?(0,N.e)((K,W)=>{var te;null===(te=Ce.subscribe)||void 0===te||te.call(Ce);let ze=!0;K.subscribe((0,L.x)(W,Pe=>{var Ye;null===(Ye=Ce.next)||void 0===Ye||Ye.call(Ce,Pe),W.next(Pe)},()=>{var Pe;ze=!1,null===(Pe=Ce.complete)||void 0===Pe||Pe.call(Ce),W.complete()},Pe=>{var Ye;ze=!1,null===(Ye=Ce.error)||void 0===Ye||Ye.call(Ce,Pe),W.error(Pe)},()=>{var Pe,Ye;ze&&(null===(Pe=Ce.unsubscribe)||void 0===Pe||Pe.call(Ce)),null===(Ye=Ce.finalize)||void 0===Ye||Ye.call(Ce)}))}):ie.y}},4408:(Dt,ce,$)=>{"use strict";$.d(ce,{o:()=>le});var d=$(727);class N extends d.w0{constructor(me,ve){super()}schedule(me,ve=0){return this}}const L={setInterval(ae,me,...ve){const{delegate:Ce}=L;return Ce?.setInterval?Ce.setInterval(ae,me,...ve):setInterval(ae,me,...ve)},clearInterval(ae){const{delegate:me}=L;return(me?.clearInterval||clearInterval)(ae)},delegate:void 0};var ie=$(8737);class le extends N{constructor(me,ve){super(me,ve),this.scheduler=me,this.work=ve,this.pending=!1}schedule(me,ve=0){var Ce;if(this.closed)return this;this.state=me;const K=this.id,W=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(W,K,ve)),this.pending=!0,this.delay=ve,this.id=null!==(Ce=this.id)&&void 0!==Ce?Ce:this.requestAsyncId(W,this.id,ve),this}requestAsyncId(me,ve,Ce=0){return L.setInterval(me.flush.bind(me,this),Ce)}recycleAsyncId(me,ve,Ce=0){if(null!=Ce&&this.delay===Ce&&!1===this.pending)return ve;null!=ve&&L.clearInterval(ve)}execute(me,ve){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Ce=this._execute(me,ve);if(Ce)return Ce;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(me,ve){let K,Ce=!1;try{this.work(me)}catch(W){Ce=!0,K=W||new Error("Scheduled action threw falsy error")}if(Ce)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:me,scheduler:ve}=this,{actions:Ce}=ve;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ie.P)(Ce,this),null!=me&&(this.id=this.recycleAsyncId(ve,me,null)),this.delay=null,super.unsubscribe()}}}},7565:(Dt,ce,$)=>{"use strict";$.d(ce,{v:()=>L});var d=$(6063);class N{constructor(le,ae=N.now){this.schedulerActionCtor=le,this.now=ae}schedule(le,ae=0,me){return new this.schedulerActionCtor(this,le).schedule(me,ae)}}N.now=d.l.now;class L extends N{constructor(le,ae=N.now){super(le,ae),this.actions=[],this._active=!1}flush(le){const{actions:ae}=this;if(this._active)return void ae.push(le);let me;this._active=!0;do{if(me=le.execute(le.state,le.delay))break}while(le=ae.shift());if(this._active=!1,me){for(;le=ae.shift();)le.unsubscribe();throw me}}}},4986:(Dt,ce,$)=>{"use strict";$.d(ce,{z:()=>L});var d=$(4408);const L=new($(7565).v)(d.o)},6063:(Dt,ce,$)=>{"use strict";$.d(ce,{l:()=>d});const d={now:()=>(d.delegate||Date).now(),delegate:void 0}},3410:(Dt,ce,$)=>{"use strict";$.d(ce,{z:()=>d});const d={setTimeout(N,L,...ie){const{delegate:le}=d;return le?.setTimeout?le.setTimeout(N,L,...ie):setTimeout(N,L,...ie)},clearTimeout(N){const{delegate:L}=d;return(L?.clearTimeout||clearTimeout)(N)},delegate:void 0}},2202:(Dt,ce,$)=>{"use strict";$.d(ce,{h:()=>N});const N=function d(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Dt,ce,$)=>{"use strict";$.d(ce,{L:()=>d});const d="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(Dt,ce,$)=>{"use strict";$.d(ce,{_6:()=>ae,jO:()=>ie,yG:()=>le});var d=$(576);function L(me){return me[me.length-1]}function ie(me){return(0,d.m)(L(me))?me.pop():void 0}function le(me){return function N(me){return me&&(0,d.m)(me.schedule)}(L(me))?me.pop():void 0}function ae(me,ve){return"number"==typeof L(me)?me.pop():ve}},8737:(Dt,ce,$)=>{"use strict";function d(N,L){if(N){const ie=N.indexOf(L);0<=ie&&N.splice(ie,1)}}$.d(ce,{P:()=>d})},3888:(Dt,ce,$)=>{"use strict";function d(N){const ie=N(le=>{Error.call(le),le.stack=(new Error).stack});return ie.prototype=Object.create(Error.prototype),ie.prototype.constructor=ie,ie}$.d(ce,{d:()=>d})},2806:(Dt,ce,$)=>{"use strict";$.d(ce,{O:()=>ie,x:()=>L});var d=$(2416);let N=null;function L(le){if(d.v.useDeprecatedSynchronousErrorHandling){const ae=!N;if(ae&&(N={errorThrown:!1,error:null}),le(),ae){const{errorThrown:me,error:ve}=N;if(N=null,me)throw ve}}else le()}function ie(le){d.v.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=le)}},9672:(Dt,ce,$)=>{"use strict";function d(N,L,ie,le=0,ae=!1){const me=L.schedule(function(){ie(),ae?N.add(this.schedule(null,le)):this.unsubscribe()},le);if(N.add(me),!ae)return me}$.d(ce,{f:()=>d})},4671:(Dt,ce,$)=>{"use strict";function d(N){return N}$.d(ce,{y:()=>d})},1144:(Dt,ce,$)=>{"use strict";$.d(ce,{z:()=>d});const d=N=>N&&"number"==typeof N.length&&"function"!=typeof N},2206:(Dt,ce,$)=>{"use strict";$.d(ce,{D:()=>N});var d=$(576);function N(L){return Symbol.asyncIterator&&(0,d.m)(L?.[Symbol.asyncIterator])}},576:(Dt,ce,$)=>{"use strict";function d(N){return"function"==typeof N}$.d(ce,{m:()=>d})},3670:(Dt,ce,$)=>{"use strict";$.d(ce,{c:()=>L});var d=$(8822),N=$(576);function L(ie){return(0,N.m)(ie[d.L])}},6495:(Dt,ce,$)=>{"use strict";$.d(ce,{T:()=>L});var d=$(2202),N=$(576);function L(ie){return(0,N.m)(ie?.[d.h])}},8239:(Dt,ce,$)=>{"use strict";$.d(ce,{t:()=>N});var d=$(576);function N(L){return(0,d.m)(L?.then)}},3260:(Dt,ce,$)=>{"use strict";$.d(ce,{L:()=>ie,Q:()=>L});var d=$(655),N=$(576);function L(le){return(0,d.FC)(this,arguments,function*(){const me=le.getReader();try{for(;;){const{value:ve,done:Ce}=yield(0,d.qq)(me.read());if(Ce)return yield(0,d.qq)(void 0);yield yield(0,d.qq)(ve)}}finally{me.releaseLock()}})}function ie(le){return(0,N.m)(le?.getReader)}},4482:(Dt,ce,$)=>{"use strict";$.d(ce,{A:()=>N,e:()=>L});var d=$(576);function N(ie){return(0,d.m)(ie?.lift)}function L(ie){return le=>{if(N(le))return le.lift(function(ae){try{return ie(ae,this)}catch(me){this.error(me)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(Dt,ce,$)=>{"use strict";$.d(ce,{U:()=>L,z:()=>N});var d=$(4671);function N(...ie){return L(ie)}function L(ie){return 0===ie.length?d.y:1===ie.length?ie[0]:function(ae){return ie.reduce((me,ve)=>ve(me),ae)}}},7849:(Dt,ce,$)=>{"use strict";$.d(ce,{h:()=>L});var d=$(2416),N=$(3410);function L(ie){N.z.setTimeout(()=>{const{onUnhandledError:le}=d.v;if(!le)throw ie;le(ie)})}},4532:(Dt,ce,$)=>{"use strict";function d(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}$.d(ce,{z:()=>d})},5226:function(Dt){Dt.exports=function(){"use strict";var ce={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const d=I=>{const D={};for(const R in I)D[I[R]]="swal2-"+I[R];return D},N=d(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),L=d(["success","warning","info","question","error"]),ie="SweetAlert2:",ae=I=>I.charAt(0).toUpperCase()+I.slice(1),me=I=>{console.warn(`${ie} ${"object"==typeof I?I.join(" "):I}`)},ve=I=>{console.error(`${ie} ${I}`)},Ce=[],W=(I,D)=>{(I=>{Ce.includes(I)||(Ce.push(I),me(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${D}" instead.`)},te=I=>"function"==typeof I?I():I,ze=I=>I&&"function"==typeof I.toPromise,Pe=I=>ze(I)?I.toPromise():Promise.resolve(I),Ye=I=>I&&Promise.resolve(I)===I,Qe=()=>document.body.querySelector(`.${N.container}`),we=I=>{const D=Qe();return D?D.querySelector(I):null},Ae=I=>we(`.${I}`),be=()=>Ae(N.popup),He=()=>Ae(N.icon),xe=()=>Ae(N.title),Ne=()=>Ae(N["html-container"]),qe=()=>Ae(N.image),Ve=()=>Ae(N["progress-steps"]),oe=()=>Ae(N["validation-message"]),et=()=>we(`.${N.actions} .${N.confirm}`),Et=()=>we(`.${N.actions} .${N.cancel}`),rt=()=>we(`.${N.actions} .${N.deny}`),ct=()=>we(`.${N.loader}`),hi=()=>Ae(N.actions),he=()=>Ae(N.footer),Ee=()=>Ae(N["timer-progress-bar"]),Me=()=>Ae(N.close),Ke=()=>{const I=Array.from(be().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,z)=>{const Ie=parseInt(R.getAttribute("tabindex")),Ct=parseInt(z.getAttribute("tabindex"));return Ie>Ct?1:Ie<Ct?-1:0}),D=Array.from(be().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(I=>{const D=[];for(let R=0;R<I.length;R++)-1===D.indexOf(I[R])&&D.push(I[R]);return D})(I.concat(D)).filter(R=>zn(R))},Be=()=>ht(document.body,N.shown)&&!ht(document.body,N["toast-shown"])&&!ht(document.body,N["no-backdrop"]),Oe=()=>be()&&ht(be(),N.toast),vn={previousBodyPadding:null},nt=(I,D)=>{if(I.textContent="",D){const z=(new DOMParser).parseFromString(D,"text/html");Array.from(z.querySelector("head").childNodes).forEach(Ie=>{I.appendChild(Ie)}),Array.from(z.querySelector("body").childNodes).forEach(Ie=>{Ie instanceof HTMLVideoElement||Ie instanceof HTMLAudioElement?I.appendChild(Ie.cloneNode(!0)):I.appendChild(Ie)})}},ht=(I,D)=>{if(!D)return!1;const R=D.split(/\s+/);for(let z=0;z<R.length;z++)if(!I.classList.contains(R[z]))return!1;return!0},Zt=(I,D,R)=>{if(((I,D)=>{Array.from(I.classList).forEach(R=>{!Object.values(N).includes(R)&&!Object.values(L).includes(R)&&!Object.values(D.showClass).includes(R)&&I.classList.remove(R)})})(I,D),D.customClass&&D.customClass[R]){if("string"!=typeof D.customClass[R]&&!D.customClass[R].forEach)return void me(`Invalid type of customClass.${R}! Expected string or iterable object, got "${typeof D.customClass[R]}"`);Lt(I,D.customClass[R])}},En=(I,D)=>{if(!D)return null;switch(D){case"select":case"textarea":case"file":return I.querySelector(`.${N.popup} > .${N[D]}`);case"checkbox":return I.querySelector(`.${N.popup} > .${N.checkbox} input`);case"radio":return I.querySelector(`.${N.popup} > .${N.radio} input:checked`)||I.querySelector(`.${N.popup} > .${N.radio} input:first-child`);case"range":return I.querySelector(`.${N.popup} > .${N.range} input`);default:return I.querySelector(`.${N.popup} > .${N.input}`)}},mr=I=>{if(I.focus(),"file"!==I.type){const D=I.value;I.value="",I.value=D}},Hn=(I,D,R)=>{!I||!D||("string"==typeof D&&(D=D.split(/\s+/).filter(Boolean)),D.forEach(z=>{Array.isArray(I)?I.forEach(Ie=>{R?Ie.classList.add(z):Ie.classList.remove(z)}):R?I.classList.add(z):I.classList.remove(z)}))},Lt=(I,D)=>{Hn(I,D,!0)},_n=(I,D)=>{Hn(I,D,!1)},Zn=(I,D)=>{const R=Array.from(I.children);for(let z=0;z<R.length;z++){const Ie=R[z];if(Ie instanceof HTMLElement&&ht(Ie,D))return Ie}},Rr=(I,D,R)=>{R===`${parseInt(R)}`&&(R=parseInt(R)),R||0===parseInt(R)?I.style[D]="number"==typeof R?`${R}px`:R:I.style.removeProperty(D)},Vn=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},cn=I=>{I.style.display="none"},pt=(I,D,R,z)=>{const Ie=I.querySelector(D);Ie&&(Ie.style[R]=z)},Nn=function(I,D){D?Vn(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):cn(I)},zn=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),yr=I=>I.scrollHeight>I.clientHeight,Nr=I=>{const D=window.getComputedStyle(I),R=parseFloat(D.getPropertyValue("animation-duration")||"0"),z=parseFloat(D.getPropertyValue("transition-duration")||"0");return R>0||z>0},hn=function(I){let D=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=Ee();zn(R)&&(D&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition=`width ${I/1e3}s linear`,R.style.width="0%"},10))},Je={},vr=I=>new Promise(D=>{if(!I)return D();const R=window.scrollX,z=window.scrollY;Je.restoreFocusTimeout=setTimeout(()=>{Je.previousActiveElement instanceof HTMLElement?(Je.previousActiveElement.focus(),Je.previousActiveElement=null):document.body&&document.body.focus(),D()},100),window.scrollTo(R,z)}),Un=()=>typeof window>"u"||typeof document>"u",Yr=`\n <div aria-labelledby="${N.title}" aria-describedby="${N["html-container"]}" class="${N.popup}" tabindex="-1">\n   <button type="button" class="${N.close}"></button>\n   <ul class="${N["progress-steps"]}"></ul>\n   <div class="${N.icon}"></div>\n   <img class="${N.image}" />\n   <h2 class="${N.title}" id="${N.title}"></h2>\n   <div class="${N["html-container"]}" id="${N["html-container"]}"></div>\n   <input class="${N.input}" />\n   <input type="file" class="${N.file}" />\n   <div class="${N.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${N.select}"></select>\n   <div class="${N.radio}"></div>\n   <label for="${N.checkbox}" class="${N.checkbox}">\n     <input type="checkbox" />\n     <span class="${N.label}"></span>\n   </label>\n   <textarea class="${N.textarea}"></textarea>\n   <div class="${N["validation-message"]}" id="${N["validation-message"]}"></div>\n   <div class="${N.actions}">\n     <div class="${N.loader}"></div>\n     <button type="button" class="${N.confirm}"></button>\n     <button type="button" class="${N.deny}"></button>\n     <button type="button" class="${N.cancel}"></button>\n   </div>\n   <div class="${N.footer}"></div>\n   <div class="${N["timer-progress-bar-container"]}">\n     <div class="${N["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),On=()=>{Je.currentInstance.resetValidationMessage()},Wt=I=>{const D=(()=>{const I=Qe();return!!I&&(I.remove(),_n([document.documentElement,document.body],[N["no-backdrop"],N["toast-shown"],N["has-column"]]),!0)})();if(Un())return void ve("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=N.container,D&&Lt(R,N["no-transition"]),nt(R,Yr);const z=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);z.appendChild(R),(I=>{const D=be();D.setAttribute("role",I.toast?"alert":"dialog"),D.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||D.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&Lt(Qe(),N.rtl)})(z),(()=>{const I=be(),D=Zn(I,N.input),R=Zn(I,N.file),z=I.querySelector(`.${N.range} input`),Ie=I.querySelector(`.${N.range} output`),Ct=Zn(I,N.select),wn=I.querySelector(`.${N.checkbox} input`),fr=Zn(I,N.textarea);D.oninput=On,R.onchange=On,Ct.onchange=On,wn.onchange=On,fr.oninput=On,z.oninput=()=>{On(),Ie.value=z.value},z.onchange=()=>{On(),Ie.value=z.value}})()},Bn=(I,D)=>{I instanceof HTMLElement?D.appendChild(I):"object"==typeof I?$n(I,D):I&&nt(D,I)},$n=(I,D)=>{I.jquery?_r(D,I):nt(D,I.toString())},_r=(I,D)=>{if(I.textContent="",0 in D)for(let R=0;R in D;R++)I.appendChild(D[R].cloneNode(!0));else I.appendChild(D.cloneNode(!0))},kn=(()=>{if(Un())return!1;const I=document.createElement("div"),D={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in D)if(Object.prototype.hasOwnProperty.call(D,R)&&typeof I.style[R]<"u")return D[R];return!1})(),kr=(I,D)=>{const R=hi(),z=ct();D.showConfirmButton||D.showDenyButton||D.showCancelButton?Vn(R):cn(R),Zt(R,D,"actions"),function Gr(I,D,R){const z=et(),Ie=rt(),Ct=Et();G(z,"confirm",R),G(Ie,"deny",R),G(Ct,"cancel",R),function q(I,D,R,z){z.buttonsStyling?(Lt([I,D,R],N.styled),z.confirmButtonColor&&(I.style.backgroundColor=z.confirmButtonColor,Lt(I,N["default-outline"])),z.denyButtonColor&&(D.style.backgroundColor=z.denyButtonColor,Lt(D,N["default-outline"])),z.cancelButtonColor&&(R.style.backgroundColor=z.cancelButtonColor,Lt(R,N["default-outline"]))):_n([I,D,R],N.styled)}(z,Ie,Ct,R),R.reverseButtons&&(R.toast?(I.insertBefore(Ct,z),I.insertBefore(Ie,z)):(I.insertBefore(Ct,D),I.insertBefore(Ie,D),I.insertBefore(z,D)))}(R,z,D),nt(z,D.loaderHtml),Zt(z,D,"loader")};function G(I,D,R){Nn(I,R[`show${ae(D)}Button`],"inline-block"),nt(I,R[`${D}ButtonText`]),I.setAttribute("aria-label",R[`${D}ButtonAriaLabel`]),I.className=N[D],Zt(I,R,`${D}Button`),Lt(I,R[`${D}ButtonClass`])}const B=(I,D)=>{const R=Qe();R&&(function k(I,D){"string"==typeof D?I.style.background=D:D||Lt([document.documentElement,document.body],N["no-backdrop"])}(R,D.backdrop),function Q(I,D){D in N?Lt(I,N[D]):(me('The "position" parameter is not valid, defaulting to "center"'),Lt(I,N.center))}(R,D.position),function De(I,D){if(D&&"string"==typeof D){const R=`grow-${D}`;R in N&&Lt(I,N[R])}}(R,D.grow),Zt(R,D,"container"))};const at=["input","file","range","select","radio","checkbox","textarea"],At=I=>{if(!re[I.input])return void ve(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const D=Bi(I.input),R=re[I.input](D,I);Vn(D),I.inputAutoFocus&&setTimeout(()=>{mr(R)})},Vt=(I,D)=>{const R=En(be(),I);if(R){(I=>{for(let D=0;D<I.attributes.length;D++){const R=I.attributes[D].name;["type","value","style"].includes(R)||I.removeAttribute(R)}})(R);for(const z in D)R.setAttribute(z,D[z])}},xn=I=>{const D=Bi(I.input);"object"==typeof I.customClass&&Lt(D,I.customClass.input)},Ht=(I,D)=>{(!I.placeholder||D.inputPlaceholder)&&(I.placeholder=D.inputPlaceholder)},qn=(I,D,R)=>{if(R.inputLabel){I.id=N.input;const z=document.createElement("label"),Ie=N["input-label"];z.setAttribute("for",I.id),z.className=Ie,"object"==typeof R.customClass&&Lt(z,R.customClass.inputLabel),z.innerText=R.inputLabel,D.insertAdjacentElement("beforebegin",z)}},Bi=I=>Zn(be(),N[I]||N.input),ye=(I,D)=>{["string","number"].includes(typeof D)?I.value=`${D}`:Ye(D)||me(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof D}"`)},re={};re.text=re.email=re.password=re.number=re.tel=re.url=(I,D)=>(ye(I,D.inputValue),qn(I,I,D),Ht(I,D),I.type=D.input,I),re.file=(I,D)=>(qn(I,I,D),Ht(I,D),I),re.range=(I,D)=>{const R=I.querySelector("input"),z=I.querySelector("output");return ye(R,D.inputValue),R.type=D.input,ye(z,D.inputValue),qn(R,I,D),I},re.select=(I,D)=>{if(I.textContent="",D.inputPlaceholder){const R=document.createElement("option");nt(R,D.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,I.appendChild(R)}return qn(I,I,D),I},re.radio=I=>(I.textContent="",I),re.checkbox=(I,D)=>{const R=En(be(),"checkbox");R.value="1",R.id=N.checkbox,R.checked=Boolean(D.inputValue);const z=I.querySelector("span");return nt(z,D.inputPlaceholder),R},re.textarea=(I,D)=>{ye(I,D.inputValue),Ht(I,D),qn(I,I,D);return setTimeout(()=>{if("MutationObserver"in window){const z=parseInt(window.getComputedStyle(be()).width);new MutationObserver(()=>{const Ct=I.offsetWidth+(z=>parseInt(window.getComputedStyle(z).marginLeft)+parseInt(window.getComputedStyle(z).marginRight))(I);be().style.width=Ct>z?`${Ct}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const $e=(I,D)=>{const R=Ne();Zt(R,D,"htmlContainer"),D.html?(Bn(D.html,R),Vn(R,"block")):D.text?(R.textContent=D.text,Vn(R,"block")):cn(R),((I,D)=>{const R=be(),z=ce.innerParams.get(I),Ie=!z||D.input!==z.input;at.forEach(Ct=>{const wn=Zn(R,N[Ct]);Vt(Ct,D.inputAttributes),wn.className=N[Ct],Ie&&cn(wn)}),D.input&&(Ie&&At(D),xn(D))})(I,D)},en=(I,D)=>{for(const R in L)D.icon!==R&&_n(I,L[R]);Lt(I,L[D.icon]),lr(I,D),It(),Zt(I,D,"icon")},It=()=>{const I=be(),D=window.getComputedStyle(I).getPropertyValue("background-color"),R=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let z=0;z<R.length;z++)R[z].style.backgroundColor=D},wr=(I,D)=>{let z,R=I.innerHTML;D.iconHtml?z=Ro(D.iconHtml):"success"===D.icon?(z='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):z="error"===D.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ro({question:"?",warning:"!",info:"i"}[D.icon]),R.trim()!==z.trim()&&nt(I,z)},lr=(I,D)=>{if(D.iconColor){I.style.color=D.iconColor,I.style.borderColor=D.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])pt(I,R,"backgroundColor",D.iconColor);pt(I,".swal2-success-ring","borderColor",D.iconColor)}},Ro=I=>`<div class="${N["icon-content"]}">${I}</div>`,cr=(I,D)=>{I.className=`${N.popup} ${zn(I)?D.showClass.popup:""}`,D.toast?(Lt([document.documentElement,document.body],N["toast-shown"]),Lt(I,N.toast)):Lt(I,N.modal),Zt(I,D,"popup"),"string"==typeof D.customClass&&Lt(I,D.customClass),D.icon&&Lt(I,N[`icon-${D.icon}`])},Kt=I=>{const D=document.createElement("li");return Lt(D,N["progress-step"]),nt(D,I),D},Fn=I=>{const D=document.createElement("li");return Lt(D,N["progress-step-line"]),I.progressStepsDistance&&Rr(D,"width",I.progressStepsDistance),D},Ji=(I,D)=>{((I,D)=>{const R=Qe(),z=be();D.toast?(Rr(R,"width",D.width),z.style.width="100%",z.insertBefore(ct(),He())):Rr(z,"width",D.width),Rr(z,"padding",D.padding),D.color&&(z.style.color=D.color),D.background&&(z.style.background=D.background),cn(oe()),cr(z,D)})(0,D),B(0,D),((I,D)=>{const R=Ve();D.progressSteps&&0!==D.progressSteps.length?(Vn(R),R.textContent="",D.currentProgressStep>=D.progressSteps.length&&me("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),D.progressSteps.forEach((z,Ie)=>{const Ct=Kt(z);if(R.appendChild(Ct),Ie===D.currentProgressStep&&Lt(Ct,N["active-progress-step"]),Ie!==D.progressSteps.length-1){const wn=Fn(D);R.appendChild(wn)}})):cn(R)})(0,D),((I,D)=>{const R=ce.innerParams.get(I),z=He();R&&D.icon===R.icon?(wr(z,D),en(z,D)):D.icon||D.iconHtml?D.icon&&-1===Object.keys(L).indexOf(D.icon)?(ve(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${D.icon}"`),cn(z)):(Vn(z),wr(z,D),en(z,D),Lt(z,D.showClass.icon)):cn(z)})(I,D),((I,D)=>{const R=qe();D.imageUrl?(Vn(R,""),R.setAttribute("src",D.imageUrl),R.setAttribute("alt",D.imageAlt),Rr(R,"width",D.imageWidth),Rr(R,"height",D.imageHeight),R.className=N.image,Zt(R,D,"image")):cn(R)})(0,D),((I,D)=>{const R=xe();Nn(R,D.title||D.titleText,"block"),D.title&&Bn(D.title,R),D.titleText&&(R.innerText=D.titleText),Zt(R,D,"title")})(0,D),((I,D)=>{const R=Me();nt(R,D.closeButtonHtml),Zt(R,D,"closeButton"),Nn(R,D.showCloseButton),R.setAttribute("aria-label",D.closeButtonAriaLabel)})(0,D),$e(I,D),kr(0,D),((I,D)=>{const R=he();Nn(R,D.footer),D.footer&&Bn(D.footer,R),Zt(R,D,"footer")})(0,D),"function"==typeof D.didRender&&D.didRender(be())};function or(){const I=ce.innerParams.get(this);if(!I)return;const D=ce.domCache.get(this);cn(D.loader),Oe()?I.icon&&Vn(He()):gs(D),_n([D.popup,D.actions],N.loading),D.popup.removeAttribute("aria-busy"),D.popup.removeAttribute("data-loading"),D.confirmButton.disabled=!1,D.denyButton.disabled=!1,D.cancelButton.disabled=!1}const gs=I=>{const D=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));D.length?Vn(D[0],"inline-block"):!zn(et())&&!zn(rt())&&!zn(Et())&&cn(I.actions)};const Ci=()=>et()&&et().click(),br=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),eo=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},Qn=(I,D)=>{const R=Ke();if(R.length)return(I+=D)===R.length?I=0:-1===I&&(I=R.length-1),void R[I].focus();be().focus()},ys=["ArrowRight","ArrowDown"],ks=["ArrowLeft","ArrowUp"],pi=(I,D,R)=>{const z=ce.innerParams.get(I);z&&(D.isComposing||229===D.keyCode||(z.stopKeydownPropagation&&D.stopPropagation(),"Enter"===D.key?to(I,D,z):"Tab"===D.key?Or(D):[...ys,...ks].includes(D.key)?Tn(D.key):"Escape"===D.key&&gi(D,z,R)))},to=(I,D,R)=>{if(te(R.allowEnterKey)&&D.target&&I.getInput()&&D.target instanceof HTMLElement&&D.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;Ci(),D.preventDefault()}},Or=I=>{const D=I.target,R=Ke();let z=-1;for(let Ie=0;Ie<R.length;Ie++)if(D===R[Ie]){z=Ie;break}Qn(z,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},Tn=I=>{const D=et(),R=rt(),z=Et();if(document.activeElement instanceof HTMLElement&&![D,R,z].includes(document.activeElement))return;const Ct=ys.includes(I)?"nextElementSibling":"previousElementSibling";let wn=document.activeElement;for(let fr=0;fr<hi().children.length;fr++){if(wn=wn[Ct],!wn)return;if(wn instanceof HTMLButtonElement&&zn(wn))break}wn instanceof HTMLButtonElement&&wn.focus()},gi=(I,D,R)=>{te(D.allowEscapeKey)&&(I.preventDefault(),R(br.esc))};var Os={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Fs=()=>{Array.from(document.body.children).forEach(D=>{D.hasAttribute("data-previous-aria-hidden")?(D.setAttribute("aria-hidden",D.getAttribute("data-previous-aria-hidden")),D.removeAttribute("data-previous-aria-hidden")):D.removeAttribute("aria-hidden")})},Ls=()=>{const I=navigator.userAgent,D=!!I.match(/iPad/i)||!!I.match(/iPhone/i),R=!!I.match(/WebKit/i);D&&R&&!I.match(/CriOS/i)&&be().scrollHeight>window.innerHeight-44&&(Qe().style.paddingBottom="44px")},Er=()=>{const I=Qe();let D;I.ontouchstart=R=>{D=Hu(R)},I.ontouchmove=R=>{D&&(R.preventDefault(),R.stopPropagation())}},Hu=I=>{const D=I.target,R=Qe();return!qr(I)&&!Di(I)&&(D===R||!yr(R)&&D instanceof HTMLElement&&"INPUT"!==D.tagName&&"TEXTAREA"!==D.tagName&&!(yr(Ne())&&Ne().contains(D)))},qr=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Di=I=>I.touches&&I.touches.length>1,Vs=()=>{if(ht(document.body,N.iosfix)){const I=parseInt(document.body.style.top,10);_n(document.body,N.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},ca=()=>{null===vn.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(vn.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${vn.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=N["scrollbar-measure"],document.body.appendChild(I);const D=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),D})()}px`)},Oo=()=>{null!==vn.previousBodyPadding&&(document.body.style.paddingRight=`${vn.previousBodyPadding}px`,vn.previousBodyPadding=null)};function Wr(I,D,R,z){Oe()?Qa(I,z):(vr(R).then(()=>Qa(I,z)),eo(Je)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(D.setAttribute("style","display:none !important"),D.removeAttribute("class"),D.innerHTML=""):D.remove(),Be()&&(Oo(),Vs(),Fs()),function _s(){_n([document.documentElement,document.body],[N.shown,N["height-auto"],N["no-backdrop"],N["toast-shown"]])}()}function ws(I){I=$l(I);const D=Os.swalPromiseResolve.get(this),R=$i(this);this.isAwaitingPromise()?I.isDismissed||(no(this),D(I)):R&&D(I)}const $i=I=>{const D=be();if(!D)return!1;const R=ce.innerParams.get(I);if(!R||ht(D,R.hideClass.popup))return!1;_n(D,R.showClass.popup),Lt(D,R.hideClass.popup);const z=Qe();return _n(z,R.showClass.backdrop),Lt(z,R.hideClass.backdrop),zu(I,D,R),!0};const no=I=>{I.isAwaitingPromise()&&(ce.awaitingPromise.delete(I),ce.innerParams.get(I)||I._destroy())},$l=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),zu=(I,D,R)=>{const z=Qe(),Ie=kn&&Nr(D);"function"==typeof R.willClose&&R.willClose(D),Ie?rd(I,D,z,R.returnFocus,R.didClose):Wr(I,z,R.returnFocus,R.didClose)},rd=(I,D,R,z,Ie)=>{Je.swalCloseEventFinishedCallback=Wr.bind(null,I,R,z,Ie),D.addEventListener(kn,function(Ct){Ct.target===D&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback)})},Qa=(I,D)=>{setTimeout(()=>{"function"==typeof D&&D.bind(I.params)(),I._destroy()})};function Ja(I,D,R){const z=ce.domCache.get(I);D.forEach(Ie=>{z[Ie].disabled=R})}function Xa(I,D){if(I)if("radio"===I.type){const z=I.parentNode.parentNode.querySelectorAll("input");for(let Ie=0;Ie<z.length;Ie++)z[Ie].disabled=D}else I.disabled=D}const Us={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Bs=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],so={},Xi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],eu=I=>Object.prototype.hasOwnProperty.call(Us,I),tu=I=>-1!==Bs.indexOf(I),oo=I=>so[I],Gl=I=>{eu(I)||me(`Unknown parameter "${I}"`)},Es=I=>{Xi.includes(I)&&me(`The parameter "${I}" is incompatible with toasts`)},nu=I=>{oo(I)&&W(I,oo(I))};const ao=I=>{const D={};return Object.keys(I).forEach(R=>{tu(R)?D[R]=I[R]:me(`Invalid parameter to update: ${R}`)}),D};const jn=I=>{uo(I),delete I.params,delete Je.keydownHandler,delete Je.keydownTarget,delete Je.currentInstance},uo=I=>{I.isAwaitingPromise()?(lo(ce,I),ce.awaitingPromise.set(I,!0)):(lo(Os,I),lo(ce,I))},lo=(I,D)=>{for(const R in I)I[R].delete(D)};var rr=Object.freeze({__proto__:null,_destroy:function $s(){const I=ce.domCache.get(this),D=ce.innerParams.get(this);D?(I.popup&&Je.swalCloseEventFinishedCallback&&(Je.swalCloseEventFinishedCallback(),delete Je.swalCloseEventFinishedCallback),"function"==typeof D.didDestroy&&D.didDestroy(),jn(this)):uo(this)},close:ws,closeModal:ws,closePopup:ws,closeToast:ws,disableButtons:function bs(){Ja(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function Hl(){Xa(this.getInput(),!0)},disableLoading:or,enableButtons:function jl(){Ja(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function ro(){Xa(this.getInput(),!1)},getInput:function Wn(I){const D=ce.innerParams.get(I||this),R=ce.domCache.get(I||this);return R?En(R.popup,D.input):null},handleAwaitingPromise:no,hideLoading:or,isAwaitingPromise:function td(){return!!ce.awaitingPromise.get(this)},rejectPromise:function nd(I){const D=Os.swalPromiseReject.get(this);no(this),D&&D(I)},resetValidationMessage:function zl(){const I=ce.domCache.get(this);I.validationMessage&&cn(I.validationMessage);const D=this.getInput();D&&(D.removeAttribute("aria-invalid"),D.removeAttribute("aria-describedby"),_n(D,N.inputerror))},showValidationMessage:function io(I){const D=ce.domCache.get(this),R=ce.innerParams.get(this);nt(D.validationMessage,I),D.validationMessage.className=N["validation-message"],R.customClass&&R.customClass.validationMessage&&Lt(D.validationMessage,R.customClass.validationMessage),Vn(D.validationMessage);const z=this.getInput();z&&(z.setAttribute("aria-invalid",!0),z.setAttribute("aria-describedby",N["validation-message"]),mr(z),Lt(z,N.inputerror))},update:function Gu(I){const D=be(),R=ce.innerParams.get(this);if(!D||ht(D,R.hideClass.popup))return void me("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const z=ao(I),Ie=Object.assign({},R,z);Ji(this,Ie),ce.innerParams.set(this,Ie),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const mi=I=>{let D=be();D||new lu,D=be();const R=ct();Oe()?cn(He()):js(D,I),Vn(R),D.setAttribute("data-loading","true"),D.setAttribute("aria-busy","true"),D.focus()},js=(I,D)=>{const R=hi(),z=ct();!D&&zn(et())&&(D=et()),Vn(R),D&&(cn(D),z.setAttribute("data-button-to-replace",D.className)),z.parentNode.insertBefore(z,D),Lt([I,R],N.loading)},ha=I=>I.checked?1:0,Zr=I=>I.checked?I.value:null,dr=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,Fo=(I,D)=>{const R=be(),z=Ie=>{qu[D.input](R,Ti(Ie),D)};ze(D.inputOptions)||Ye(D.inputOptions)?(mi(et()),Pe(D.inputOptions).then(Ie=>{I.hideLoading(),z(Ie)})):"object"==typeof D.inputOptions?z(D.inputOptions):ve("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof D.inputOptions)},Is=(I,D)=>{const R=I.getInput();cn(R),Pe(D.inputValue).then(z=>{R.value="number"===D.input?`${parseFloat(z)||0}`:`${z}`,Vn(R),R.focus(),I.hideLoading()}).catch(z=>{ve(`Error in inputValue promise: ${z}`),R.value="",Vn(R),R.focus(),I.hideLoading()})},qu={select:(I,D,R)=>{const z=Zn(I,N.select),Ie=(Ct,wn,fr)=>{const Fr=document.createElement("option");Fr.value=fr,nt(Fr,wn),Fr.selected=co(fr,R.inputValue),Ct.appendChild(Fr)};D.forEach(Ct=>{const wn=Ct[0],fr=Ct[1];if(Array.isArray(fr)){const Fr=document.createElement("optgroup");Fr.label=wn,Fr.disabled=!1,z.appendChild(Fr),fr.forEach(si=>Ie(Fr,si[1],si[0]))}else Ie(z,fr,wn)}),z.focus()},radio:(I,D,R)=>{const z=Zn(I,N.radio);D.forEach(Ct=>{const wn=Ct[0],fr=Ct[1],Fr=document.createElement("input"),si=document.createElement("label");Fr.type="radio",Fr.name=N.radio,Fr.value=wn,co(wn,R.inputValue)&&(Fr.checked=!0);const is=document.createElement("span");nt(is,fr),is.className=N.label,si.appendChild(Fr),si.appendChild(is),z.appendChild(si)});const Ie=z.querySelectorAll("input");Ie.length&&Ie[0].focus()}},Ti=I=>{const D=[];return typeof Map<"u"&&I instanceof Map?I.forEach((R,z)=>{let Ie=R;"object"==typeof Ie&&(Ie=Ti(Ie)),D.push([z,Ie])}):Object.keys(I).forEach(R=>{let z=I[R];"object"==typeof z&&(z=Ti(z)),D.push([R,z])}),D},co=(I,D)=>D&&D.toString()===I.toString(),Wu=(I,D)=>{const R=ce.innerParams.get(I);if(!R.input)return void ve(`The "input" parameter is needed to be set when using returnInputValueOn${ae(D)}`);const z=((I,D)=>{const R=I.getInput();if(!R)return null;switch(D.input){case"checkbox":return ha(R);case"radio":return Zr(R);case"file":return dr(R);default:return D.inputAutoTrim?R.value.trim():R.value}})(I,R);R.inputValidator?ru(I,z,D):I.getInput().checkValidity()?"deny"===D?Lo(I,z):ga(I,z):(I.enableButtons(),I.showValidationMessage(R.validationMessage))},ru=(I,D,R)=>{const z=ce.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Pe(z.inputValidator(D,z.validationMessage))).then(Ct=>{I.enableButtons(),I.enableInput(),Ct?I.showValidationMessage(Ct):"deny"===R?Lo(I,D):ga(I,D)})},Lo=(I,D)=>{const R=ce.innerParams.get(I||void 0);R.showLoaderOnDeny&&mi(rt()),R.preDeny?(ce.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Pe(R.preDeny(D,R.validationMessage))).then(Ie=>{!1===Ie?(I.hideLoading(),no(I)):I.close({isDenied:!0,value:typeof Ie>"u"?D:Ie})}).catch(Ie=>iu(I||void 0,Ie))):I.close({isDenied:!0,value:D})},pa=(I,D)=>{I.close({isConfirmed:!0,value:D})},iu=(I,D)=>{I.rejectPromise(D)},ga=(I,D)=>{const R=ce.innerParams.get(I||void 0);R.showLoaderOnConfirm&&mi(),R.preConfirm?(I.resetValidationMessage(),ce.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Pe(R.preConfirm(D,R.validationMessage))).then(Ie=>{zn(oe())||!1===Ie?(I.hideLoading(),no(I)):pa(I,typeof Ie>"u"?D:Ie)}).catch(Ie=>iu(I||void 0,Ie))):pa(I,D)},_e=(I,D,R)=>{D.popup.onclick=()=>{const z=ce.innerParams.get(I);z&&(zt(z)||z.timer||z.input)||R(br.close)}},zt=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let fo=!1;const Vo=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(D){I.container.onmouseup=void 0,D.target===I.container&&(fo=!0)}}},Jn=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(D){I.popup.onmouseup=void 0,(D.target===I.popup||I.popup.contains(D.target))&&(fo=!0)}}},Zu=(I,D,R)=>{D.container.onclick=z=>{const Ie=ce.innerParams.get(I);fo?fo=!1:z.target===D.container&&te(Ie.allowOutsideClick)&&R(br.backdrop)}},ii=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const Hs=()=>{if(Je.timeout)return(()=>{const I=Ee(),D=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const R=parseInt(window.getComputedStyle(I).width);I.style.width=D/R*100+"%"})(),Je.timeout.stop()},hr=()=>{if(Je.timeout){const I=Je.timeout.start();return hn(I),I}};let Si=!1;const ya={};const Qu=I=>{for(let D=I.target;D&&D!==document;D=D.parentNode)for(const R in ya){const z=D.getAttribute(R);if(z)return void ya[R].fire({template:z})}};var sd=Object.freeze({__proto__:null,argsToParams:I=>{const D={};return"object"!=typeof I[0]||ii(I[0])?["title","html","icon"].forEach((R,z)=>{const Ie=I[z];"string"==typeof Ie||ii(Ie)?D[R]=Ie:void 0!==Ie&&ve(`Unexpected type of ${R}! Expected "string" or "Element", got ${typeof Ie}`)}):Object.assign(D,I[0]),D},bindClickHandler:function zs(){ya[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Si||(document.body.addEventListener("click",Qu),Si=!0)},clickCancel:()=>Et()&&Et().click(),clickConfirm:Ci,clickDeny:()=>rt()&&rt().click(),enableLoading:mi,fire:function Ku(){for(var D=arguments.length,R=new Array(D),z=0;z<D;z++)R[z]=arguments[z];return new this(...R)},getActions:hi,getCancelButton:Et,getCloseButton:Me,getConfirmButton:et,getContainer:Qe,getDenyButton:rt,getFocusableElements:Ke,getFooter:he,getHtmlContainer:Ne,getIcon:He,getIconContent:()=>Ae(N["icon-content"]),getImage:qe,getInputLabel:()=>Ae(N["input-label"]),getLoader:ct,getPopup:be,getProgressSteps:Ve,getTimerLeft:()=>Je.timeout&&Je.timeout.getTimerLeft(),getTimerProgressBar:Ee,getTitle:xe,getValidationMessage:oe,increaseTimer:I=>{if(Je.timeout){const D=Je.timeout.increase(I);return hn(D,!0),D}},isDeprecatedParameter:oo,isLoading:()=>be().hasAttribute("data-loading"),isTimerRunning:()=>Je.timeout&&Je.timeout.isRunning(),isUpdatableParameter:tu,isValidParameter:eu,isVisible:()=>zn(be()),mixin:function Yu(I){return class D extends(this){_main(z,Ie){return super._main(z,Object.assign({},I,Ie))}}},resumeTimer:hr,showLoading:mi,stopTimer:Hs,toggleTimer:()=>{const I=Je.timeout;return I&&(I.running?Hs():hr())}});class Xn{constructor(D,R){this.callback=D,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(D){const R=this.running;return R&&this.stop(),this.remaining+=D,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Uo=["swal-title","swal-html","swal-footer"],Ju=I=>{const D={};return Array.from(I.querySelectorAll("swal-param")).forEach(z=>{Ts(z,["name","value"]);const Ie=z.getAttribute("name"),Ct=z.getAttribute("value");D[Ie]="boolean"==typeof Us[Ie]?"false"!==Ct:"object"==typeof Us[Ie]?JSON.parse(Ct):Ct}),D},va=I=>{const D={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(z=>{const Ie=z.getAttribute("name"),Ct=z.getAttribute("value");D[Ie]=new Function(`return ${Ct}`)()}),D},Xu=I=>{const D={};return Array.from(I.querySelectorAll("swal-button")).forEach(z=>{Ts(z,["type","color","aria-label"]);const Ie=z.getAttribute("type");D[`${Ie}ButtonText`]=z.innerHTML,D[`show${ae(Ie)}Button`]=!0,z.hasAttribute("color")&&(D[`${Ie}ButtonColor`]=z.getAttribute("color")),z.hasAttribute("aria-label")&&(D[`${Ie}ButtonAriaLabel`]=z.getAttribute("aria-label"))}),D},go=I=>{const D={},R=I.querySelector("swal-image");return R&&(Ts(R,["src","width","height","alt"]),R.hasAttribute("src")&&(D.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(D.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(D.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(D.imageAlt=R.getAttribute("alt"))),D},su=I=>{const D={},R=I.querySelector("swal-icon");return R&&(Ts(R,["type","color"]),R.hasAttribute("type")&&(D.icon=R.getAttribute("type")),R.hasAttribute("color")&&(D.iconColor=R.getAttribute("color")),D.iconHtml=R.innerHTML),D},$o=I=>{const D={},R=I.querySelector("swal-input");R&&(Ts(R,["type","label","placeholder","value"]),D.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(D.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(D.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(D.inputValue=R.getAttribute("value")));const z=Array.from(I.querySelectorAll("swal-input-option"));return z.length&&(D.inputOptions={},z.forEach(Ie=>{Ts(Ie,["value"]);const Ct=Ie.getAttribute("value");D.inputOptions[Ct]=Ie.innerHTML})),D},ou=(I,D)=>{const R={};for(const z in D){const Ie=D[z],Ct=I.querySelector(Ie);Ct&&(Ts(Ct,[]),R[Ie.replace(/^swal-/,"")]=Ct.innerHTML.trim())}return R},_a=I=>{const D=Uo.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(R=>{const z=R.tagName.toLowerCase();D.includes(z)||me(`Unrecognized element <${z}>`)})},Ts=(I,D)=>{Array.from(I.attributes).forEach(R=>{-1===D.indexOf(R.name)&&me([`Unrecognized attribute "${R.name}" on <${I.tagName.toLowerCase()}>.`,D.length?`Allowed attributes are: ${D.join(", ")}`:"To set the value, use HTML within the element."])})},el=I=>{const D=Qe(),R=be();"function"==typeof I.willOpen&&I.willOpen(R);const Ie=window.getComputedStyle(document.body).overflowY;au(D,R,I),setTimeout(()=>{ji(D,R)},10),Be()&&(Ln(D,I.scrollbarPadding,Ie),Array.from(document.body.children).forEach(D=>{D===Qe()||D.contains(Qe())||(D.hasAttribute("aria-hidden")&&D.setAttribute("data-previous-aria-hidden",D.getAttribute("aria-hidden")),D.setAttribute("aria-hidden","true"))})),!Oe()&&!Je.previousActiveElement&&(Je.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(R)),_n(D,N["no-transition"])},Cr=I=>{const D=be();if(I.target!==D)return;const R=Qe();D.removeEventListener(kn,Cr),R.style.overflowY="auto"},ji=(I,D)=>{kn&&Nr(D)?(I.style.overflowY="hidden",D.addEventListener(kn,Cr)):I.style.overflowY="auto"},Ln=(I,D,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!ht(document.body,N.iosfix)){const D=document.body.scrollTop;document.body.style.top=-1*D+"px",Lt(document.body,N.iosfix),Er(),Ls()}})(),D&&"hidden"!==R&&ca(),setTimeout(()=>{I.scrollTop=0})},au=(I,D,R)=>{Lt(I,R.showClass.backdrop),D.style.setProperty("opacity","0","important"),Vn(D,"grid"),setTimeout(()=>{Lt(D,R.showClass.popup),D.style.removeProperty("opacity")},10),Lt([document.documentElement,document.body],N.shown),R.heightAuto&&R.backdrop&&!R.toast&&Lt([document.documentElement,document.body],N["height-auto"])};var Gs={email:(I,D)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid email address"),url:(I,D)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(D||"Invalid URL")};function tl(I){(function ba(I){I.inputValidator||Object.keys(Gs).forEach(D=>{I.input===D&&(I.inputValidator=Gs[D])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&me("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function od(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(me('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),Wt(I)}let ts;class ns{constructor(){if(typeof window>"u")return;ts=this;for(var D=arguments.length,R=new Array(D),z=0;z<D;z++)R[z]=arguments[z];const Ie=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:Ie,writable:!1,enumerable:!0,configurable:!0}});const Ct=ts._main(ts.params);ce.promise.set(this,Ct)}_main(D){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&me('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const D in I)Gl(D),I.toast&&Es(D),nu(D)})(Object.assign({},R,D)),Je.currentInstance&&(Je.currentInstance._destroy(),Be()&&Fs()),Je.currentInstance=ts;const z=nl(D,R);tl(z),Object.freeze(z),Je.timeout&&(Je.timeout.stop(),delete Je.timeout),clearTimeout(Je.restoreFocusTimeout);const Ie=rl(ts);return Ji(ts,z),ce.innerParams.set(ts,z),uu(ts,Ie,z)}then(D){return ce.promise.get(this).then(D)}finally(D){return ce.promise.get(this).finally(D)}}const uu=(I,D,R)=>new Promise((z,Ie)=>{const Ct=wn=>{I.close({isDismissed:!0,dismiss:wn})};Os.swalPromiseResolve.set(I,z),Os.swalPromiseReject.set(I,Ie),D.confirmButton.onclick=()=>{(I=>{const D=ce.innerParams.get(I);I.disableButtons(),D.input?Wu(I,"confirm"):ga(I,!0)})(I)},D.denyButton.onclick=()=>{(I=>{const D=ce.innerParams.get(I);I.disableButtons(),D.returnInputValueOnDeny?Wu(I,"deny"):Lo(I,!1)})(I)},D.cancelButton.onclick=()=>{((I,D)=>{I.disableButtons(),D(br.cancel)})(I,Ct)},D.closeButton.onclick=()=>{Ct(br.close)},((I,D,R)=>{ce.innerParams.get(I).toast?_e(I,D,R):(Vo(D),Jn(D),Zu(I,D,R))})(I,D,Ct),((I,D,R,z)=>{eo(D),R.toast||(D.keydownHandler=Ie=>pi(I,Ie,z),D.keydownTarget=R.keydownListenerCapture?window:be(),D.keydownListenerCapture=R.keydownListenerCapture,D.keydownTarget.addEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!0)})(I,Je,R,Ct),((I,D)=>{"select"===D.input||"radio"===D.input?Fo(I,D):["text","email","number","tel","textarea"].includes(D.input)&&(ze(D.inputValue)||Ye(D.inputValue))&&(mi(et()),Is(I,D))})(I,R),el(R),Ea(Je,R,Ct),mo(D,R),setTimeout(()=>{D.container.scrollTop=0})}),nl=(I,D)=>{const R=(I=>{const D="string"==typeof I.template?document.querySelector(I.template):I.template;if(!D)return{};const R=D.content;return _a(R),Object.assign(Ju(R),va(R),Xu(R),go(R),su(R),$o(R),ou(R,Uo))})(I),z=Object.assign({},Us,D,R,I);return z.showClass=Object.assign({},Us.showClass,z.showClass),z.hideClass=Object.assign({},Us.hideClass,z.hideClass),z},rl=I=>{const D={popup:be(),container:Qe(),actions:hi(),confirmButton:et(),denyButton:rt(),cancelButton:Et(),loader:ct(),closeButton:Me(),validationMessage:oe(),progressSteps:Ve()};return ce.domCache.set(I,D),D},Ea=(I,D,R)=>{const z=Ee();cn(z),D.timer&&(I.timeout=new Xn(()=>{R("timer"),delete I.timeout},D.timer),D.timerProgressBar&&(Vn(z),Zt(z,D,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&hn(D.timer)})))},mo=(I,D)=>{if(!D.toast){if(!te(D.allowEnterKey))return void rs();jo(I,D)||Qn(-1,1)}},jo=(I,D)=>D.focusDeny&&zn(I.denyButton)?(I.denyButton.focus(),!0):D.focusCancel&&zn(I.cancelButton)?(I.cancelButton.focus(),!0):!(!D.focusConfirm||!zn(I.confirmButton)||(I.confirmButton.focus(),0)),rs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,D=localStorage.getItem("swal-initiation");D?(I.getTime()-Date.parse(D))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(ns.prototype,rr),Object.assign(ns,sd),Object.keys(rr).forEach(I=>{ns[I]=function(){if(ts)return ts[I](...arguments)}}),ns.DismissReason=br,ns.version="11.7.5";const lu=ns;return lu.default=lu,lu}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ce,$){var d=ce.createElement("style");if(ce.getElementsByTagName("head")[0].appendChild(d),d.styleSheet)d.styleSheet.disabled||(d.styleSheet.cssText=$);else try{d.innerHTML=$}catch{d.innerText=$}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(Dt,ce,$)=>{"use strict";function ie(he,Ee){var Me={};for(var ke in he)Object.prototype.hasOwnProperty.call(he,ke)&&Ee.indexOf(ke)<0&&(Me[ke]=he[ke]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ke=0;for(ke=Object.getOwnPropertySymbols(he);Ke<ke.length;Ke++)Ee.indexOf(ke[Ke])<0&&Object.prototype.propertyIsEnumerable.call(he,ke[Ke])&&(Me[ke[Ke]]=he[ke[Ke]])}return Me}function te(he,Ee,Me,ke){return new(Me||(Me=Promise))(function(Be,Oe){function yt(ht){try{nt(ke.next(ht))}catch(ln){Oe(ln)}}function vn(ht){try{nt(ke.throw(ht))}catch(ln){Oe(ln)}}function nt(ht){ht.done?Be(ht.value):function Ke(Be){return Be instanceof Me?Be:new Me(function(Oe){Oe(Be)})}(ht.value).then(yt,vn)}nt((ke=ke.apply(he,Ee||[])).next())})}function Re(he){return this instanceof Re?(this.v=he,this):new Re(he)}function xe(he,Ee,Me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ke,ke=Me.apply(he,Ee||[]),Be=[];return Ke={},Oe("next"),Oe("throw"),Oe("return"),Ke[Symbol.asyncIterator]=function(){return this},Ke;function Oe(Zt){ke[Zt]&&(Ke[Zt]=function(En){return new Promise(function(mr,Hn){Be.push([Zt,En,mr,Hn])>1||yt(Zt,En)})})}function yt(Zt,En){try{!function vn(Zt){Zt.value instanceof Re?Promise.resolve(Zt.value.v).then(nt,ht):ln(Be[0][2],Zt)}(ke[Zt](En))}catch(mr){ln(Be[0][3],mr)}}function nt(Zt){yt("next",Zt)}function ht(Zt){yt("throw",Zt)}function ln(Zt,En){Zt(En),Be.shift(),Be.length&&yt(Be[0][0],Be[0][1])}}function qe(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,Ee=he[Symbol.asyncIterator];return Ee?Ee.call(he):(he=function Qe(he){var Ee="function"==typeof Symbol&&Symbol.iterator,Me=Ee&&he[Ee],ke=0;if(Me)return Me.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&ke>=he.length&&(he=void 0),{value:he&&he[ke++],done:!he}}};throw new TypeError(Ee?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),Me={},ke("next"),ke("throw"),ke("return"),Me[Symbol.asyncIterator]=function(){return this},Me);function ke(Be){Me[Be]=he[Be]&&function(Oe){return new Promise(function(yt,vn){!function Ke(Be,Oe,yt,vn){Promise.resolve(vn).then(function(nt){Be({value:nt,done:yt})},Oe)}(yt,vn,(Oe=he[Be](Oe)).done,Oe.value)})}}}$.d(ce,{FC:()=>xe,KL:()=>qe,_T:()=>ie,mG:()=>te,qq:()=>Re})},4650:(Dt,ce,$)=>{"use strict";$.d(ce,{$8M:()=>pu,$WT:()=>wr,$Z:()=>a0,AFp:()=>uE,AaK:()=>ve,AsE:()=>th,CHM:()=>fo,CRH:()=>vT,CZH:()=>lh,CqO:()=>k0,D6c:()=>ph,EJc:()=>Yv,EpF:()=>hD,F4k:()=>By,FYo:()=>ny,FiY:()=>Zo,GfV:()=>Bw,Gpc:()=>W,JOm:()=>Ft,KtG:()=>Vo,LFG:()=>Wt,LSH:()=>zm,Lbi:()=>Kf,Lck:()=>XD,MGl:()=>Oc,MMx:()=>ah,MR2:()=>lC,NdJ:()=>$y,O4$:()=>au,OlP:()=>gn,Oqu:()=>lg,P3R:()=>Pw,PXZ:()=>Jf,Q6J:()=>Kd,QGY:()=>Uy,Qsj:()=>yC,R0b:()=>xs,RDi:()=>ZI,Rgc:()=>zf,SBq:()=>Ld,Sil:()=>Qv,Suo:()=>yT,TTD:()=>tu,TgZ:()=>rg,WLB:()=>Ov,X6Q:()=>$g,XFs:()=>pt,Xpm:()=>Ht,Xts:()=>qm,Y36:()=>jd,YKP:()=>Mb,YNc:()=>ng,Yjl:()=>en,Yz7:()=>ht,Z0I:()=>mr,ZZ4:()=>Wg,_Bn:()=>xb,_UZ:()=>P0,_Vd:()=>Fd,_c5:()=>AE,_uU:()=>Z0,aQg:()=>E_,c2e:()=>OT,cJS:()=>Zt,cg1:()=>gg,dDg:()=>$T,dqk:()=>hn,eFA:()=>wE,eJc:()=>Jb,ekj:()=>Fc,eoX:()=>i_,f3M:()=>$n,g9A:()=>dE,h0i:()=>oh,hGG:()=>xE,hij:()=>cg,iGM:()=>mT,ifc:()=>B,ip1:()=>Og,jDz:()=>Rv,kL8:()=>RD,kcU:()=>ba,lG2:()=>Ot,lqb:()=>Ec,lri:()=>r_,n5z:()=>Jl,oAB:()=>re,oxw:()=>Qd,q4F:()=>$w,qLn:()=>uf,qOj:()=>Qp,qZA:()=>Vy,rWj:()=>mE,s9C:()=>Gy,sBO:()=>np,s_b:()=>Hv,soG:()=>Uc,tb:()=>Bg,tp0:()=>Tt,uIk:()=>eg,vHH:()=>we,vpe:()=>Wa,wAp:()=>Gt,xp6:()=>Jw,z2F:()=>ep,zSh:()=>Il,zs3:()=>Ud});var d=$(7579),N=$(727),L=$(9751),ie=$(6451),le=$(3099);function ae(s){for(let o in s)if(s[o]===ae)return o;throw Error("Could not find renamed property on target object.")}function me(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ve(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ve).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const K=ae({__forward_ref__:ae});function W(s){return s.__forward_ref__=W,s.toString=function(){return ve(this())},s}function te(s){return ze(s)?s():s}function ze(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===W}function Pe(s){return s&&!!s.\u0275providers}const Qe="https://g.co/ng/security#xss";class we extends Error{constructor(o,a){super(Ae(o,a)),this.code=o}}function Ae(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}function be(s){return"string"==typeof s?s:null==s?"":String(s)}function qe(s,o){throw new we(-201,!1)}function Be(s,o){null==s&&function Oe(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function ht(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zt(s){return{providers:s.providers||[],imports:s.imports||[]}}function En(s){return Hn(s,Zn)||Hn(s,Vn)}function mr(s){return null!==En(s)}function Hn(s,o){return s.hasOwnProperty(o)?s[o]:null}function _n(s){return s&&(s.hasOwnProperty(Rr)||s.hasOwnProperty(cn))?s[Rr]:null}const Zn=ae({\u0275prov:ae}),Rr=ae({\u0275inj:ae}),Vn=ae({ngInjectableDef:ae}),cn=ae({ngInjectorDef:ae});var pt=(()=>((pt=pt||{})[pt.Default=0]="Default",pt[pt.Host=1]="Host",pt[pt.Self=2]="Self",pt[pt.SkipSelf=4]="SkipSelf",pt[pt.Optional=8]="Optional",pt))();let Nn;function Kn(s){const o=Nn;return Nn=s,o}function yr(s,o,a){const l=En(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&pt.Optional?null:void 0!==o?o:void qe(ve(s))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Yn={},vr="__NG_DI_FLAG__",Un="ngTempTokenPath",Yr="ngTokenPath",Gn=/\n/gm,On="\u0275",nn="__source";let fi;function an(s){const o=fi;return fi=s,o}function Qr(s,o=pt.Default){if(void 0===fi)throw new we(-203,!1);return null===fi?yr(s,void 0,o):fi.get(s,o&pt.Optional?null:void 0,o)}function Wt(s,o=pt.Default){return(function zn(){return Nn}()||Qr)(te(s),o)}function $n(s,o=pt.Default){return Wt(s,_r(o))}function _r(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function kn(s){const o=[];for(let a=0;a<s.length;a++){const l=te(s[a]);if(Array.isArray(l)){if(0===l.length)throw new we(900,!1);let h,p=pt.Default;for(let y=0;y<l.length;y++){const E=l[y],T=kr(E);"number"==typeof T?-1===T?h=E.token:p|=T:h=E}o.push(Wt(h,p))}else o.push(Wt(l))}return o}function zr(s,o){return s[vr]=o,s.prototype[vr]=o,s}function kr(s){return s[vr]}function G(s){return{toString:s}.toString()}var U=(()=>((U=U||{})[U.OnPush=0]="OnPush",U[U.Default=1]="Default",U))(),B=(()=>{return(s=B||(B={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",B;var s})();const k={},Q=[],De=ae({\u0275cmp:ae}),at=ae({\u0275dir:ae}),Rt=ae({\u0275pipe:ae}),At=ae({\u0275mod:ae}),Xt=ae({\u0275fac:ae}),Vt=ae({__NG_ELEMENT_ID__:ae});let xn=0;function Ht(s){return G(()=>{const o=Ro(s),a={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===U.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||B.Emulated,id:"c"+xn++,styles:s.styles||Q,_:null,schemas:s.schemas||null,tView:null};Bl(a);const l=s.dependencies;return a.directiveDefs=ps(l,!1),a.pipeDefs=ps(l,!0),a})}function Bi(s){return It(s)||mn(s)}function ye(s){return null!==s}function re(s){return G(()=>({type:s.type,bootstrap:s.bootstrap||Q,declarations:s.declarations||Q,imports:s.imports||Q,exports:s.exports||Q,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function wt(s,o){if(null==s)return k;const a={};for(const l in s)if(s.hasOwnProperty(l)){let h=s[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}function Ot(s){return G(()=>{const o=Ro(s);return Bl(o),o})}function en(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function It(s){return s[De]||null}function mn(s){return s[at]||null}function dn(s){return s[Rt]||null}function wr(s){const o=It(s)||mn(s)||dn(s);return null!==o&&o.standalone}function lr(s,o){const a=s[At]||null;if(!a&&!0===o)throw new Error(`Type ${ve(s)} does not have '\u0275mod' property.`);return a}function Ro(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Q,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:wt(s.inputs,o),outputs:wt(s.outputs)}}function Bl(s){s.features?.forEach(o=>o(s))}function ps(s,o){if(!s)return null;const a=o?dn:Bi;return()=>("function"==typeof s?s():s).map(l=>a(l)).filter(ye)}const cr=0,st=1,Kt=2,Fn=3,yn=4,Ji=5,or=6,gs=7,Wn=8,No=9,Ci=10,Yt=11,la=12,br=13,eo=14,ms=15,Qn=16,ys=17,ks=18,pi=19,to=20,Or=21,Tn=22,Os=1,ko=2,Fs=7,vs=8,Ls=9,Er=10;function qr(s){return Array.isArray(s)&&"object"==typeof s[Os]}function Di(s){return Array.isArray(s)&&!0===s[Os]}function Vs(s){return 0!=(4&s.flags)}function ca(s){return s.componentOffset>-1}function Oo(s){return 1==(1&s.flags)}function Wr(s){return!!s.template}function _s(s){return 0!=(256&s[Kt])}function Xi(s,o){return s.hasOwnProperty(Xt)?s[Xt]:null}class eu{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function tu(){return oo}function oo(s){return s.type.prototype.ngOnChanges&&(s.setInput=Es),Gl}function Gl(){const s=da(this),o=s?.current;if(o){const a=s.previous;if(a===k)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Es(s,o,a,l){const h=this.declaredInputs[a],p=da(s)||function Gu(s,o){return s[nu]=o}(s,{previous:k,current:null}),y=p.current||(p.current={}),E=p.previous,T=E[h];y[h]=new eu(T&&T.currentValue,o,E===k),s[l]=o}tu.ngInherit=!0;const nu="__ngSimpleChanges__";function da(s){return s[nu]||null}const jn=function(s,o,a){},uo="svg";function rr(s){for(;Array.isArray(s);)s=s[cr];return s}function js(s,o){return rr(o[s])}function Ir(s,o){return rr(o[s.index])}function ha(s,o){return s.data[o]}function dr(s,o){const a=o[s];return qr(a)?a:a[cr]}function Is(s){return 64==(64&s[Kt])}function Ti(s,o){return null==o?null:s[o]}function co(s){s[ks]=0}function ho(s,o){s[Ji]+=o;let a=s,l=s[Fn];for(;null!==l&&(1===o&&1===a[Ji]||-1===o&&0===a[Ji]);)l[Ji]+=o,a=l,l=l[Fn]}const Bt={lFrame:$o(null),bindingsEnabled:!0};function iu(){return Bt.bindingsEnabled}function _e(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function fo(s){return Bt.lFrame.contextLView=s,s[Wn]}function Vo(s){return Bt.lFrame.contextLView=null,s}function Jn(){let s=Zu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Zu(){return Bt.lFrame.currentTNode}function ii(s,o){const a=Bt.lFrame;a.currentTNode=s,a.isParent=o}function ma(){return Bt.lFrame.isParent}function es(){return Bt.lFrame.bindingIndex++}function Si(s){const o=Bt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}function Qu(s,o){const a=Bt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Xn(o)}function Xn(s){Bt.lFrame.currentDirectiveIndex=s}function Bo(){return Bt.lFrame.currentQueryIndex}function Ju(s){Bt.lFrame.currentQueryIndex=s}function va(s){const o=s[st];return 2===o.type?o.declTNode:1===o.type?s[or]:null}function Xu(s,o,a){if(a&pt.SkipSelf){let h=o,p=s;for(;!(h=h.parent,null!==h||a&pt.Host||(h=va(p),null===h||(p=p[ms],10&h.type))););if(null===h)return!1;o=h,s=p}const l=Bt.lFrame=su();return l.currentTNode=o,l.lView=s,!0}function go(s){const o=su(),a=s[st];Bt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function su(){const s=Bt.lFrame,o=null===s?null:s.child;return null===o?$o(s):o}function $o(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function ou(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const _a=ou;function Ts(){const s=ou();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Cr(){return Bt.lFrame.selectedIndex}function ji(s){Bt.lFrame.selectedIndex=s}function Ln(){const s=Bt.lFrame;return ha(s.tView,s.selectedIndex)}function au(){Bt.lFrame.currentNamespace=uo}function ba(){!function od(){Bt.lFrame.currentNamespace=null}()}function ns(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:x,ngOnDestroy:O}=p;y&&(s.contentHooks??(s.contentHooks=[])).push(-a,y),E&&((s.contentHooks??(s.contentHooks=[])).push(a,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(a,E)),T&&(s.viewHooks??(s.viewHooks=[])).push(-a,T),x&&((s.viewHooks??(s.viewHooks=[])).push(a,x),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(a,x)),null!=O&&(s.destroyHooks??(s.destroyHooks=[])).push(a,O)}}function uu(s,o,a){Ea(s,o,3,a)}function nl(s,o,a,l){(3&s[Kt])===a&&Ea(s,o,a,l)}function rl(s,o){let a=s[Kt];(3&a)===o&&(a&=2047,a+=1,s[Kt]=a)}function Ea(s,o,a,l){const p=l??-1,y=o.length-1;let E=0;for(let T=void 0!==l?65535&s[ks]:0;T<y;T++)if("number"==typeof o[T+1]){if(E=o[T],null!=l&&E>=l)break}else o[T]<0&&(s[ks]+=65536),(E<p||-1==p)&&(mo(s,a,o,T),s[ks]=(4294901760&s[ks])+T+2),T++}function mo(s,o,a,l){const h=a[l]<0,p=a[l+1],E=s[h?-a[l]:a[l]];if(h){if(s[Kt]>>11<s[ks]>>16&&(3&s[Kt])===o){s[Kt]+=2048,jn(4,E,p);try{p.call(E)}finally{jn(5,E,p)}}}else{jn(4,E,p);try{p.call(E)}finally{jn(5,E,p)}}}const jo=-1;class rs{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function fr(s,o,a){let l=0;for(;l<a.length;){const h=a[l];if("number"==typeof h){if(0!==h)break;l++;const p=a[l++],y=a[l++],E=a[l++];s.setAttribute(o,y,E,p)}else{const p=h,y=a[++l];si(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),l++}}return l}function Fr(s){return 3===s||4===s||6===s}function si(s){return 64===s.charCodeAt(0)}function is(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Ia(s,a,h,null,-1===a||2===a?o[++l]:null)}}return s}function Ia(s,o,a,l,h){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const E=s[p++];if("number"==typeof E){if(E===o){y=-1;break}if(E>o){y=p-1;break}}}for(;p<s.length;){const E=s[p];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(s[p+1]=h));if(l===s[p+1])return void(s[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,a),null!==l&&s.splice(p++,0,l),null!==h&&s.splice(p++,0,h)}function Ho(s){return s!==jo}function Ca(s){return 32767&s}function du(s,o){let a=function cu(s){return s>>16}(s),l=o;for(;a>0;)l=l[ms],a--;return l}let Wl=!0;function hu(s){const o=Wl;return Wl=s,o}const Zl=255,il=5;let Kl=0;const yi={};function Yl(s,o){const a=ud(s,o);if(-1!==a)return a;const l=o[st];l.firstCreatePass&&(s.injectorIndex=o.length,Ss(l.data,s),Ss(o,null),Ss(l.blueprint,null));const h=ar(s,o),p=s.injectorIndex;if(Ho(h)){const y=Ca(h),E=du(h,o),T=E[st].data;for(let x=0;x<8;x++)o[p+x]=E[y+x]|T[y+x]}return o[p+8]=h,p}function Ss(s,o){s.push(0,0,0,0,0,0,0,0,o)}function ud(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function ar(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){if(l=zo(h),null===l)return jo;if(a++,h=h[ms],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return jo}function yo(s,o,a){!function ad(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(Vt)&&(l=a[Vt]),null==l&&(l=a[Vt]=Kl++);const h=l&Zl;o.data[s+(h>>il)]|=1<<h}(s,o,a)}function ld(s,o,a){if(a&pt.Optional||void 0!==s)return s;qe()}function fu(s,o,a,l){if(a&pt.Optional&&void 0===l&&(l=null),!(a&(pt.Self|pt.Host))){const h=s[No],p=Kn(void 0);try{return h?h.get(o,l,a&pt.Optional):yr(o,l,a&pt.Optional)}finally{Kn(p)}}return ld(l,0,a)}function cd(s,o,a,l=pt.Default,h){if(null!==s){if(1024&o[Kt]){const y=function Lh(s,o,a,l,h){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[Kt]&&!(256&y[Kt]);){const E=ol(p,y,a,l|pt.Self,yi);if(E!==yi)return E;let T=p.parent;if(!T){const x=y[Or];if(x){const O=x.get(a,yi,l);if(O!==yi)return O}T=zo(y),y=y[ms]}p=T}return h}(s,o,a,l,yi);if(y!==yi)return y}const p=ol(s,o,a,l,yi);if(p!==yi)return p}return fu(o,a,l,h)}function ol(s,o,a,l,h){const p=function Fh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Vt)?s[Vt]:void 0;return"number"==typeof o?o>=0?o&Zl:Ql:o}(a);if("function"==typeof p){if(!Xu(o,s,l))return l&pt.Host?ld(h,0,l):fu(o,a,l,h);try{const y=p(l);if(null!=y||l&pt.Optional)return y;qe()}finally{_a()}}else if("number"==typeof p){let y=null,E=ud(s,o),T=jo,x=l&pt.Host?o[Qn][or]:null;for((-1===E||l&pt.SkipSelf)&&(T=-1===E?ar(s,o):o[E+8],T!==jo&&al(l,!1)?(y=o[st],E=Ca(T),o=du(T,o)):E=-1);-1!==E;){const O=o[st];if(vo(p,E,O.data)){const j=Dr(E,o,a,y,l,x);if(j!==yi)return j}T=o[E+8],T!==jo&&al(l,o[st].data[E+8]===x)&&vo(p,E,o)?(y=O,E=Ca(T),o=du(T,o)):E=-1}}return h}function Dr(s,o,a,l,h,p){const y=o[st],E=y.data[s+8],O=Da(E,y,a,null==l?ca(E)&&Wl:l!=y&&0!=(3&E.type),h&pt.Host&&p===E);return null!==O?er(o,y,O,E):yi}function Da(s,o,a,l,h){const p=s.providerIndexes,y=o.data,E=1048575&p,T=s.directiveStart,O=p>>20,J=h?E+O:s.directiveEnd;for(let se=l?E:E+O;se<J;se++){const Se=y[se];if(se<T&&a===Se||se>=T&&Se.type===a)return se}if(h){const se=y[T];if(se&&Wr(se)&&se.type===a)return T}return null}function er(s,o,a,l){let h=s[a];const p=o.data;if(function lu(s){return s instanceof rs}(h)){const y=h;y.resolving&&function Re(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${a}`)}(function He(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():be(s)}(p[a]));const E=hu(y.canSeeViewProviders);y.resolving=!0;const T=y.injectImpl?Kn(y.injectImpl):null;Xu(s,l,pt.Default);try{h=s[a]=y.factory(void 0,p,s,l),o.firstCreatePass&&a>=l.directiveStart&&function ts(s,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const y=oo(o);(a.preOrderHooks??(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,y)}h&&(a.preOrderHooks??(a.preOrderHooks=[])).push(0-s,h),p&&((a.preOrderHooks??(a.preOrderHooks=[])).push(s,p),(a.preOrderCheckHooks??(a.preOrderCheckHooks=[])).push(s,p))}(a,p[a],o)}finally{null!==T&&Kn(T),hu(E),y.resolving=!1,_a()}}return h}function vo(s,o,a){return!!(a[o+(s>>il)]&1<<s)}function al(s,o){return!(s&pt.Self||s&pt.Host&&o)}class Ta{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return cd(this._tNode,this._lView,o,_r(l),a)}}function Ql(){return new Ta(Jn(),_e())}function Jl(s){return G(()=>{const o=s.prototype.constructor,a=o[Xt]||_o(o),l=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==l;){const p=h[Xt]||_o(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function _o(s){return ze(s)?()=>{const o=_o(te(s));return o&&o()}:Xi(s)}function zo(s){const o=s[st],a=o.type;return 2===a?o.declTNode:1===a?s[or]:null}function pu(s){return function sl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(Fr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(Jn(),s)}const Sa="__parameters__";function qo(s,o,a){return G(()=>{const l=function dd(s){return function(...a){if(s){const l=s(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const y=new h(...p);return E.annotation=y,E;function E(T,x,O){const j=T.hasOwnProperty(Sa)?T[Sa]:Object.defineProperty(T,Sa,{value:[]})[Sa];for(;j.length<=O;)j.push(null);return(j[O]=j[O]||[]).push(y),T}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class gn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=ht({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function wo(s,o){s.forEach(a=>Array.isArray(a)?wo(a,o):o(a))}function ic(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function gu(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Hi(s,o,a){let l=ss(s,o);return l>=0?s[1|l]=a:(l=~l,function dl(s,o,a,l){let h=s.length;if(h==o)s.push(a,l);else if(1===h)s.push(l,s[0]),s[0]=a;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function bn(s,o){const a=ss(s,o);if(a>=0)return s[1|a]}function ss(s,o){return function os(s,o,a){let l=0,h=s.length>>a;for(;h!==l;){const p=l+(h-l>>1),y=s[p<<a];if(o===y)return p<<a;y>o?h=p:l=p+1}return~(h<<a)}(s,o,1)}const Zo=zr(qo("Optional"),8),Tt=zr(qo("SkipSelf"),4);var Ft=(()=>((Ft=Ft||{})[Ft.Important=1]="Important",Ft[Ft.DashCase=2]="DashCase",Ft))();const wd=new Map;let Ws=0;const Y="__ngContext__";function X(s,o){qr(o)?(s[Y]=o[to],function bd(s){wd.set(s[to],s)}(o)):s[Y]=o}let Mi;function ei(s,o){return Mi(s,o)}function Id(s){const o=s[Fn];return Di(o)?o[Fn]:o}function Cu(s){return Hh(s[br])}function Du(s){return Hh(s[yn])}function Hh(s){for(;null!==s&&!Di(s);)s=s[yn];return s}function ka(s,o,a,l,h){if(null!=l){let p,y=!1;Di(l)?p=l:qr(l)&&(y=!0,l=l[cr]);const E=rr(l);0===s&&null!==a?null==h?_i(o,a,E):rn(o,a,E,h||null,!0):1===s&&null!==a?rn(o,a,E,h||null,!0):2===s?function Rm(s,o,a){const l=Zs(s,o);l&&function Oa(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,E,y):3===s&&o.destroyNode(E),null!=p&&function Kh(s,o,a,l,h){const p=a[Fs];p!==rr(a)&&ka(o,s,l,p,h);for(let E=Er;E<a.length;E++){const T=a[E];Zh(T[st],T,s,o,l,p)}}(o,s,p,a,h)}}function Gh(s,o,a){return s.createElement(o,a)}function b(s,o){const a=s[Ls],l=a.indexOf(o),h=o[Fn];512&o[Kt]&&(o[Kt]&=-513,ho(h,-1)),a.splice(l,1)}function P(s,o){if(s.length<=Er)return;const a=Er+o,l=s[a];if(l){const h=l[ys];null!==h&&h!==s&&b(h,l),o>0&&(s[a-1][yn]=l[yn]);const p=gu(s,Er+o);!function Pp(s,o){Zh(s,o,o[Yt],2,null,null),o[cr]=null,o[or]=null}(l[st],l);const y=p[pi];null!==y&&y.detachView(p[st]),l[Fn]=null,l[yn]=null,l[Kt]&=-65}return l}function V(s,o){if(!(128&o[Kt])){const a=o[Yt];a.destroyNode&&Zh(s,o,a,3,null,null),function v(s){let o=s[br];if(!o)return ee(s[st],s);for(;o;){let a=null;if(qr(o))a=o[br];else{const l=o[Er];l&&(a=l)}if(!a){for(;o&&!o[yn]&&o!==s;)qr(o)&&ee(o[st],o),o=o[Fn];null===o&&(o=s),qr(o)&&ee(o[st],o),a=o&&o[yn]}o=a}}(o)}}function ee(s,o){if(!(128&o[Kt])){o[Kt]&=-65,o[Kt]|=128,function We(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof rs)){const p=a[l+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const E=h[p[y]],T=p[y+1];jn(4,E,T);try{T.call(E)}finally{jn(5,E,T)}}else{jn(4,h,p);try{p.call(h)}finally{jn(5,h,p)}}}}}(s,o),function fe(s,o){const a=s.cleanup,l=o[gs];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const y=a[p+3];y>=0?l[h=y]():l[h=-y].unsubscribe(),p+=2}else{const y=l[h=a[p+1]];a[p].call(y)}if(null!==l){for(let p=h+1;p<l.length;p++)(0,l[p])();o[gs]=null}}(s,o),1===o[st].type&&o[Yt].destroy();const a=o[ys];if(null!==a&&Di(o[Fn])){a!==o[Fn]&&b(a,o);const l=o[pi];null!==l&&l.detachView(s)}!function Ed(s){wd.delete(s[to])}(o)}}function it(s,o,a){return function St(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[cr];{const{componentOffset:h}=l;if(h>-1){const{encapsulation:p}=s.data[l.directiveStart+h];if(p===B.None||p===B.Emulated)return null}return Ir(l,a)}}(s,o.parent,a)}function rn(s,o,a,l,h){s.insertBefore(o,a,l,h)}function _i(s,o,a){s.appendChild(o,a)}function ea(s,o,a,l,h){null!==l?rn(s,o,a,l,h):_i(s,o,a)}function Zs(s,o){return s.parentNode(o)}let Td,Om,Rp,Fa=function _c(s,o,a){return 40&s.type?Ir(s,a):null};function wl(s,o,a,l){const h=it(s,l,o),p=o[Yt],E=function Dd(s,o,a){return Fa(s,o,a)}(l.parent||o[or],l,o);if(null!=h)if(Array.isArray(a))for(let T=0;T<a.length;T++)ea(p,h,a[T],E,!1);else ea(p,h,a,E,!1);void 0!==Td&&Td(p,l,o,a,h)}function Ad(s,o){if(null!==o){const a=o.type;if(3&a)return Ir(o,s);if(4&a)return La(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Ad(s,l);{const h=s[o.index];return Di(h)?La(-1,h):rr(h)}}if(32&a)return ei(o,s)()||rr(s[o.index]);{const l=bl(s,o);return null!==l?Array.isArray(l)?l[0]:Ad(Id(s[Qn]),l):Ad(s,o.next)}}return null}function bl(s,o){return null!==o?s[Qn][or].projection[o.projection]:null}function La(s,o){const a=Er+s+1;if(a<o.length){const l=o[a],h=l[st].firstChild;if(null!==h)return Ad(l,h)}return o[Fs]}function Wh(s,o,a,l,h,p,y){for(;null!=a;){const E=l[a.index],T=a.type;if(y&&0===o&&(E&&X(rr(E),l),a.flags|=2),32!=(32&a.flags))if(8&T)Wh(s,o,a.child,l,h,p,!1),ka(o,s,h,E,p);else if(32&T){const x=ei(a,l);let O;for(;O=x();)ka(o,s,h,O,p);ka(o,s,h,E,p)}else 16&T?Nm(s,o,l,a,h,p):ka(o,s,h,E,p);a=y?a.projectionNext:a.next}}function Zh(s,o,a,l,h,p){Wh(a,l,s.firstChild,o,h,p,!1)}function Nm(s,o,a,l,h,p){const y=a[Qn],T=y[or].projection[l.projection];if(Array.isArray(T))for(let x=0;x<T.length;x++)ka(o,s,h,T[x],p);else Wh(s,o,T,y[Fn],h,p,!0)}function El(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function Yh(s,o,a){const{mergedAttrs:l,classes:h,styles:p}=a;null!==l&&fr(s,o,l),null!==h&&El(s,o,h),null!==p&&function km(s,o,a){s.setAttribute(o,"style",a)}(s,o,p)}function ZI(s){Om=s}function ww(s){return function Fm(){if(void 0===Rp&&(Rp=null,hn.trustedTypes))try{Rp=hn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Rp}()?.createScriptURL(s)||s}class bw{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Qe})`}}function Ua(s){return s instanceof bw?s.changingThisBreaksApplicationSecurity:s}function Ks(s,o){const a=function Md(s){return s instanceof bw&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${Qe})`)}return a===o}const Dw=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Vr=(()=>((Vr=Vr||{})[Vr.NONE=0]="NONE",Vr[Vr.HTML=1]="HTML",Vr[Vr.STYLE=2]="STYLE",Vr[Vr.SCRIPT=3]="SCRIPT",Vr[Vr.URL=4]="URL",Vr[Vr.RESOURCE_URL=5]="RESOURCE_URL",Vr))();function zm(s){const o=rf();return o?o.sanitize(Vr.URL,s)||"":Ks(s,"URL")?Ua(s):function Xh(s){return(s=String(s)).match(Dw)?s:"unsafe:"+s}(be(s))}function Lp(s){const o=rf();if(o)return ww(o.sanitize(Vr.RESOURCE_URL,s)||"");if(Ks(s,"ResourceURL"))return ww(Ua(s));throw new we(904,!1)}function Pw(s,o,a){return function aC(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?Lp:zm}(o,a)(s)}function rf(){const s=_e();return s&&s[la]}const qm=new gn("ENVIRONMENT_INITIALIZER"),bc=new gn("INJECTOR",-1),Rd=new gn("INJECTOR_DEF_TYPES");class Rw{get(o,a=Yn){if(a===Yn){const l=new Error(`NullInjectorError: No provider for ${ve(o)}!`);throw l.name="NullInjectorError",l}return a}}function lC(s){return{\u0275providers:s}}function sf(...s){return{\u0275providers:Nd(0,s),\u0275fromNgModule:!0}}function Nd(s,...o){const a=[],l=new Set;let h;return wo(o,p=>{const y=p;Wm(y,a,[],l)&&(h||(h=[]),h.push(y))}),void 0!==h&&Nw(h,a),a}function Nw(s,o){for(let a=0;a<s.length;a++){const{providers:h}=s[a];Zm(h,p=>{o.push(p)})}}function Wm(s,o,a,l){if(!(s=te(s)))return!1;let h=null,p=_n(s);const y=!p&&It(s);if(p||y){if(y&&!y.standalone)return!1;h=s}else{const T=s.ngModule;if(p=_n(T),!p)return!1;h=T}const E=l.has(h);if(y){if(E)return!1;if(l.add(h),y.dependencies){const T="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const x of T)Wm(x,o,a,l)}}else{if(!p)return!1;{if(null!=p.imports&&!E){let x;l.add(h);try{wo(p.imports,O=>{Wm(O,o,a,l)&&(x||(x=[]),x.push(O))})}finally{}void 0!==x&&Nw(x,o)}if(!E){const x=Xi(h)||(()=>new h);o.push({provide:h,useFactory:x,deps:Q},{provide:Rd,useValue:h,multi:!0},{provide:qm,useValue:()=>Wt(h),multi:!0})}const T=p.providers;null==T||E||Zm(T,O=>{o.push(O)})}}return h!==s&&void 0!==s.providers}function Zm(s,o){for(let a of s)Pe(a)&&(a=a.\u0275providers),Array.isArray(a)?Zm(a,o):o(a)}const cC=ae({provide:String,useValue:ae});function Km(s){return null!==s&&"object"==typeof s&&cC in s}function Tu(s){return"function"==typeof s}const Il=new gn("Set Injector scope."),Up={},hC={};let Ym;function Bp(){return void 0===Ym&&(Ym=new Rw),Ym}class Ec{}class Ow extends Ec{get destroyed(){return this._destroyed}constructor(o,a,l,h){super(),this.parent=a,this.source=l,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Od(o,y=>this.processProvider(y)),this.records.set(bc,kd(void 0,this)),h.has("environment")&&this.records.set(Ec,kd(void 0,this));const p=this.records.get(Il);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(Rd.multi,Q,pt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=an(this),l=Kn(void 0);try{return o()}finally{an(a),Kn(l)}}get(o,a=Yn,l=pt.Default){this.assertNotDestroyed(),l=_r(l);const h=an(this),p=Kn(void 0);try{if(!(l&pt.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=function ey(s){return"function"==typeof s||"object"==typeof s&&s instanceof gn}(o)&&En(o);E=T&&this.injectableDefInScope(T)?kd(Qm(o),Up):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&pt.Self?Bp():this.parent).get(o,a=l&pt.Optional&&a===Yn?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[Un]=y[Un]||[]).unshift(ve(o)),h)throw y;return function Gr(s,o,a,l){const h=s[Un];throw o[nn]&&h.unshift(o[nn]),s.message=function q(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==On?s.slice(2):s;let h=ve(o);if(Array.isArray(o))h=o.map(ve).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let E=o[y];p.push(y+":"+("string"==typeof E?JSON.stringify(E):ve(E)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${s.replace(Gn,"\n  ")}`}("\n"+s.message,h,a,l),s[Yr]=h,s[Un]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Kn(p),an(h)}}resolveInjectorInitializers(){const o=an(this),a=Kn(void 0);try{const l=this.get(qm.multi,Q,pt.Self);for(const h of l)h()}finally{an(o),Kn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ve(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(o){let a=Tu(o=te(o))?o:te(o&&o.provide);const l=function pC(s){return Km(s)?kd(void 0,s.useValue):kd(Jm(s),Up)}(o);if(Tu(o)||!0!==o.multi)this.records.get(a);else{let h=this.records.get(a);h||(h=kd(void 0,Up,!0),h.factory=()=>kn(h.multi),this.records.set(a,h)),a=o,h.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Up&&(a.value=hC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Fw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=te(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function Qm(s){const o=En(s),a=null!==o?o.factory:Xi(s);if(null!==a)return a;if(s instanceof gn)throw new we(204,!1);if(s instanceof Function)return function fC(s){const o=s.length;if(o>0)throw function Aa(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}(o,"?"),new we(204,!1);const a=function Lt(s){return s&&(s[Zn]||s[Vn])||null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new we(204,!1)}function Jm(s,o,a){let l;if(Tu(s)){const h=te(s);return Xi(h)||Qm(h)}if(Km(s))l=()=>te(s.useValue);else if(function kw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...kn(s.deps||[]));else if(function dC(s){return!(!s||!s.useExisting)}(s))l=()=>Wt(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Xm(s){return!!s.deps}(s))return Xi(h)||Qm(h);l=()=>new h(...kn(s.deps))}return l}function kd(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Od(s,o){for(const a of s)Array.isArray(a)?Od(a,o):a&&Pe(a)?Od(a.\u0275providers,o):o(a)}class gC{}class Lw{}class Uw{resolveComponentFactory(o){throw function mC(s){const o=Error(`No component factory found for ${ve(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Fd=(()=>{class s{}return s.NULL=new Uw,s})();function $p(){return Su(Jn(),_e())}function Su(s,o){return new Ld(Ir(s,o))}let Ld=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=$p,s})();function af(s){return s instanceof Ld?s.nativeElement:s}class ny{}let yC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function vC(){const s=_e(),a=dr(Jn().index,s);return(qr(a)?a:s)[Yt]}(),s})(),_C=(()=>{class s{}return s.\u0275prov=ht({token:s,providedIn:"root",factory:()=>null}),s})();class Bw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const $w=new Bw("15.2.9"),jp={},ry="ngOriginalError";function iy(s){return s[ry]}class uf{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&iy(o);for(;a&&iy(a);)a=iy(a);return a||null}}function Ba(s){return s instanceof Function?s():s}function Ww(s,o,a){let l=s.length;for(;;){const h=s.indexOf(o,a);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||s.charCodeAt(h+p)<=32)return h}a=h+1}}const sy="ng-template";function oy(s,o,a){let l=0,h=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&h){const y=s[l++];if(a&&"class"===p&&-1!==Ww(y.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(h=!1)}}return!1}function ay(s){return 4===s.type&&s.value!==sy}function Vd(s,o,a){return o===(4!==s.type||a?s.value:sy)}function uy(s,o,a){let l=4;const h=s.attrs||[],p=function Kw(s){for(let o=0;o<s.length;o++)if(Fr(s[o]))return o;return s.length}(h);let y=!1;for(let E=0;E<o.length;E++){const T=o[E];if("number"!=typeof T){if(!y)if(4&l){if(l=2|1&l,""!==T&&!Vd(s,T,a)||""===T&&1===o.length){if(na(l))return!1;y=!0}}else{const x=8&l?T:o[++E];if(8&l&&null!==s.attrs){if(!oy(s.attrs,x,a)){if(na(l))return!1;y=!0}continue}const j=Zw(8&l?"class":T,h,ay(s),a);if(-1===j){if(na(l))return!1;y=!0;continue}if(""!==x){let J;J=j>p?"":h[j+1].toLowerCase();const se=8&l?J:null;if(se&&-1!==Ww(se,x,0)||2&l&&x!==J){if(na(l))return!1;y=!0}}}}else{if(!y&&!na(l)&&!na(T))return!1;if(y&&na(T))continue;y=!1,l=T|1&l}}return na(l)||y}function na(s){return 0==(1&s)}function Zw(s,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const y=o[h];if(y===s)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function Yw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function cf(s,o,a=!1){for(let l=0;l<o.length;l++)if(uy(s,o[l],a))return!0;return!1}function Qw(s,o){return s?":not("+o.trim()+")":o}function SC(s){let o=s[0],a=1,l=2,h="",p=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const E=s[++a];h+="["+y+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+y:4&l&&(h+=" "+y);else""!==h&&!na(y)&&(o+=Qw(p,h),h=""),l=y,p=p||!na(l);a++}return""!==h&&(o+=Qw(p,h)),o}const tn={};function Jw(s){Xw(zt(),_e(),Cr()+s,!1)}function Xw(s,o,a,l){if(!l)if(3==(3&o[Kt])){const p=s.preOrderCheckHooks;null!==p&&uu(o,p,a)}else{const p=s.preOrderHooks;null!==p&&nl(o,p,0,a)}ji(a)}function t0(s,o=null,a=null,l){const h=ly(s,o,a,l);return h.resolveInjectorInitializers(),h}function ly(s,o=null,a=null,l,h=new Set){const p=[a||Q,sf(s)];return l=l||("object"==typeof s?void 0:ve(s)),new Ow(p,o||Bp(),l||null,h)}let Ud=(()=>{class s{static create(a,l){if(Array.isArray(a))return t0({name:""},l,a,"");{const h=a.name??"";return t0({name:h},a.parent,a.providers,h)}}}return s.THROW_IF_NOT_FOUND=Yn,s.NULL=new Rw,s.\u0275prov=ht({token:s,providedIn:"any",factory:()=>Wt(bc)}),s.__NG_ELEMENT_ID__=-1,s})();function jd(s,o=pt.Default){const a=_e();return null===a?Wt(s,o):cd(Jn(),a,te(s),o)}function a0(){throw new Error("invalid")}function u0(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const p=a[l+1];if(-1!==p){const y=s.data[p];Ju(a[l]),y.contentQueries(2,o[p],p)}}}function Wp(s,o,a,l,h,p,y,E,T,x,O){const j=o.blueprint.slice();return j[cr]=h,j[Kt]=76|l,(null!==O||s&&1024&s[Kt])&&(j[Kt]|=1024),co(j),j[Fn]=j[ms]=s,j[Wn]=a,j[Ci]=y||s&&s[Ci],j[Yt]=E||s&&s[Yt],j[la]=T||s&&s[la]||null,j[No]=x||s&&s[No]||null,j[or]=p,j[to]=function gc(){return Ws++}(),j[Or]=O,j[Qn]=2==o.type?s[Qn]:j,j}function pf(s,o,a,l,h){let p=s.data[o];if(null===p)p=function Hd(s,o,a,l,h){const p=Zu(),y=ma(),T=s.data[o]=function qC(s,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,a,o,l,h);return null===s.firstChild&&(s.firstChild=T),null!==p&&(y?null==p.child&&null!==T.parent&&(p.child=T):null===p.next&&(p.next=T,T.prev=p)),T}(s,o,a,l,h),function ya(){return Bt.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const y=function po(){const s=Bt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return ii(p,!0),p}function Cc(s,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return h}function ra(s,o,a){go(o);try{const l=s.viewQuery;null!==l&&Kp(1,l,a);const h=s.template;null!==h&&c0(s,o,h,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&u0(s,o),s.staticViewQueries&&Kp(2,s.viewQuery,a);const p=s.components;null!==p&&function l0(s,o){for(let a=0;a<o.length;a++)XC(s,o[a])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[Kt]&=-5,Ts()}}function py(s,o,a,l){const h=o[Kt];if(128!=(128&h)){go(o);try{co(o),function Ds(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&c0(s,o,a,2,l);const y=3==(3&h);if(y){const x=s.preOrderCheckHooks;null!==x&&uu(o,x,null)}else{const x=s.preOrderHooks;null!==x&&nl(o,x,0,null),rl(o,0)}if(function JC(s){for(let o=Cu(s);null!==o;o=Du(o)){if(!o[ko])continue;const a=o[Ls];for(let l=0;l<a.length;l++){const h=a[l];512&h[Kt]||ho(h[Fn],1),h[Kt]|=512}}}(o),function _0(s){for(let o=Cu(s);null!==o;o=Du(o))for(let a=Er;a<o.length;a++){const l=o[a],h=l[st];Is(l)&&py(h,l,h.template,l[Wn])}}(o),null!==s.contentQueries&&u0(s,o),y){const x=s.contentCheckHooks;null!==x&&uu(o,x)}else{const x=s.contentHooks;null!==x&&nl(o,x,1),rl(o,1)}!function zC(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)ji(~h);else{const p=h,y=a[++l],E=a[++l];Qu(y,p),E(2,o[p])}}}finally{ji(-1)}}(s,o);const E=s.components;null!==E&&function GC(s,o){for(let a=0;a<o.length;a++)i1(s,o[a])}(o,E);const T=s.viewQuery;if(null!==T&&Kp(2,T,l),y){const x=s.viewCheckHooks;null!==x&&uu(o,x)}else{const x=s.viewHooks;null!==x&&nl(o,x,2),rl(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[Kt]&=-41,512&o[Kt]&&(o[Kt]&=-513,ho(o[Fn],-1))}finally{Ts()}}}function c0(s,o,a,l,h){const p=Cr(),y=2&l;try{ji(-1),y&&o.length>Tn&&Xw(s,o,Tn,!1),jn(y?2:0,h),a(l,h)}finally{ji(p),jn(y?3:1,h)}}function gy(s,o,a){if(Vs(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,a[p],p)}}}function my(s,o,a){iu()&&(function p0(s,o,a,l){const h=a.directiveStart,p=a.directiveEnd;ca(a)&&function n1(s,o,a){const l=Ir(o,s),h=vy(a),p=s[Ci],y=qd(s,Wp(s,h,null,a.onPush?32:16,l,o,p,p.createRenderer(l,a),null,null,null));s[o.index]=y}(o,a,s.data[h+a.componentOffset]),s.firstCreatePass||Yl(a,o),X(l,o);const y=a.initialInputs;for(let E=h;E<p;E++){const T=s.data[E],x=er(o,s,E,a);X(x,o),null!==y&&r1(0,E-h,x,T,0,y),Wr(T)&&(dr(a.index,o)[Wn]=er(o,s,E,a))}}(s,o,a,Ir(a,o)),64==(64&a.flags)&&g0(s,o,a))}function yy(s,o,a=Ir){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const y=l[p+1],E=-1===y?a(o,s):s[y];s[h++]=E}}}function vy(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=zd(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function zd(s,o,a,l,h,p,y,E,T,x){const O=Tn+l,j=O+h,J=function Cl(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:tn);return a}(O,j),se="function"==typeof x?x():x;return J[st]={type:s,blueprint:J,template:a,queries:null,viewQuery:E,declTNode:o,data:J.slice().fill(null,O),bindingStartIndex:O,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:T,consts:se,incompleteFirstPass:!1}}function d0(s,o,a,l){const h=b0(o);null===a?h.push(l):(h.push(a),s.firstCreatePass&&E0(s).push(l,h.length-1))}function _y(s,o,a,l){for(let h in s)if(s.hasOwnProperty(h)){a=null===a?{}:a;const p=s[h];null===l?wy(a,o,h,p):l.hasOwnProperty(h)&&wy(a,o,l[h],p)}return a}function wy(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function Ri(s,o,a,l,h,p,y,E){const T=Ir(o,a);let O,x=o.inputs;!E&&null!=x&&(O=x[l])?(Dl(s,a,O,l,h),ca(o)&&function ti(s,o){const a=dr(o,s);16&a[Kt]||(a[Kt]|=32)}(a,o.index)):3&o.type&&(l=function WC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),h=null!=y?y(h,o.value||"",l):h,p.setProperty(T,l,h))}function Gd(s,o,a,l){if(iu()){const h=null===l?null:{"":-1},p=function KC(s,o){const a=s.directiveRegistry;let l=null,h=null;if(a)for(let p=0;p<a.length;p++){const y=a[p];if(cf(o,y.selectors,!1))if(l||(l=[]),Wr(y))if(null!==y.findHostDirectiveDefs){const E=[];h=h||new Map,y.findHostDirectiveDefs(y,E,h),l.unshift(...E,y),Dc(s,o,E.length)}else l.unshift(y),Dc(s,o,0);else h=h||new Map,y.findHostDirectiveDefs?.(y,l,h),l.push(y)}return null===l?null:[l,h]}(s,a);let y,E;null===p?y=E=null:[y,E]=p,null!==y&&Ey(s,o,a,y,h,E),h&&function YC(s,o,a){if(o){const l=s.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new we(-301,!1);l.push(o[h],p)}}}(a,l,h)}a.mergedAttrs=is(a.mergedAttrs,a.attrs)}function Ey(s,o,a,l,h,p){for(let x=0;x<l.length;x++)yo(Yl(a,o),s,l[x].type);!function e1(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let x=0;x<l.length;x++){const O=l[x];O.providersResolver&&O.providersResolver(O)}let y=!1,E=!1,T=Cc(s,o,l.length,null);for(let x=0;x<l.length;x++){const O=l[x];a.mergedAttrs=is(a.mergedAttrs,O.hostAttrs),t1(s,a,o,T,O),m0(T,O,h),null!==O.contentQueries&&(a.flags|=4),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(a.flags|=64);const j=O.type.prototype;!y&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(a.index),y=!0),!E&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(a.index),E=!0),T++}!function h0(s,o,a){const h=o.directiveEnd,p=s.data,y=o.attrs,E=[];let T=null,x=null;for(let O=o.directiveStart;O<h;O++){const j=p[O],J=a?a.get(j):null,Se=J?J.outputs:null;T=_y(j.inputs,O,T,J?J.inputs:null),x=_y(j.outputs,O,x,Se);const Ze=null===T||null===y||ay(o)?null:QC(T,O,y);E.push(Ze)}null!==T&&(T.hasOwnProperty("class")&&(o.flags|=8),T.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=E,o.inputs=T,o.outputs=x}(s,a,p)}function g0(s,o,a){const l=a.directiveStart,h=a.directiveEnd,p=a.index,y=function sd(){return Bt.lFrame.currentDirectiveIndex}();try{ji(p);for(let E=l;E<h;E++){const T=s.data[E],x=o[E];Xn(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&ZC(T,x)}}finally{ji(-1),Xn(y)}}function ZC(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function Dc(s,o,a){o.componentOffset=a,(s.components??(s.components=[])).push(o.index)}function m0(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;Wr(o)&&(a[""]=s)}}function t1(s,o,a,l,h){s.data[l]=h;const p=h.factory||(h.factory=Xi(h.type)),y=new rs(p,Wr(h),jd);s.blueprint[l]=y,a[l]=y,function Iy(s,o,a,l,h){const p=h.hostBindings;if(p){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const E=~o.index;(function Cy(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=E&&y.push(E),y.push(a,l,p)}}(s,o,l,Cc(s,a,h.hostVars,tn),h)}function Au(s,o,a,l,h,p){const y=Ir(s,o);!function y0(s,o,a,l,h,p,y){if(null==p)s.removeAttribute(o,h,a);else{const E=null==y?be(p):y(p,l||"",h);s.setAttribute(o,h,E,a)}}(o[Yt],y,p,s.value,a,l,h)}function r1(s,o,a,l,h,p){const y=p[o];if(null!==y){const E=l.setInput;for(let T=0;T<y.length;){const x=y[T++],O=y[T++],j=y[T++];null!==E?l.setInput(a,j,x,O):a[O]=j}}}function QC(s,o,a){let l=null,h=0;for(;h<a.length;){const p=a[h];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const y=s[p];for(let E=0;E<y.length;E+=2)if(y[E]===o){l.push(p,y[E+1],a[h+1]);break}}h+=2}else h+=2;else h+=4}return l}function v0(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function i1(s,o){const a=dr(o,s);if(Is(a)){const l=a[st];48&a[Kt]?py(l,a,l.template,a[Wn]):a[Ji]>0&&Dy(a)}}function Dy(s){for(let l=Cu(s);null!==l;l=Du(l))for(let h=Er;h<l.length;h++){const p=l[h];if(Is(p))if(512&p[Kt]){const y=p[st];py(y,p,y.template,p[Wn])}else p[Ji]>0&&Dy(p)}const a=s[st].components;if(null!==a)for(let l=0;l<a.length;l++){const h=dr(a[l],s);Is(h)&&h[Ji]>0&&Dy(h)}}function XC(s,o){const a=dr(o,s),l=a[st];(function w0(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),ra(l,a,a[Wn])}function qd(s,o){return s[br]?s[eo][yn]=o:s[br]=o,s[eo]=o,o}function Zp(s){for(;s;){s[Kt]|=32;const o=Id(s);if(_s(s)&&!o)return s;s=o}return null}function gf(s,o,a,l=!0){const h=o[Ci];h.begin&&h.begin();try{py(s,o,s.template,a)}catch(y){throw l&&Ur(o,y),y}finally{h.end&&h.end()}}function Kp(s,o,a){Ju(0),o(s,a)}function b0(s){return s[gs]||(s[gs]=[])}function E0(s){return s.cleanup||(s.cleanup=[])}function Ur(s,o){const a=s[No],l=a?a.get(uf,null):null;l&&l.handleError(o)}function Dl(s,o,a,l,h){for(let p=0;p<a.length;){const y=a[p++],E=a[p++],T=o[y],x=s.data[y];null!==x.setInput?x.setInput(T,h,l,E):T[E]=h}}function xu(s,o,a){const l=js(o,s);!function zh(s,o,a){s.setValue(o,a)}(s[Yt],l,a)}function Ty(s,o,a){let l=a?s.styles:null,h=a?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const E=o[y];"number"==typeof E?p=E:1==p?h=Ce(h,E):2==p&&(l=Ce(l,E+": "+o[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=h:s.classesWithoutHost=h}function mf(s,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(rr(p)),Di(p))for(let E=Er;E<p.length;E++){const T=p[E],x=T[st].firstChild;null!==x&&mf(T[st],T,x,l)}const y=a.type;if(8&y)mf(s,o,a.child,l);else if(32&y){const E=ei(a,o);let T;for(;T=E();)l.push(T)}else if(16&y){const E=bl(o,a);if(Array.isArray(E))l.push(...E);else{const T=Id(o[Qn]);mf(T[st],T,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class yf{get rootNodes(){const o=this._lView,a=o[st];return mf(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wn]}set context(o){this._lView[Wn]=o}get destroyed(){return 128==(128&this._lView[Kt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[Fn];if(Di(o)){const a=o[vs],l=a?a.indexOf(this):-1;l>-1&&(P(o,l),gu(a,l))}this._attachedToViewContainer=!1}V(this._lView[st],this._lView)}onDestroy(o){d0(this._lView[st],this._lView,null,o)}markForCheck(){Zp(this._cdRefInjectingView||this._lView)}detach(){this._lView[Kt]&=-65}reattach(){this._lView[Kt]|=64}detectChanges(){gf(this._lView[st],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Cd(s,o){Zh(s,o,o[Yt],2,null,null)}(this._lView[st],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=o}}class o1 extends yf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;gf(o[st],o,o[Wn],!1)}checkNoChanges(){}get context(){return null}}class nD extends Fd{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=It(o);return new vf(a,this.ngModule)}}function rD(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class u1{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=_r(l);const h=this.injector.get(o,jp,l);return h!==jp||a===jp?h:this.parentInjector.get(o,a,l)}}class vf extends Lw{get inputs(){return rD(this.componentDef.inputs)}get outputs(){return rD(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function AC(s){return s.map(SC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,h){let p=(h=h||this.ngModule)instanceof Ec?h:h?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new u1(o,p):o,E=y.get(ny,null);if(null===E)throw new we(407,!1);const T=y.get(_C,null),x=E.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",j=l?function Xx(s,o,a){return s.selectRootElement(o,a===B.ShadowDom)}(x,l,this.componentDef.encapsulation):Gh(x,O,function a1(s){const o=s.toLowerCase();return"svg"===o?uo:"math"===o?"math":null}(O)),J=this.componentDef.onPush?288:272,se=zd(0,null,null,1,0,null,null,null,null,null),Se=Wp(null,se,null,J,null,null,E,x,T,y,null);let Ze,ot;go(Se);try{const bt=this.componentDef;let jt,Le=null;bt.findHostDirectiveDefs?(jt=[],Le=new Map,bt.findHostDirectiveDefs(bt,jt,Le),jt.push(bt)):jt=[bt];const on=function iD(s,o){const a=s[st],l=Tn;return s[l]=o,pf(a,l,2,"#host",null)}(Se,j),Mn=function Te(s,o,a,l,h,p,y,E){const T=h[st];!function Yp(s,o,a,l){for(const h of s)o.mergedAttrs=is(o.mergedAttrs,h.hostAttrs);null!==o.mergedAttrs&&(Ty(o,o.mergedAttrs,!0),null!==a&&Yh(l,a,o))}(l,s,o,y);const x=p.createRenderer(o,a),O=Wp(h,vy(a),null,a.onPush?32:16,h[s.index],s,p,x,E||null,null,null);return T.firstCreatePass&&Dc(T,s,l.length-1),qd(h,O),h[s.index]=O}(on,j,bt,jt,Se,E,x);ot=ha(se,Tn),j&&function Sy(s,o,a,l){if(l)fr(s,a,["ng-version",$w.full]);else{const{attrs:h,classes:p}=function xC(s){const o=[],a=[];let l=1,h=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===h?""!==p&&o.push(p,s[++l]):8===h&&a.push(p);else{if(!na(h))break;h=p}l++}return{attrs:o,classes:a}}(o.selectors[0]);h&&fr(s,a,h),p&&p.length>0&&El(s,a,p.join(" "))}}(x,bt,j,l),void 0!==a&&function I0(s,o,a){const l=s.projection=[];for(let h=0;h<o.length;h++){const p=a[h];l.push(null!=p?Array.from(p):null)}}(ot,this.ngContentSelectors,a),Ze=function sD(s,o,a,l,h,p){const y=Jn(),E=h[st],T=Ir(y,h);Ey(E,h,y,a,null,l);for(let O=0;O<a.length;O++)X(er(h,E,y.directiveStart+O,y),h);g0(E,h,y),T&&X(T,h);const x=er(h,E,y.directiveStart+y.componentOffset,y);if(s[Wn]=h[Wn]=x,null!==p)for(const O of p)O(x,o);return gy(E,y,s),x}(Mn,bt,jt,Le,Se,[Ay]),ra(se,Se,null)}finally{Ts()}return new l1(this.componentType,Ze,Su(ot,Se),Se,ot)}}class l1 extends gC{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new o1(h),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let h;if(null!==l&&(h=l[o])){const p=this._rootLView;Dl(p[st],p,h,o,a),Zp(dr(this._tNode.index,p))}}get injector(){return new Ta(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function Ay(){const s=Jn();ns(_e()[st],s)}function Qp(s){let o=function C0(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let h;if(Wr(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new we(903,!1);h=o.\u0275dir}if(h){if(a){l.push(h);const y=s;y.inputs=To(s.inputs),y.declaredInputs=To(s.declaredInputs),y.outputs=To(s.outputs);const E=h.hostBindings;E&&aD(s,E);const T=h.viewQuery,x=h.contentQueries;if(T&&oD(s,T),x&&D0(s,x),me(s.inputs,h.inputs),me(s.declaredInputs,h.declaredInputs),me(s.outputs,h.outputs),Wr(h)&&h.data.animation){const O=s.data;O.animation=(O.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const E=p[y];E&&E.ngInherit&&E(s),E===Qp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Tc(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const h=s[l];h.hostVars=o+=h.hostVars,h.hostAttrs=is(h.hostAttrs,a=is(a,h.hostAttrs))}}(l)}function To(s){return s===k?{}:s===Q?[]:s}function oD(s,o){const a=s.viewQuery;s.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function D0(s,o){const a=s.contentQueries;s.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function aD(s,o){const a=s.hostBindings;s.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}function wf(s){return!!Xp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function Xp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ni(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function $a(s,o,a,l){const h=Ni(s,o,a);return Ni(s,o+1,l)||h}function eg(s,o,a,l){const h=_e();return Ni(h,es(),o)&&(zt(),Au(Ln(),h,s,o,a,l)),eg}function Zd(s,o,a,l){return Ni(s,es(),a)?o+be(a)+l:tn}function xc(s,o,a,l,h,p){const E=$a(s,function Jr(){return Bt.lFrame.bindingIndex}(),a,h);return Si(2),E?o+be(a)+l+be(h)+p:tn}function ng(s,o,a,l,h,p,y,E){const T=_e(),x=zt(),O=s+Tn,j=x.firstCreatePass?function d1(s,o,a,l,h,p,y,E,T){const x=o.consts,O=pf(o,s,4,y||null,Ti(x,E));Gd(o,a,O,Ti(x,T)),ns(o,O);const j=O.tView=zd(2,O,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,x);return null!==o.queries&&(o.queries.template(o,O),j.queries=o.queries.embeddedTView(O)),O}(O,x,T,o,a,l,h,p,y):x.data[O];ii(j,!1);const J=T[Yt].createComment("");wl(x,T,J,j),X(J,T),qd(T,T[O]=v0(J,T,J,j)),Oo(j)&&my(x,T,j),null!=y&&yy(T,j,E)}function Kd(s,o,a){const l=_e();return Ni(l,es(),o)&&Ri(zt(),Ln(),l,s,o,l[Yt],a,!1),Kd}function Fy(s,o,a,l,h){const y=h?"class":"style";Dl(s,a,o.inputs[y],y,l)}function rg(s,o,a,l){const h=_e(),p=zt(),y=Tn+s,E=h[Yt],T=p.firstCreatePass?function Ly(s,o,a,l,h,p){const y=o.consts,T=pf(o,s,2,l,Ti(y,h));return Gd(o,a,T,Ti(y,p)),null!==T.attrs&&Ty(T,T.attrs,!1),null!==T.mergedAttrs&&Ty(T,T.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,T),T}(y,p,h,o,a,l):p.data[y],x=h[y]=Gh(E,o,function tl(){return Bt.lFrame.currentNamespace}()),O=Oo(T);return ii(T,!0),Yh(E,x,T),32!=(32&T.flags)&&wl(p,h,x,T),0===function ru(){return Bt.lFrame.elementDepthCount}()&&X(x,h),function Lo(){Bt.lFrame.elementDepthCount++}(),O&&(my(p,h,T),gy(p,T,h)),null!==l&&yy(h,T),rg}function Vy(){let s=Jn();ma()?function Ku(){Bt.lFrame.isParent=!1}():(s=s.parent,ii(s,!1));const o=s;!function pa(){Bt.lFrame.elementDepthCount--}();const a=zt();return a.firstCreatePass&&(ns(a,s),Vs(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function z(s){return 0!=(8&s.flags)}(o)&&Fy(a,o,_e(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Ie(s){return 0!=(16&s.flags)}(o)&&Fy(a,o,_e(),o.stylesWithoutHost,!1),Vy}function P0(s,o,a,l){return rg(s,o,a,l),Vy(),P0}function hD(){return _e()}function Uy(s){return!!s&&"function"==typeof s.then}function By(s){return!!s&&"function"==typeof s.subscribe}const k0=By;function $y(s,o,a,l){const h=_e(),p=zt(),y=Jn();return function Yd(s,o,a,l,h,p,y){const E=Oo(l),x=s.firstCreatePass&&E0(s),O=o[Wn],j=b0(o);let J=!0;if(3&l.type||y){const Ze=Ir(l,o),ot=y?y(Ze):Ze,bt=j.length,jt=y?on=>y(rr(on[l.index])):l.index;let Le=null;if(!y&&E&&(Le=function jy(s,o,a,l){const h=s.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===a&&h[p+1]===l){const E=o[gs],T=h[p+2];return E.length>T?E[T]:null}"string"==typeof y&&(p+=2)}return null}(s,o,h,l.index)),null!==Le)(Le.__ngLastListenerFn__||Le).__ngNextListenerFn__=p,Le.__ngLastListenerFn__=p,J=!1;else{p=kc(l,o,O,p,!1);const on=a.listen(ot,h,p);j.push(p,on),x&&x.push(h,jt,bt,bt+1)}}else p=kc(l,o,O,p,!1);const se=l.outputs;let Se;if(J&&null!==se&&(Se=se[h])){const Ze=Se.length;if(Ze)for(let ot=0;ot<Ze;ot+=2){const Mn=o[Se[ot]][Se[ot+1]].subscribe(p),$r=j.length;j.push(p,Mn),x&&x.push(h,l.index,$r,-($r+1))}}}(p,h,h[Yt],y,s,o,l),$y}function If(s,o,a,l){try{return jn(6,o,a),!1!==a(l)}catch(h){return Ur(s,h),!1}finally{jn(7,o,a)}}function kc(s,o,a,l,h){return function p(y){if(y===Function)return l;Zp(s.componentOffset>-1?dr(s.index,o):o);let T=If(o,a,l,y),x=p.__ngNextListenerFn__;for(;x;)T=If(o,a,x,y)&&T,x=x.__ngNextListenerFn__;return h&&!1===T&&(y.preventDefault(),y.returnValue=!1),T}}function Qd(s=1){return function wa(s){return(Bt.lFrame.contextLView=function el(s,o){for(;s>0;)o=o[ms],s--;return o}(s,Bt.lFrame.contextLView))[Wn]}(s)}function Gy(s,o,a){return Oc(s,"",o,"",a),Gy}function Oc(s,o,a,l,h){const p=_e(),y=Zd(p,o,a,l);return y!==tn&&Ri(zt(),Ln(),p,s,y,p[Yt],h,!1),Oc}function ja(s,o){return s<<17|o<<2}function So(s){return s>>17&32767}function Xd(s){return 2|s}function Ha(s){return(131068&s)>>2}function Ky(s,o){return-131069&s|o<<2}function eh(s){return 1|s}function Qy(s,o,a,l,h){const p=s[a+1],y=null===o;let E=l?So(p):Ha(p),T=!1;for(;0!==E&&(!1===T||y);){const O=s[E+1];vD(s[E],o)&&(T=!0,s[E+1]=l?eh(O):Xd(O)),E=l?So(O):Ha(O)}T&&(s[a+1]=l?Xd(p):eh(p))}function vD(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ss(s,o)>=0}function Fc(s,o){return function za(s,o,a,l){const h=_e(),p=zt(),y=Si(2);p.firstUpdatePass&&function $0(s,o,a,l){const h=s.data;if(null===h[a+1]){const p=h[Cr()],y=function ID(s,o){return o>=s.expandoStartIndex}(s,a);(function ug(s,o){return 0!=(s.flags&(o?8:16))})(p,l)&&null===o&&!y&&(o=!1),o=function j0(s,o,a,l){const h=function Uo(s){const o=Bt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Sf(a=og(null,s,o,a,l),o.attrs,l),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==h)if(a=og(h,s,o,a,l),null===p){let T=function CD(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Ha(l))return s[So(l)]}(s,o,l);void 0!==T&&Array.isArray(T)&&(T=og(null,s,o,T[1],l),T=Sf(T,o.attrs,l),function H0(s,o,a,l){s[So(a?o.classBindings:o.styleBindings)]=l}(s,o,l,T))}else p=function nv(s,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Sf(l,s[p].hostAttrs,a);return Sf(l,o.attrs,a)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function F0(s,o,a,l,h,p){let y=p?o.classBindings:o.styleBindings,E=So(y),T=Ha(y);s[l]=a;let O,x=!1;if(Array.isArray(a)?(O=a[1],(null===O||ss(a,O)>0)&&(x=!0)):O=a,h)if(0!==T){const J=So(s[E+1]);s[l+1]=ja(J,E),0!==J&&(s[J+1]=Ky(s[J+1],l)),s[E+1]=function Df(s,o){return 131071&s|o<<17}(s[E+1],l)}else s[l+1]=ja(E,0),0!==E&&(s[E+1]=Ky(s[E+1],l)),E=l;else s[l+1]=ja(T,0),0===E?E=l:s[T+1]=Ky(s[T+1],l),T=l;x&&(s[l+1]=Xd(s[l+1])),Qy(s,O,l,!0),Qy(s,O,l,!1),function yD(s,o,a,l,h){const p=h?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&ss(p,o)>=0&&(a[l+1]=eh(a[l+1]))}(o,O,s,l,p),y=ja(E,T),p?o.classBindings=y:o.styleBindings=y}(h,p,o,a,y,l)}}(p,s,y,l),o!==tn&&Ni(h,y,o)&&function q0(s,o,a,l,h,p,y,E){if(!(3&o.type))return;const T=s.data,x=T[E+1],O=function Yy(s){return 1==(1&s)}(x)?iv(T,o,a,h,Ha(x),y):void 0;ag(O)||(ag(p)||function ig(s){return 2==(2&s)}(x)&&(p=iv(T,null,a,h,E,y)),function Va(s,o,a,l,h){if(o)h?s.addClass(a,l):s.removeClass(a,l);else{let p=-1===l.indexOf("-")?void 0:Ft.DashCase;null==h?s.removeStyle(a,l,p):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),p|=Ft.Important),s.setStyle(a,l,h,p))}}(l,y,js(Cr(),a),h,p))}(p,p.data[Cr()],h,h[Yt],s,h[y+1]=function W0(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ve(Ua(s)))),s}(o,a),l,y)}(s,o,null,!0),Fc}function og(s,o,a,l,h){let p=null;const y=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<y&&(p=o[E],l=Sf(l,p.hostAttrs,h),p!==s);)E++;return null!==s&&(a.directiveStylingLast=E),l}function Sf(s,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?h=y:h===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Hi(s,y,!!a||o[++p]))}return void 0===s?null:s}function iv(s,o,a,l,h,p){const y=null===o;let E;for(;h>0;){const T=s[h],x=Array.isArray(T),O=x?T[1]:T,j=null===O;let J=a[h+1];J===tn&&(J=j?Q:void 0);let se=j?bn(J,l):O===l?J:void 0;if(x&&!ag(se)&&(se=bn(T,l)),ag(se)&&(E=se,y))return E;const Se=s[h+1];h=y?So(Se):Ha(Se)}if(null!==o){let T=p?o.residualClasses:o.residualStyles;null!=T&&(E=bn(T,l))}return E}function ag(s){return void 0!==s}function Z0(s,o=""){const a=_e(),l=zt(),h=s+Tn,p=l.firstCreatePass?pf(l,h,1,o,null):l.data[h],y=a[h]=function _l(s,o){return s.createText(o)}(a[Yt],o);wl(l,a,y,p),ii(p,!1)}function lg(s){return cg("",s,""),lg}function cg(s,o,a){const l=_e(),h=Zd(l,s,o,a);return h!==tn&&xu(l,Cr(),h),cg}function th(s,o,a,l,h){const p=_e(),y=xc(p,s,o,a,l,h);return y!==tn&&xu(p,Cr(),y),th}const xl=void 0;var w1=["en",[["a","p"],["AM","PM"],xl],[["AM","PM"],xl,xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xl,"{1} 'at' {0}",xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function _1(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Af={};function gg(s){const o=function E1(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=dv(o);if(a)return a;const l=o.split("-")[0];if(a=dv(l),a)return a;if("en"===l)return w1;throw new we(701,!1)}function RD(s){return gg(s)[Gt.PluralCase]}function dv(s){return s in Af||(Af[s]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[s]),Af[s]}var Gt=(()=>((Gt=Gt||{})[Gt.LocaleId=0]="LocaleId",Gt[Gt.DayPeriodsFormat=1]="DayPeriodsFormat",Gt[Gt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Gt[Gt.DaysFormat=3]="DaysFormat",Gt[Gt.DaysStandalone=4]="DaysStandalone",Gt[Gt.MonthsFormat=5]="MonthsFormat",Gt[Gt.MonthsStandalone=6]="MonthsStandalone",Gt[Gt.Eras=7]="Eras",Gt[Gt.FirstDayOfWeek=8]="FirstDayOfWeek",Gt[Gt.WeekendRange=9]="WeekendRange",Gt[Gt.DateFormat=10]="DateFormat",Gt[Gt.TimeFormat=11]="TimeFormat",Gt[Gt.DateTimeFormat=12]="DateTimeFormat",Gt[Gt.NumberSymbols=13]="NumberSymbols",Gt[Gt.NumberFormats=14]="NumberFormats",Gt[Gt.CurrencyCode=15]="CurrencyCode",Gt[Gt.CurrencySymbol=16]="CurrencySymbol",Gt[Gt.CurrencyName=17]="CurrencyName",Gt[Gt.Currencies=18]="Currencies",Gt[Gt.Directionality=19]="Directionality",Gt[Gt.PluralCase=20]="PluralCase",Gt[Gt.ExtraData=21]="ExtraData",Gt))();const rh="en-US";let hb=rh;function Uf(s,o,a,l,h){if(s=te(s),Array.isArray(s))for(let p=0;p<s.length;p++)Uf(s[p],o,a,l,h);else{const p=zt(),y=_e();let E=Tu(s)?s:te(s.provide),T=Jm(s);const x=Jn(),O=1048575&x.providerIndexes,j=x.directiveStart,J=x.providerIndexes>>20;if(Tu(s)||!s.multi){const se=new rs(T,h,jd),Se=Mv(E,o,h?O:O+J,j);-1===Se?(yo(Yl(x,y),p,E),Bf(p,s,o.length),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(se),y.push(se)):(a[Se]=se,y[Se]=se)}else{const se=Mv(E,o,O+J,j),Se=Mv(E,o,O,O+J),ot=Se>=0&&a[Se];if(h&&!ot||!h&&!(se>=0&&a[se])){yo(Yl(x,y),p,E);const bt=function JD(s,o,a,l,h){const p=new rs(s,a,jd);return p.multi=[],p.index=o,p.componentProviders=0,xv(p,h,l&&!a),p}(h?sh:Ab,a.length,h,l,T);!h&&ot&&(a[Se].providerFactory=bt),Bf(p,s,o.length,0),o.push(E),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),a.push(bt),y.push(bt)}else Bf(p,s,se>-1?se:Se,xv(a[h?Se:se],T,!h&&l));!h&&l&&ot&&a[Se].componentProviders++}}}function Bf(s,o,a,l){const h=Tu(o),p=function Vp(s){return!!s.useClass}(o);if(h||p){const T=(p?te(o.useClass):o).prototype.ngOnDestroy;if(T){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const O=x.indexOf(a);-1===O?x.push(a,[l,T]):x[O+1].push(l,T)}else x.push(a,T)}}}function xv(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Mv(s,o,a,l){for(let h=a;h<l;h++)if(o[h]===s)return h;return-1}function Ab(s,o,a,l){return Ag(this.multi,[])}function sh(s,o,a,l){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,E=er(a,a[st],this.providerFactory.index,l);p=E.slice(0,y),Ag(h,p);for(let T=y;T<E.length;T++)p.push(E[T])}else p=[],Ag(h,p);return p}function Ag(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function xb(s,o=[]){return a=>{a.providersResolver=(l,h)=>function Av(s,o,a){const l=zt();if(l.firstCreatePass){const h=Wr(s);Uf(a,l.data,l.blueprint,h,!0),Uf(o,l.data,l.blueprint,h,!1)}}(l,h?h(s):s,o)}}class oh{}class Mb{}function XD(s,o){return new Pb(s,o??null)}class Pb extends oh{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nD(this);const l=lr(o);this._bootstrapComponents=Ba(l.bootstrap),this._r3Injector=ly(o,a,[{provide:oh,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],ve(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Pv extends Mb{constructor(o){super(),this.moduleType=o}create(o){return new Pb(this.moduleType,o)}}class eT extends oh{constructor(o,a,l){super(),this.componentFactoryResolver=new nD(this),this.instance=null;const h=new Ow([...o,{provide:oh,useValue:this},{provide:Fd,useValue:this.componentFactoryResolver}],a||Bp(),l,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function ah(s,o,a=null){return new eT(s,o,a).injector}let Rb=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Nd(0,a.type),h=l.length>0?ah([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,h)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=ht({token:s,providedIn:"environment",factory:()=>new s(Wt(Ec))}),s})();function Rv(s){s.getStandaloneInjector=o=>o.get(Rb).getOrCreateStandaloneInjector(s)}function Ov(s,o,a,l,h){return function oT(s,o,a,l,h,p,y){const E=o+a;return $a(s,E,h,p)?function ia(s,o,a){return s[o]=a}(s,E+2,y?l.call(y,h,p):l(h,p)):function Hf(s,o){const a=s[o];return a===tn?void 0:a}(s,E+2)}(_e(),function hr(){const s=Bt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),s,o,a,l,h)}function Bv(s){return o=>{setTimeout(s,void 0,o)}}const Wa=class Uv extends d.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let h=o,p=a||(()=>null),y=l;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),p=T.error?.bind(T),y=T.complete?.bind(T)}this.__isAsync&&(p=Bv(p),h&&(h=Bv(h)),y&&(y=Bv(y)));const E=super.subscribe({next:h,error:p,complete:y});return o instanceof N.w0&&o.add(E),E}};function cT(){return this._results[Symbol.iterator]()}class $v{get changes(){return this._changes||(this._changes=new Wa)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=$v.prototype;a[Symbol.iterator]||(a[Symbol.iterator]=cT)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=function Ai(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function rc(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let h=s[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let zf=(()=>{class s{}return s.__NG_ELEMENT_ID__=j1,s})();const dT=zf,$1=class extends dT{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tView,h=Wp(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);h[ys]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[pi];return null!==y&&(h[pi]=y.createEmbeddedView(l)),ra(l,h,o),new yf(h)}};function j1(){return jv(Jn(),_e())}function jv(s,o){return 4&s.type?new $1(o,s,Su(s,o)):null}let Hv=(()=>{class s{}return s.__NG_ELEMENT_ID__=H1,s})();function H1(){return pT(Jn(),_e())}const z1=Hv,hT=class extends z1{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Su(this._hostTNode,this._hostLView)}get injector(){return new Ta(this._hostTNode,this._hostLView)}get parentInjector(){const o=ar(this._hostTNode,this._hostLView);if(Ho(o)){const a=du(o,this._hostLView),l=Ca(o);return new Ta(a[st].data[l+8],a)}return new Ta(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=fT(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-Er}createEmbeddedView(o,a,l){let h,p;"number"==typeof l?h=l:null!=l&&(h=l.index,p=l.injector);const y=o.createEmbeddedView(a||{},p);return this.insert(y,h),y}createComponent(o,a,l,h,p){const y=o&&!function cl(s){return"function"==typeof s}(o);let E;if(y)E=a;else{const j=a||{};E=j.index,l=j.injector,h=j.projectableNodes,p=j.environmentInjector||j.ngModuleRef}const T=y?o:new vf(It(o)),x=l||this.parentInjector;if(!p&&null==T.ngModule){const J=(y?x:this.parentInjector).get(Ec,null);J&&(p=J)}const O=T.create(x,h,void 0,p);return this.insert(O.hostView,E),O}insert(o,a){const l=o._lView,h=l[st];if(function qu(s){return Di(s[Fn])}(l)){const O=this.indexOf(o);if(-1!==O)this.detach(O);else{const j=l[Fn],J=new hT(j,j[or],j[Fn]);J.detach(J.indexOf(o))}}const p=this._adjustIndex(a),y=this._lContainer;!function f(s,o,a,l){const h=Er+l,p=a.length;l>0&&(a[h-1][yn]=o),l<p-Er?(o[yn]=a[h],ic(a,Er+l,o)):(a.push(o),o[yn]=null),o[Fn]=a;const y=o[ys];null!==y&&a!==y&&function m(s,o){const a=s[Ls];o[Qn]!==o[Fn][Fn][Qn]&&(s[ko]=!0),null===a?s[Ls]=[o]:a.push(o)}(y,o);const E=o[pi];null!==E&&E.insertView(s),o[Kt]|=64}(h,l,y,p);const E=La(p,y),T=l[Yt],x=Zs(T,y[Fs]);return null!==x&&function Pm(s,o,a,l,h,p){l[cr]=h,l[or]=o,Zh(s,l,a,1,h,p)}(h,y[or],T,l,x,E),o.attachToViewContainerRef(),ic(Gb(y),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=fT(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=P(this._lContainer,a);l&&(gu(Gb(this._lContainer),a),V(l[st],l))}detach(o){const a=this._adjustIndex(o,-1),l=P(this._lContainer,a);return l&&null!=gu(Gb(this._lContainer),a)?new yf(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function fT(s){return s[vs]}function Gb(s){return s[vs]||(s[vs]=[])}function pT(s,o){let a;const l=o[s.index];if(Di(l))a=l;else{let h;if(8&s.type)h=rr(l);else{const p=o[Yt];h=p.createComment("");const y=Ir(s,o);rn(p,Zs(p,y),h,function qh(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=a=v0(l,o,h,s),qd(o,a)}return new hT(a,s,o)}class qb{constructor(o){this.queryList=o,this.matches=null}clone(){return new qb(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wb{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const y=a.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new Wb(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==bT(o,a).matches&&this.queries[a].setDirty()}}class Zb{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class Kb{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new Kb(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Yb{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Yb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,G1(a,p)),this.matchTNodeWithReadOption(o,a,Da(a,o,p,!1,!1))}else l===zf?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Da(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Ld||h===Hv||h===zf&&4&a.type)this.addMatch(a.index,-2);else{const p=Da(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function G1(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function W1(s,o,a,l){return-1===a?function q1(s,o){return 11&s.type?Su(s,o):4&s.type?jv(s,o):null}(o,s):-2===a?function Z1(s,o,a){return a===Ld?Su(o,s):a===zf?jv(o,s):a===Hv?pT(o,s):void 0}(s,o,l):er(s,s[st],a,o)}function gT(s,o,a,l){const h=o[pi].queries[l];if(null===h.matches){const p=s.data,y=a.matches,E=[];for(let T=0;T<y.length;T+=2){const x=y[T];E.push(x<0?null:W1(o,p[x],y[T+1],a.metadata.read))}h.matches=E}return h.matches}function Qb(s,o,a,l){const h=s.queries.getByIndex(a),p=h.matches;if(null!==p){const y=gT(s,o,h,a);for(let E=0;E<p.length;E+=2){const T=p[E];if(T>0)l.push(y[E/2]);else{const x=p[E+1],O=o[-T];for(let j=Er;j<O.length;j++){const J=O[j];J[ys]===J[Fn]&&Qb(J[st],J,x,l)}if(null!==O[Ls]){const j=O[Ls];for(let J=0;J<j.length;J++){const se=j[J];Qb(se[st],se,x,l)}}}}}return l}function mT(s){const o=_e(),a=zt(),l=Bo();Ju(l+1);const h=bT(a,l);if(s.dirty&&function Fo(s){return 4==(4&s[Kt])}(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const p=h.crossesNgTemplate?Qb(a,o,l,[]):gT(a,o,h,l);s.reset(p,af),s.notifyOnChanges()}return!0}return!1}function yT(s,o,a,l){const h=zt();if(h.firstCreatePass){const p=Jn();(function wT(s,o,a){null===s.queries&&(s.queries=new Kb),s.queries.track(new Yb(o,a))})(h,new Zb(o,a,l),p.index),function Q1(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(h,s),2==(2&a)&&(h.staticContentQueries=!0)}!function _T(s,o,a){const l=new $v(4==(4&a));d0(s,o,l,l.destroy),null===o[pi]&&(o[pi]=new Wb),o[pi].queries.push(new qb(l))}(h,_e(),a)}function vT(){return function Y1(s,o){return s[pi].queries[o].queryList}(_e(),Bo())}function bT(s,o){return s.queries.getByIndex(o)}function Jb(s){return!!lr(s)}function Vc(...s){}const Og=new gn("Application Initializer");let lh=(()=>{class s{constructor(a){this.appInits=a,this.resolve=Vc,this.reject=Vc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Uy(p))a.push(p);else if(k0(p)){const y=new Promise((E,T)=>{p.subscribe({complete:E,error:T})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Wt(Og,8))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uE=new gn("AppId",{providedIn:"root",factory:function lE(){return`${Fg()}${Fg()}${Fg()}`}});function Fg(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const dE=new gn("Platform Initializer"),Kf=new gn("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let OT=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Uc=new gn("LocaleId",{providedIn:"root",factory:()=>$n(Uc,pt.Optional|pt.SkipSelf)||function FT(){return typeof $localize<"u"&&$localize.locale||rh}()}),Yv=new gn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Vg{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Qv=(()=>{class s{compileModuleSync(a){return new Pv(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=Ba(lr(a).declarations).reduce((y,E)=>{const T=It(E);return T&&y.push(new vf(T)),y},[]);return new Vg(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const fE=(()=>Promise.resolve(0))();function Yf(s){typeof Zone>"u"?fE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class xs{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Wa(!1),this.onMicrotaskEmpty=new Wa(!1),this.onStable=new Wa(!1),this.onError=new Wa(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function pE(){let s=hn.requestAnimationFrame,o=hn.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Li(s){const o=()=>{!function bi(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(hn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,ch(s),s.isCheckStableRunning=!0,Qf(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),ch(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,y,E)=>{try{return Ug(s),a.invokeTask(h,p,y,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),gE(s)}},onInvoke:(a,l,h,p,y,E,T)=>{try{return Ug(s),a.invoke(h,p,y,E,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),gE(s)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,ch(s),Qf(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xs.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(xs.isInAngularZone())throw new we(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,o,n_,Vc,Vc);try{return p.runTask(y,a,l)}finally{p.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const n_={};function Qf(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function ch(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ug(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function gE(s){s._nesting--,Qf(s)}class BT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Wa,this.onMicrotaskEmpty=new Wa,this.onStable=new Wa,this.onError=new Wa}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}const r_=new gn(""),mE=new gn("");let o_,$T=(()=>{class s{constructor(a,l,h){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,o_||(function s_(s){o_=s}(h),h.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xs.assertNotInAngularZone(),Yf(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yf(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,h){return[]}}return s.\u0275fac=function(a){return new(a||s)(Wt(xs),Wt(i_),Wt(mE))},s.\u0275prov=ht({token:s,factory:s.\u0275fac}),s})(),i_=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return o_?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const sa=!1;let Lu=null;const yE=new gn("AllowMultipleToken"),dh=new gn("PlatformDestroyListeners"),Bg=new gn("appBootstrapListener");class Jf{constructor(o,a){this.name=o,this.token=a}}function wE(s,o,a=[]){const l=`Platform: ${o}`,h=new gn(l);return(p=[])=>{let y=c_();if(!y||y.injector.get(yE,!1)){const E=[...a,...p,{provide:h,useValue:!0}];s?s(E):function vE(s){if(Lu&&!Lu.get(yE,!1))throw new we(400,!1);Lu=s;const o=s.get(Pl);(function u_(s){const o=s.get(dE,null);o&&o.forEach(a=>a())})(s)}(function Bc(s=[],o){return Ud.create({name:o,providers:[{provide:Il,useValue:"platform"},{provide:dh,useValue:new Set([()=>Lu=null])},...s]})}(E,l))}return function zT(s){const o=c_();if(!o)throw new we(401,!1);return o}()}}function c_(){return Lu?.get(Pl)??null}let Pl=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const h=function Xf(s,o){let a;return a="noop"===s?new BT:("zone.js"===s?void 0:s)||new xs(o),a}(l?.ngZone,function d_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),p=[{provide:xs,useValue:h}];return h.run(()=>{const y=Ud.create({providers:p,parent:this.injector,name:a.moduleType.name}),E=a.create(y),T=E.injector.get(uf,null);if(!T)throw new we(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:O=>{T.handleError(O)}});E.onDestroy(()=>{Ei(this._modules,E),x.unsubscribe()})}),function h_(s,o,a){try{const l=a();return Uy(l)?l.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(T,h,()=>{const x=E.injector.get(lh);return x.runInitializers(),x.donePromise.then(()=>(function fb(s){Be(s,"Expected localeId to be defined"),"string"==typeof s&&(hb=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Uc,rh)||rh),this._moduleDoBootstrap(E),E))})})}bootstrapModule(a,l=[]){const h=hh({},l);return function a_(s,o,a){const l=new Pv(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(ep);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new we(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(dh,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Wt(Ud))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function hh(s,o){return Array.isArray(o)?o.reduce(hh,s):{...s,...o}}let ep=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,h){this._zone=a,this._injector=l,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),y=new L.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{xs.assertNotInAngularZone(),Yf(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{xs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),x.unsubscribe()}});this.isStable=(0,ie.T)(p,y.pipe((0,le.B)()))}bootstrap(a,l){const h=a instanceof Lw;if(!this._injector.get(lh).done){!h&&wr(a);throw new we(405,sa)}let y;y=h?a:this._injector.get(Fd).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const E=function HT(s){return s.isBoundToModule}(y)?void 0:this._injector.get(oh),x=y.create(Ud.NULL,[],l||y.selector,E),O=x.location.nativeElement,j=x.injector.get(r_,null);return j?.registerApplication(O),x.onDestroy(()=>{this.detachView(x.hostView),Ei(this.components,x),j?.unregisterApplication(O)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Ei(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(Bg,[]);l.push(...this._bootstrapListeners),l.forEach(h=>h(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Ei(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new we(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Wt(xs),Wt(Ec),Wt(uf))},s.\u0275prov=ht({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Ei(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function $g(){return!1}let np=(()=>{class s{}return s.__NG_ELEMENT_ID__=g_,s})();function g_(s){return function m_(s,o,a){if(ca(s)&&!a){const l=dr(s.index,o);return new yf(l,l)}return 47&s.type?new yf(o[Qn],o):null}(Jn(),_e(),16==(16&s))}class DE{constructor(){}supports(o){return wf(o)}create(o){return new Uu(o)}}const zc=(s,o)=>o;class Uu{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||zc}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const y=!l||a&&a.currentIndex<ur(l,h,p)?a:l,E=ur(y,h,p),T=y.currentIndex;if(y===l)h--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)h++;else{p||(p=[]);const x=E-h,O=T-h;if(x!=O){for(let J=0;J<x;J++){const se=J<p.length?p[J]:p[J]=0,Se=se+J;O<=Se&&Se<x&&(p[J]=se+1)}p[y.previousIndex]=O-x}}E!==T&&o(y,E,T)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!wf(o))throw new we(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],y=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,p,y,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,y,E),l=!0),a=a._next}else h=0,function A0(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Symbol.iterator]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{y=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,E,y,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,y,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new Gg(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new b_),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new b_),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Gg{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qg{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class b_{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new qg,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ur(s,o,a){const l=s.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class rp{constructor(){}supports(o){return o instanceof Map||Xp(o)}create(){return new ip}}class ip{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Xp(o)))throw new we(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const l=new sp(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class sp{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TE(){return new Wg([new DE])}let Wg=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||TE()),deps:[[s,new Tt,new Zo]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new we(901,!1)}}return s.\u0275prov=ht({token:s,providedIn:"root",factory:TE}),s})();function SE(){return new E_([new rp])}let E_=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||SE()),deps:[[s,new Tt,new Zo]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(l)return l;throw new we(901,!1)}}return s.\u0275prov=ht({token:s,providedIn:"root",factory:SE}),s})();const AE=wE(null,"core",[]);let xE=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Wt(ep))},s.\u0275mod=re({type:s}),s.\u0275inj=Zt({}),s})();function ph(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Dt,ce,$)=>{"use strict";$.d(ce,{Z:()=>Ye});var d=$(2090),N=$(4859),L=$(6881),ie=$(1877);class le{constructor(we,Ae){this._delegate=we,this.firebase=Ae,(0,L._addComponent)(we,new N.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(we,Ae=L._DEFAULT_ENTRY_NAME){var be;this._delegate.checkDestroyed();const He=this._delegate.container.getProvider(we);return!He.isInitialized()&&"EXPLICIT"===(null===(be=He.getComponent())||void 0===be?void 0:be.instantiationMode)&&He.initialize(),He.getImmediate({identifier:Ae})}_removeServiceInstance(we,Ae=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Ae)}_addComponent(we){(0,L._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,L._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const me=new d.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Ce(){const Qe=function ve(Qe){const we={},Ae={__esModule:!0,initializeApp:function Re(Ve,oe={}){const et=L.initializeApp(Ve,oe);if((0,d.r3)(we,et.name))return we[et.name];const Et=new Qe(et,Ae);return we[et.name]=Et,Et},app:He,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Ne(Ve){const oe=Ve.name,et=oe.replace("-compat","");if(L._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Et=(rt=He())=>{if("function"!=typeof rt[et])throw me.create("invalid-app-argument",{appName:oe});return rt[et]()};void 0!==Ve.serviceProps&&(0,d.ZB)(Et,Ve.serviceProps),Ae[et]=Et,Qe.prototype[et]=function(...rt){return this._getService.bind(this,oe).apply(this,Ve.multipleInstances?rt:[])}}return"PUBLIC"===Ve.type?Ae[et]:null},removeApp:function be(Ve){delete we[Ve]},useAsService:function qe(Ve,oe){return"serverAuth"===oe?null:oe},modularAPIs:L}};function He(Ve){if(!(0,d.r3)(we,Ve=Ve||L._DEFAULT_ENTRY_NAME))throw me.create("no-app",{appName:Ve});return we[Ve]}return Ae.default=Ae,Object.defineProperty(Ae,"apps",{get:function xe(){return Object.keys(we).map(Ve=>we[Ve])}}),He.App=Qe,Ae}(le);return Qe.INTERNAL=Object.assign(Object.assign({},Qe.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function we(Ae){(0,d.ZB)(Qe,Ae)},createSubscribe:d.ne,ErrorFactory:d.LL,deepExtend:d.ZB}),Qe}(),W=new ie.Yd("@firebase/app-compat");if((0,d.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Qe=self.firebase.SDK_VERSION;Qe&&Qe.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ye=K;!function Pe(Qe){(0,L.registerVersion)("@firebase/app-compat","0.2.10",Qe)}()},6881:(Dt,ce,$)=>{"use strict";$.r(ce),$.d(ce,{FirebaseError:()=>ie.ZR,SDK_VERSION:()=>fi,_DEFAULT_ENTRY_NAME:()=>yr,_addComponent:()=>gt,_addOrOverwriteComponent:()=>Je,_apps:()=>hn,_clearComponents:()=>Yr,_components:()=>Jt,_getProvider:()=>vr,_registerComponent:()=>Yn,_removeServiceInstance:()=>Un,deleteApp:()=>Bn,getApp:()=>Qr,getApps:()=>Wt,initializeApp:()=>an,onLog:()=>kn,registerVersion:()=>_r,setLogLevel:()=>zr});var d=$(5861),N=$(4859),L=$(1877),ie=$(2090);const le=(ye,re)=>re.some($e=>ye instanceof $e);let ae,me;const K=new WeakMap,W=new WeakMap,te=new WeakMap,ze=new WeakMap,Pe=new WeakMap;let we={get(ye,re,$e){if(ye instanceof IDBTransaction){if("done"===re)return W.get(ye);if("objectStoreNames"===re)return ye.objectStoreNames||te.get(ye);if("store"===re)return $e.objectStoreNames[1]?void 0:$e.objectStore($e.objectStoreNames[0])}return Re(ye[re])},set:(ye,re,$e)=>(ye[re]=$e,!0),has:(ye,re)=>ye instanceof IDBTransaction&&("done"===re||"store"===re)||re in ye};function He(ye){return"function"==typeof ye?function be(ye){return ye!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return me||(me=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ye)?function(...re){return ye.apply(xe(this),re),Re(K.get(this))}:function(...re){return Re(ye.apply(xe(this),re))}:function(re,...$e){const wt=ye.call(xe(this),re,...$e);return te.set(wt,re.sort?re.sort():[re]),Re(wt)}}(ye):(ye instanceof IDBTransaction&&function Qe(ye){if(W.has(ye))return;const re=new Promise(($e,wt)=>{const Ot=()=>{ye.removeEventListener("complete",en),ye.removeEventListener("error",It),ye.removeEventListener("abort",It)},en=()=>{$e(),Ot()},It=()=>{wt(ye.error||new DOMException("AbortError","AbortError")),Ot()};ye.addEventListener("complete",en),ye.addEventListener("error",It),ye.addEventListener("abort",It)});W.set(ye,re)}(ye),le(ye,function ve(){return ae||(ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ye,we):ye)}function Re(ye){if(ye instanceof IDBRequest)return function Ye(ye){const re=new Promise(($e,wt)=>{const Ot=()=>{ye.removeEventListener("success",en),ye.removeEventListener("error",It)},en=()=>{$e(Re(ye.result)),Ot()},It=()=>{wt(ye.error),Ot()};ye.addEventListener("success",en),ye.addEventListener("error",It)});return re.then($e=>{$e instanceof IDBCursor&&K.set($e,ye)}).catch(()=>{}),Pe.set(re,ye),re}(ye);if(ze.has(ye))return ze.get(ye);const re=He(ye);return re!==ye&&(ze.set(ye,re),Pe.set(re,ye)),re}const xe=ye=>Pe.get(ye),Ve=["get","getKey","getAll","getAllKeys","count"],oe=["put","add","delete","clear"],et=new Map;function Et(ye,re){if(!(ye instanceof IDBDatabase)||re in ye||"string"!=typeof re)return;if(et.get(re))return et.get(re);const $e=re.replace(/FromIndex$/,""),wt=re!==$e,Ot=oe.includes($e);if(!($e in(wt?IDBIndex:IDBObjectStore).prototype)||!Ot&&!Ve.includes($e))return;const en=function(){var It=(0,d.Z)(function*(mn,...dn){const wr=this.transaction(mn,Ot?"readwrite":"readonly");let lr=wr.store;return wt&&(lr=lr.index(dn.shift())),(yield Promise.all([lr[$e](...dn),Ot&&wr.done]))[0]});return function(dn){return It.apply(this,arguments)}}();return et.set(re,en),en}!function Ae(ye){we=ye(we)}(ye=>({...ye,get:(re,$e,wt)=>Et(re,$e)||ye.get(re,$e,wt),has:(re,$e)=>!!Et(re,$e)||ye.has(re,$e)}));class rt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map($e=>{if(function Qt(ye){return"VERSION"===ye.getComponent()?.type}($e)){const wt=$e.getImmediate();return`${wt.library}/${wt.version}`}return null}).filter($e=>$e).join(" ")}}const ct="@firebase/app",he=new L.Yd("@firebase/app"),yr="[DEFAULT]",Nr={[ct]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},hn=new Map,Jt=new Map;function gt(ye,re){try{ye.container.addComponent(re)}catch($e){he.debug(`Component ${re.name} failed to register with FirebaseApp ${ye.name}`,$e)}}function Je(ye,re){ye.container.addOrOverwriteComponent(re)}function Yn(ye){const re=ye.name;if(Jt.has(re))return he.debug(`There were multiple attempts to register component ${re}.`),!1;Jt.set(re,ye);for(const $e of hn.values())gt($e,ye);return!0}function vr(ye,re){const $e=ye.container.getProvider("heartbeat").getImmediate({optional:!0});return $e&&$e.triggerHeartbeat(),ye.container.getProvider(re)}function Un(ye,re,$e=yr){vr(ye,re).clearInstance($e)}function Yr(){Jt.clear()}const On=new ie.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class nn{constructor(re,$e,wt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},$e),this._name=$e.name,this._automaticDataCollectionEnabled=$e.automaticDataCollectionEnabled,this._container=wt,this.container.addComponent(new N.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw On.create("app-deleted",{appName:this._name})}}const fi="9.22.0";function an(ye,re={}){let $e=ye;"object"!=typeof re&&(re={name:re});const wt=Object.assign({name:yr,automaticDataCollectionEnabled:!1},re),Ot=wt.name;if("string"!=typeof Ot||!Ot)throw On.create("bad-app-name",{appName:String(Ot)});if($e||($e=(0,ie.aH)()),!$e)throw On.create("no-options");const en=hn.get(Ot);if(en){if((0,ie.vZ)($e,en.options)&&(0,ie.vZ)(wt,en.config))return en;throw On.create("duplicate-app",{appName:Ot})}const It=new N.H0(Ot);for(const dn of Jt.values())It.addComponent(dn);const mn=new nn($e,wt,It);return hn.set(Ot,mn),mn}function Qr(ye=yr){const re=hn.get(ye);if(!re&&ye===yr&&(0,ie.aH)())return an();if(!re)throw On.create("no-app",{appName:ye});return re}function Wt(){return Array.from(hn.values())}function Bn(ye){return $n.apply(this,arguments)}function $n(){return($n=(0,d.Z)(function*(ye){const re=ye.name;hn.has(re)&&(hn.delete(re),yield Promise.all(ye.container.getProviders().map($e=>$e.delete())),ye.isDeleted=!0)})).apply(this,arguments)}function _r(ye,re,$e){var wt;let Ot=null!==(wt=Nr[ye])&&void 0!==wt?wt:ye;$e&&(Ot+=`-${$e}`);const en=Ot.match(/\s|\//),It=re.match(/\s|\//);if(en||It){const mn=[`Unable to register library "${Ot}" with version "${re}":`];return en&&mn.push(`library name "${Ot}" contains illegal characters (whitespace or "/")`),en&&It&&mn.push("and"),It&&mn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void he.warn(mn.join(" "))}Yn(new N.wA(`${Ot}-version`,()=>({library:Ot,version:re}),"VERSION"))}function kn(ye,re){if(null!==ye&&"function"!=typeof ye)throw On.create("invalid-log-argument");(0,L.Am)(ye,re)}function zr(ye){(0,L.Ub)(ye)}const kr="firebase-heartbeat-database",Gr=1,q="firebase-heartbeat-store";let G=null;function U(){return G||(G=function Ne(ye,re,{blocked:$e,upgrade:wt,blocking:Ot,terminated:en}={}){const It=indexedDB.open(ye,re),mn=Re(It);return wt&&It.addEventListener("upgradeneeded",dn=>{wt(Re(It.result),dn.oldVersion,dn.newVersion,Re(It.transaction),dn)}),$e&&It.addEventListener("blocked",dn=>$e(dn.oldVersion,dn.newVersion,dn)),mn.then(dn=>{en&&dn.addEventListener("close",()=>en()),Ot&&dn.addEventListener("versionchange",wr=>Ot(wr.oldVersion,wr.newVersion,wr))}).catch(()=>{}),mn}(kr,Gr,{upgrade:(ye,re)=>{0===re&&ye.createObjectStore(q)}}).catch(ye=>{throw On.create("idb-open",{originalErrorMessage:ye.message})})),G}function k(){return(k=(0,d.Z)(function*(ye){try{return yield(yield U()).transaction(q).objectStore(q).get(at(ye))}catch(re){if(re instanceof ie.ZR)he.warn(re.message);else{const $e=On.create("idb-get",{originalErrorMessage:re?.message});he.warn($e.message)}}})).apply(this,arguments)}function Q(ye,re){return De.apply(this,arguments)}function De(){return(De=(0,d.Z)(function*(ye,re){try{const wt=(yield U()).transaction(q,"readwrite");yield wt.objectStore(q).put(re,at(ye)),yield wt.done}catch($e){if($e instanceof ie.ZR)he.warn($e.message);else{const wt=On.create("idb-set",{originalErrorMessage:$e?.message});he.warn(wt.message)}}})).apply(this,arguments)}function at(ye){return`${ye.name}!${ye.options.appId}`}class Xt{constructor(re){this.container=re,this._heartbeatsCache=null;const $e=this.container.getProvider("app").getImmediate();this._storage=new Ht($e),this._heartbeatsCachePromise=this._storage.read().then(wt=>(this._heartbeatsCache=wt,wt))}triggerHeartbeat(){var re=this;return(0,d.Z)(function*(){const wt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ot=Vt();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Ot&&!re._heartbeatsCache.heartbeats.some(en=>en.date===Ot))return re._heartbeatsCache.heartbeats.push({date:Ot,agent:wt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(en=>{const It=new Date(en.date).valueOf();return Date.now()-It<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,d.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const $e=Vt(),{heartbeatsToSend:wt,unsentEntries:Ot}=function xn(ye,re=1024){const $e=[];let wt=ye.slice();for(const Ot of ye){const en=$e.find(It=>It.agent===Ot.agent);if(en){if(en.dates.push(Ot.date),qn($e)>re){en.dates.pop();break}}else if($e.push({agent:Ot.agent,dates:[Ot.date]}),qn($e)>re){$e.pop();break}wt=wt.slice(1)}return{heartbeatsToSend:$e,unsentEntries:wt}}(re._heartbeatsCache.heartbeats),en=(0,ie.L)(JSON.stringify({version:2,heartbeats:wt}));return re._heartbeatsCache.lastSentHeartbeatDate=$e,Ot.length>0?(re._heartbeatsCache.heartbeats=Ot,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),en})()}}function Vt(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,d.Z)(function*(){return!!(0,ie.hl)()&&(0,ie.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,d.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function B(ye){return k.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var $e=this;return(0,d.Z)(function*(){var wt;if(yield $e._canUseIndexedDBPromise){const en=yield $e.read();return Q($e.app,{lastSentHeartbeatDate:null!==(wt=re.lastSentHeartbeatDate)&&void 0!==wt?wt:en.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var $e=this;return(0,d.Z)(function*(){var wt;if(yield $e._canUseIndexedDBPromise){const en=yield $e.read();return Q($e.app,{lastSentHeartbeatDate:null!==(wt=re.lastSentHeartbeatDate)&&void 0!==wt?wt:en.lastSentHeartbeatDate,heartbeats:[...en.heartbeats,...re.heartbeats]})}})()}}function qn(ye){return(0,ie.L)(JSON.stringify({version:2,heartbeats:ye})).length}!function Bi(ye){Yn(new N.wA("platform-logger",re=>new rt(re),"PRIVATE")),Yn(new N.wA("heartbeat",re=>new Xt(re),"PRIVATE")),_r(ct,"0.9.10",ye),_r(ct,"0.9.10","esm2017"),_r("fire-js","")}("")},4859:(Dt,ce,$)=>{"use strict";$.d(ce,{H0:()=>ve,wA:()=>L});var d=$(5861),N=$(2090);class L{constructor(K,W,te){this.name=K,this.instanceFactory=W,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const ie="[DEFAULT]";class le{constructor(K,W){this.name=K,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const W=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(W)){const te=new N.BH;if(this.instancesDeferred.set(W,te),this.isInitialized(W)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:W});ze&&te.resolve(ze)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(K){var W;const te=this.normalizeInstanceIdentifier(K?.identifier),ze=null!==(W=K?.optional)&&void 0!==W&&W;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Pe){if(ze)return null;throw Pe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function me(Ce){return"EAGER"===Ce.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:ie})}catch{}for(const[W,te]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(W);try{const Pe=this.getOrInitializeService({instanceIdentifier:ze});te.resolve(Pe)}catch{}}}}clearInstance(K=ie){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,d.Z)(function*(){const W=Array.from(K.instances.values());yield Promise.all([...W.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...W.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=ie){return this.instances.has(K)}getOptions(K=ie){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:W={}}=K,te=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:te,options:W});for(const[Pe,Ye]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Pe)&&Ye.resolve(ze);return ze}onInit(K,W){var te;const ze=this.normalizeInstanceIdentifier(W),Pe=null!==(te=this.onInitCallbacks.get(ze))&&void 0!==te?te:new Set;Pe.add(K),this.onInitCallbacks.set(ze,Pe);const Ye=this.instances.get(ze);return Ye&&K(Ye,ze),()=>{Pe.delete(K)}}invokeOnInitCallbacks(K,W){const te=this.onInitCallbacks.get(W);if(te)for(const ze of te)try{ze(K,W)}catch{}}getOrInitializeService({instanceIdentifier:K,options:W={}}){let te=this.instances.get(K);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=K,Ce===ie?void 0:Ce),options:W}),this.instances.set(K,te),this.instancesOptions.set(K,W),this.invokeOnInitCallbacks(te,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,te)}catch{}var Ce;return te||null}normalizeInstanceIdentifier(K=ie){return this.component?this.component.multipleInstances?K:ie:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ve{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const W=this.getProvider(K.name);if(W.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);W.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const W=new le(K,this);return this.providers.set(K,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(Dt,ce,$)=>{"use strict";$.d(ce,{Am:()=>Ce,Ub:()=>ve,Yd:()=>me,in:()=>N});const d=[];var N=(()=>{return(K=N||(N={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",N;var K})();const L={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},ie=N.INFO,le={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},ae=(K,W,...te)=>{if(W<K.logLevel)return;const ze=(new Date).toISOString(),Pe=le[W];if(!Pe)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Pe](`[${ze}]  ${K.name}:`,...te)};class me{constructor(W){this.name=W,this._logLevel=ie,this._logHandler=ae,this._userLogHandler=null,d.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in N))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?L[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...W),this._logHandler(this,N.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...W),this._logHandler(this,N.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,N.INFO,...W),this._logHandler(this,N.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,N.WARN,...W),this._logHandler(this,N.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...W),this._logHandler(this,N.ERROR,...W)}}function ve(K){d.forEach(W=>{W.setLogLevel(K)})}function Ce(K,W){for(const te of d){let ze=null;W&&W.level&&(ze=L[W.level]),te.userLogHandler=null===K?null:(Pe,Ye,...Qe)=>{const we=Qe.map(Ae=>{if(null==Ae)return null;if("string"==typeof Ae)return Ae;if("number"==typeof Ae||"boolean"==typeof Ae)return Ae.toString();if(Ae instanceof Error)return Ae.message;try{return JSON.stringify(Ae)}catch{return null}}).filter(Ae=>Ae).join(" ");Ye>=(ze??Pe.logLevel)&&K({level:N[Ye].toLowerCase(),message:we,args:Qe,type:Pe.name})}}}},259:(Dt,ce,$)=>{"use strict";$.d(ce,{C6:()=>d.getApps,KN:()=>d.registerVersion,Mq:()=>d.getApp,ZF:()=>d.initializeApp});var d=$(6881);(0,d.registerVersion)("firebase","9.22.0","app")},9260:(Dt,ce,$)=>{"use strict";$.d(ce,{Z:()=>d.Z});var d=$(3942);d.Z.registerVersion("firebase","9.22.0","app-compat")},9568:(Dt,ce,$)=>{"use strict";$.r(ce);var d=$(5861),N=$(3942),L=$(1389),ie=$(2090),me=($(6881),$(1877),$(4859));function ve(){return window}const Ce=2e3;function W(){return W=(0,d.Z)(function*(U,B,k){var Q;const{BuildInfo:De}=ve();(0,L.as)(B.sessionId,"AuthEvent did not contain a session ID");const at=yield function Ae(U){return be.apply(this,arguments)}(B.sessionId),Rt={};return(0,L.at)()?Rt.ibi=De.packageName:(0,L.au)()?Rt.apn=De.packageName:(0,L.av)(U,"operation-not-supported-in-this-environment"),De.displayName&&(Rt.appDisplayName=De.displayName),Rt.sessionId=at,(0,L.aw)(U,k,B.type,void 0,null!==(Q=B.eventId)&&void 0!==Q?Q:void 0,Rt)}),W.apply(this,arguments)}function ze(){return(ze=(0,d.Z)(function*(U){const{BuildInfo:B}=ve(),k={};(0,L.at)()?k.iosBundleId=B.packageName:(0,L.au)()?k.androidPackageName=B.packageName:(0,L.av)(U,"operation-not-supported-in-this-environment"),yield(0,L.ax)(U,k)})).apply(this,arguments)}function Qe(){return(Qe=(0,d.Z)(function*(U,B,k){const{cordova:Q}=ve();let De=()=>{};try{yield new Promise((at,Rt)=>{let At=null;function Xt(){var Ht;at();const qn=null===(Ht=Q.plugins.browsertab)||void 0===Ht?void 0:Ht.close;"function"==typeof qn&&qn(),"function"==typeof k?.close&&k.close()}function Vt(){At||(At=window.setTimeout(()=>{Rt((0,L.az)(U,"redirect-cancelled-by-user"))},Ce))}function xn(){"visible"===document?.visibilityState&&Vt()}B.addPassiveListener(Xt),document.addEventListener("resume",Vt,!1),(0,L.au)()&&document.addEventListener("visibilitychange",xn,!1),De=()=>{B.removePassiveListener(Xt),document.removeEventListener("resume",Vt,!1),document.removeEventListener("visibilitychange",xn,!1),At&&window.clearTimeout(At)}})}finally{De()}})).apply(this,arguments)}function be(){return(be=(0,d.Z)(function*(U){const B=function He(U){if((0,L.as)(/[0-9a-zA-Z]+/.test(U),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(U);const B=new ArrayBuffer(U.length),k=new Uint8Array(B);for(let Q=0;Q<U.length;Q++)k[Q]=U.charCodeAt(Q);return k}(U),k=yield crypto.subtle.digest("SHA-256",B);return Array.from(new Uint8Array(k)).map(De=>De.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Re=20;class xe extends L.aB{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(B=>{this.resolveInialized=B})}addPassiveListener(B){this.passiveListeners.add(B)}removePassiveListener(B){this.passiveListeners.delete(B)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(B){return this.resolveInialized(),this.passiveListeners.forEach(k=>k(B)),super.onEvent(B)}initialized(){var B=this;return(0,d.Z)(function*(){yield B.initPromise})()}}function Ve(U){return oe.apply(this,arguments)}function oe(){return(oe=(0,d.Z)(function*(U){const B=yield rt()._get(Qt(U));return B&&(yield rt()._remove(Qt(U))),B})).apply(this,arguments)}function Et(){const U=[],B="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let k=0;k<Re;k++){const Q=Math.floor(Math.random()*B.length);U.push(B.charAt(Q))}return U.join("")}function rt(){return(0,L.aC)(L.b)}function Qt(U){return(0,L.aD)("authEvent",U.config.apiKey,U.name)}function he(U){if(!U?.includes("?"))return{};const[B,...k]=U.split("?");return(0,ie.zd)(k.join("?"))}const ke=class Me{constructor(){this._redirectPersistence=L.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(B){var k=this;return(0,d.Z)(function*(){const Q=B._key();let De=k.eventManagers.get(Q);return De||(De=new xe(B),k.eventManagers.set(Q,De),k.attachCallbackListeners(B,De)),De})()}_openPopup(B){(0,L.av)(B,"operation-not-supported-in-this-environment")}_openRedirect(B,k,Q,De){var at=this;return(0,d.Z)(function*(){!function we(U){var B,k,Q,De,at,Rt,At,Xt,Vt,xn;const Ht=ve();(0,L.aA)("function"==typeof(null===(B=Ht?.universalLinks)||void 0===B?void 0:B.subscribe),U,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,L.aA)(typeof(null===(k=Ht?.BuildInfo)||void 0===k?void 0:k.packageName)<"u",U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,L.aA)("function"==typeof(null===(at=null===(De=null===(Q=Ht?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===De?void 0:De.browsertab)||void 0===at?void 0:at.openUrl),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(Xt=null===(At=null===(Rt=Ht?.cordova)||void 0===Rt?void 0:Rt.plugins)||void 0===At?void 0:At.browsertab)||void 0===Xt?void 0:Xt.isAvailable),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,L.aA)("function"==typeof(null===(xn=null===(Vt=Ht?.cordova)||void 0===Vt?void 0:Vt.InAppBrowser)||void 0===xn?void 0:xn.open),U,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(B);const Rt=yield at._initialize(B);yield Rt.initialized(),Rt.resetRedirect(),(0,L.aG)(),yield at._originValidation(B);const At=function Ne(U,B,k=null){return{type:B,eventId:k,urlResponse:null,sessionId:Et(),postBody:null,tenantId:U.tenantId,error:(0,L.az)(U,"no-auth-event")}}(B,Q,De);yield function qe(U,B){return rt()._set(Qt(U),B)}(B,At);const Xt=yield function K(U,B,k){return W.apply(this,arguments)}(B,At,k),Vt=yield function Pe(U){const{cordova:B}=ve();return new Promise(k=>{B.plugins.browsertab.isAvailable(Q=>{let De=null;Q?B.plugins.browsertab.openUrl(U):De=B.InAppBrowser.open(U,(0,L.ay)()?"_blank":"_system","location=yes"),k(De)})})}(Xt);return function Ye(U,B,k){return Qe.apply(this,arguments)}(B,Rt,Vt)})()}_isIframeWebStorageSupported(B,k){throw new Error("Method not implemented.")}_originValidation(B){const k=B._key();return this.originValidationPromises[k]||(this.originValidationPromises[k]=function te(U){return ze.apply(this,arguments)}(B)),this.originValidationPromises[k]}attachCallbackListeners(B,k){const{universalLinks:Q,handleOpenURL:De,BuildInfo:at}=ve(),Rt=setTimeout((0,d.Z)(function*(){yield Ve(B),k.onEvent(Ke())}),500),At=function(){var xn=(0,d.Z)(function*(Ht){clearTimeout(Rt);const qn=yield Ve(B);let Bi=null;qn&&Ht?.url&&(Bi=function et(U,B){var k,Q;const De=function hi(U){const B=he(U),k=B.link?decodeURIComponent(B.link):void 0,Q=he(k).link,De=B.deep_link_id?decodeURIComponent(B.deep_link_id):void 0;return he(De).link||De||Q||k||U}(B);if(De.includes("/__/auth/callback")){const at=he(De),Rt=at.firebaseError?function ct(U){try{return JSON.parse(U)}catch{return null}}(decodeURIComponent(at.firebaseError)):null,At=null===(Q=null===(k=Rt?.code)||void 0===k?void 0:k.split("auth/"))||void 0===Q?void 0:Q[1],Xt=At?(0,L.az)(At):null;return Xt?{type:U.type,eventId:U.eventId,tenantId:U.tenantId,error:Xt,urlResponse:null,sessionId:null,postBody:null}:{type:U.type,eventId:U.eventId,tenantId:U.tenantId,sessionId:U.sessionId,urlResponse:De,postBody:null}}return null}(qn,Ht.url)),k.onEvent(Bi||Ke())});return function(qn){return xn.apply(this,arguments)}}();typeof Q<"u"&&"function"==typeof Q.subscribe&&Q.subscribe(null,At);const Xt=De,Vt=`${at.packageName.toLowerCase()}://`;ve().handleOpenURL=function(){var xn=(0,d.Z)(function*(Ht){if(Ht.toLowerCase().startsWith(Vt)&&At({url:Ht}),"function"==typeof Xt)try{Xt(Ht)}catch(qn){console.error(qn)}});return function(Ht){return xn.apply(this,arguments)}}()}};function Ke(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,L.az)("no-auth-event")}}const vn=1e3;function nt(){var U;return(null===(U=self?.location)||void 0===U?void 0:U.protocol)||null}function ln(U=(0,ie.z$)()){return!("file:"!==nt()&&"ionic:"!==nt()&&"capacitor:"!==nt()||!U.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lt(){try{const U=self.localStorage,B=L.aL();if(U)return U.setItem(B,"1"),U.removeItem(B),!function Hn(U=(0,ie.z$)()){return function En(){return(0,ie.w1)()&&11===document?.documentMode}()||function mr(U=(0,ie.z$)()){return/Edge\/\d+/.test(U)}(U)}()||(0,ie.hl)()}catch{return _n()&&(0,ie.hl)()}return!1}function _n(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Zn(){return(function ht(){return"http:"===nt()||"https:"===nt()}()||(0,ie.ru)()||ln())&&!function Zt(){return(0,ie.b$)()||(0,ie.UG)()}()&&Lt()&&!_n()}function Rr(){return ln()&&typeof document<"u"}function cn(){return(cn=(0,d.Z)(function*(){return!!Rr()&&new Promise(U=>{const B=setTimeout(()=>{U(!1)},vn);document.addEventListener("deviceready",()=>{clearTimeout(B),U(!0)})})})).apply(this,arguments)}const Nn={LOCAL:"local",NONE:"none",SESSION:"session"},zn=L.aA,Kn="persistence";function Nr(U){return hn.apply(this,arguments)}function hn(){return(hn=(0,d.Z)(function*(U){yield U._initializationPromise;const B=gt(),k=L.aD(Kn,U.config.apiKey,U.name);B&&B.setItem(k,U._getPersistence())})).apply(this,arguments)}function gt(){var U;try{return(null===(U=function pt(){return typeof window<"u"?window:null}())||void 0===U?void 0:U.sessionStorage)||null}catch{return null}}const Je=L.aA;class Yn{constructor(){this.browserResolver=L.aC(L.k),this.cordovaResolver=L.aC(ke),this.underlyingResolver=null,this._redirectPersistence=L.a,this._completeRedirectFn=L.aE,this._overrideRedirectResult=L.aF}_initialize(B){var k=this;return(0,d.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._initialize(B)})()}_openPopup(B,k,Q,De){var at=this;return(0,d.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openPopup(B,k,Q,De)})()}_openRedirect(B,k,Q,De){var at=this;return(0,d.Z)(function*(){return yield at.selectUnderlyingResolver(),at.assertedUnderlyingResolver._openRedirect(B,k,Q,De)})()}_isIframeWebStorageSupported(B,k){this.assertedUnderlyingResolver._isIframeWebStorageSupported(B,k)}_originValidation(B){return this.assertedUnderlyingResolver._originValidation(B)}get _shouldInitProactively(){return Rr()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Je(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var B=this;return(0,d.Z)(function*(){if(B.underlyingResolver)return;const k=yield function Vn(){return cn.apply(this,arguments)}();B.underlyingResolver=k?B.cordovaResolver:B.browserResolver})()}}function vr(U){return U.unwrap()}function Yr(U){return On(U)}function On(U){const{_tokenResponse:B}=U instanceof ie.ZR?U.customData:U;if(!B)return null;if(!(U instanceof ie.ZR)&&"temporaryProof"in B&&"phoneNumber"in B)return L.P.credentialFromResult(U);const k=B.providerId;if(!k||k===L.p.PASSWORD)return null;let Q;switch(k){case L.p.GOOGLE:Q=L.V;break;case L.p.FACEBOOK:Q=L.U;break;case L.p.GITHUB:Q=L.W;break;case L.p.TWITTER:Q=L.Z;break;default:const{oauthIdToken:De,oauthAccessToken:at,oauthTokenSecret:Rt,pendingToken:At,nonce:Xt}=B;return at||Rt||De||At?At?k.startsWith("saml.")?L.aO._create(k,At):L.L._fromParams({providerId:k,signInMethod:k,pendingToken:At,idToken:De,accessToken:at}):new L.X(k).credential({idToken:De,accessToken:at,rawNonce:Xt}):null}return U instanceof ie.ZR?Q.credentialFromError(U):Q.credentialFromResult(U)}function nn(U,B){return B.catch(k=>{throw k instanceof ie.ZR&&function Gn(U,B){var k;const Q=null===(k=B.customData)||void 0===k?void 0:k._tokenResponse;if("auth/multi-factor-auth-required"===B?.code)B.resolver=new Qr(U,L.aq(U,B));else if(Q){const De=On(B),at=B;De&&(at.credential=De,at.tenantId=Q.tenantId||void 0,at.email=Q.email||void 0,at.phoneNumber=Q.phoneNumber||void 0)}}(U,k),k}).then(k=>{const De=k.user;return{operationType:k.operationType,credential:Yr(k),additionalUserInfo:L.ao(k),user:Wt.getOrCreate(De)}})}function fi(U,B){return an.apply(this,arguments)}function an(){return(an=(0,d.Z)(function*(U,B){const k=yield B;return{verificationId:k.verificationId,confirm:Q=>nn(U,k.confirm(Q))}})).apply(this,arguments)}class Qr{constructor(B,k){this.resolver=k,this.auth=function Un(U){return U.wrapped()}(B)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(B){return nn(vr(this.auth),this.resolver.resolveSignIn(B))}}class Wt{constructor(B){this._delegate=B,this.multiFactor=L.ar(B)}static getOrCreate(B){return Wt.USER_MAP.has(B)||Wt.USER_MAP.set(B,new Wt(B)),Wt.USER_MAP.get(B)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(B){return this._delegate.getIdTokenResult(B)}getIdToken(B){return this._delegate.getIdToken(B)}linkAndRetrieveDataWithCredential(B){return this.linkWithCredential(B)}linkWithCredential(B){var k=this;return(0,d.Z)(function*(){return nn(k.auth,L.a0(k._delegate,B))})()}linkWithPhoneNumber(B,k){var Q=this;return(0,d.Z)(function*(){return fi(Q.auth,L.l(Q._delegate,B,k))})()}linkWithPopup(B){var k=this;return(0,d.Z)(function*(){return nn(k.auth,L.d(k._delegate,B,Yn))})()}linkWithRedirect(B){var k=this;return(0,d.Z)(function*(){return yield Nr(L.aH(k.auth)),L.g(k._delegate,B,Yn)})()}reauthenticateAndRetrieveDataWithCredential(B){return this.reauthenticateWithCredential(B)}reauthenticateWithCredential(B){var k=this;return(0,d.Z)(function*(){return nn(k.auth,L.a1(k._delegate,B))})()}reauthenticateWithPhoneNumber(B,k){return fi(this.auth,L.r(this._delegate,B,k))}reauthenticateWithPopup(B){return nn(this.auth,L.e(this._delegate,B,Yn))}reauthenticateWithRedirect(B){var k=this;return(0,d.Z)(function*(){return yield Nr(L.aH(k.auth)),L.h(k._delegate,B,Yn)})()}sendEmailVerification(B){return L.ae(this._delegate,B)}unlink(B){var k=this;return(0,d.Z)(function*(){return yield L.an(k._delegate,B),k})()}updateEmail(B){return L.aj(this._delegate,B)}updatePassword(B){return L.ak(this._delegate,B)}updatePhoneNumber(B){return L.u(this._delegate,B)}updateProfile(B){return L.ai(this._delegate,B)}verifyBeforeUpdateEmail(B,k){return L.af(this._delegate,B,k)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Wt.USER_MAP=new WeakMap;const Bn=L.aA;let $n=(()=>{class U{constructor(k,Q){if(this.app=k,Q.isInitialized())return this._delegate=Q.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:De}=k.options;Bn(De,"invalid-api-key",{appName:k.name}),Bn(De,"invalid-api-key",{appName:k.name});const at=typeof window<"u"?Yn:void 0;this._delegate=Q.initialize({options:{persistence:kn(De,k.name),popupRedirectResolver:at}}),this._delegate._updateErrorMap(L.D),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Wt.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(k){this._delegate.languageCode=k}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(k){this._delegate.tenantId=k}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(k,Q){L.I(this._delegate,k,Q)}applyActionCode(k){return L.a5(this._delegate,k)}checkActionCode(k){return L.a6(this._delegate,k)}confirmPasswordReset(k,Q){return L.a4(this._delegate,k,Q)}createUserWithEmailAndPassword(k,Q){var De=this;return(0,d.Z)(function*(){return nn(De._delegate,L.a8(De._delegate,k,Q))})()}fetchProvidersForEmail(k){return this.fetchSignInMethodsForEmail(k)}fetchSignInMethodsForEmail(k){return L.ad(this._delegate,k)}isSignInWithEmailLink(k){return L.ab(this._delegate,k)}getRedirectResult(){var k=this;return(0,d.Z)(function*(){Bn(Zn(),k._delegate,"operation-not-supported-in-this-environment");const Q=yield L.j(k._delegate,Yn);return Q?nn(k._delegate,Promise.resolve(Q)):{credential:null,user:null}})()}addFrameworkForLogging(k){!function Be(U,B){(0,L.aH)(U)._logFramework(B)}(this._delegate,k)}onAuthStateChanged(k,Q,De){const{next:at,error:Rt,complete:At}=_r(k,Q,De);return this._delegate.onAuthStateChanged(at,Rt,At)}onIdTokenChanged(k,Q,De){const{next:at,error:Rt,complete:At}=_r(k,Q,De);return this._delegate.onIdTokenChanged(at,Rt,At)}sendSignInLinkToEmail(k,Q){return L.aa(this._delegate,k,Q)}sendPasswordResetEmail(k,Q){return L.a3(this._delegate,k,Q||void 0)}setPersistence(k){var Q=this;return(0,d.Z)(function*(){let De;switch(function yr(U,B){zn(Object.values(Nn).includes(B),U,"invalid-persistence-type"),(0,ie.b$)()?zn(B!==Nn.SESSION,U,"unsupported-persistence-type"):(0,ie.UG)()?zn(B===Nn.NONE,U,"unsupported-persistence-type"):_n()?zn(B===Nn.NONE||B===Nn.LOCAL&&(0,ie.hl)(),U,"unsupported-persistence-type"):zn(B===Nn.NONE||Lt(),U,"unsupported-persistence-type")}(Q._delegate,k),k){case Nn.SESSION:De=L.a;break;case Nn.LOCAL:De=(yield L.aC(L.i)._isAvailable())?L.i:L.b;break;case Nn.NONE:De=L.N;break;default:return L.av("argument-error",{appName:Q._delegate.name})}return Q._delegate.setPersistence(De)})()}signInAndRetrieveDataWithCredential(k){return this.signInWithCredential(k)}signInAnonymously(){return nn(this._delegate,L._(this._delegate))}signInWithCredential(k){return nn(this._delegate,L.$(this._delegate,k))}signInWithCustomToken(k){return nn(this._delegate,L.a2(this._delegate,k))}signInWithEmailAndPassword(k,Q){return nn(this._delegate,L.a9(this._delegate,k,Q))}signInWithEmailLink(k,Q){return nn(this._delegate,L.ac(this._delegate,k,Q))}signInWithPhoneNumber(k,Q){return fi(this._delegate,L.s(this._delegate,k,Q))}signInWithPopup(k){var Q=this;return(0,d.Z)(function*(){return Bn(Zn(),Q._delegate,"operation-not-supported-in-this-environment"),nn(Q._delegate,L.c(Q._delegate,k,Yn))})()}signInWithRedirect(k){var Q=this;return(0,d.Z)(function*(){return Bn(Zn(),Q._delegate,"operation-not-supported-in-this-environment"),yield Nr(Q._delegate),L.f(Q._delegate,k,Yn)})()}updateCurrentUser(k){return this._delegate.updateCurrentUser(k)}verifyPasswordResetCode(k){return L.a7(this._delegate,k)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return U.Persistence=Nn,U})();function _r(U,B,k){let Q=U;"function"!=typeof U&&({next:Q,error:B,complete:k}=U);const De=Q;return{next:Rt=>De(Rt&&Wt.getOrCreate(Rt)),error:B,complete:k}}function kn(U,B){const k=function Jt(U,B){const k=gt();if(!k)return[];const Q=L.aD(Kn,U,B);switch(k.getItem(Q)){case Nn.NONE:return[L.N];case Nn.LOCAL:return[L.i,L.a];case Nn.SESSION:return[L.a];default:return[]}}(U,B);if(typeof self<"u"&&!k.includes(L.i)&&k.push(L.i),typeof window<"u")for(const Q of[L.b,L.a])k.includes(Q)||k.push(Q);return k.includes(L.N)||k.push(L.N),k}class zr{constructor(){this.providerId="phone",this._delegate=new L.P(vr(N.Z.auth()))}static credential(B,k){return L.P.credential(B,k)}verifyPhoneNumber(B,k){return this._delegate.verifyPhoneNumber(B,k)}unwrap(){return this._delegate}}zr.PHONE_SIGN_IN_METHOD=L.P.PHONE_SIGN_IN_METHOD,zr.PROVIDER_ID=L.P.PROVIDER_ID;const kr=L.aA;class Gr{constructor(B,k,Q=N.Z.app()){var De;kr(null===(De=Q.options)||void 0===De?void 0:De.apiKey,"invalid-api-key",{appName:Q.name}),this._delegate=new L.R(B,k,Q.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G(U){U.INTERNAL.registerComponent(new me.wA("auth-compat",B=>{const k=B.getProvider("app-compat").getImmediate(),Q=B.getProvider("auth");return new $n(k,Q)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:L.A.EMAIL_SIGNIN,PASSWORD_RESET:L.A.PASSWORD_RESET,RECOVER_EMAIL:L.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:L.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:L.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:L.A.VERIFY_EMAIL}},EmailAuthProvider:L.Q,FacebookAuthProvider:L.U,GithubAuthProvider:L.W,GoogleAuthProvider:L.V,OAuthProvider:L.X,SAMLAuthProvider:L.Y,PhoneAuthProvider:zr,PhoneMultiFactorGenerator:L.m,RecaptchaVerifier:Gr,TwitterAuthProvider:L.Z,Auth:$n,AuthCredential:L.J,Error:ie.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),U.registerVersion("@firebase/auth-compat","0.4.2")}(N.Z)},5861:(Dt,ce,$)=>{"use strict";function d(L,ie,le,ae,me,ve,Ce){try{var K=L[ve](Ce),W=K.value}catch(te){return void le(te)}K.done?ie(W):Promise.resolve(W).then(ae,me)}function N(L){return function(){var ie=this,le=arguments;return new Promise(function(ae,me){var ve=L.apply(ie,le);function Ce(W){d(ve,ae,me,Ce,K,"next",W)}function K(W){d(ve,ae,me,Ce,K,"throw",W)}Ce(void 0)})}}$.d(ce,{Z:()=>N})}},Dt=>{Dt(Dt.s=7938)}]);